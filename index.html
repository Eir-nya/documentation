<html>
    <head>
        <meta charset="utf-8"/>
        
		<title>Unitale/CYF Documentation</title>
        <link rel="stylesheet" href="css/css.css">
        <link rel="stylesheet" href="css/rainbow-monokai.css">
        <link rel="shortcut icon" type="image/ico" href="img/favicon.ico">
        <script src="js/title_in_page.js"></script>
	</head>
	
	<body>
        <img id="backimg" src="img/bg2.png">
        
        <div id="main">
            
            <div id="sidebar">
                <div class="sidebar-item" style="text-align: center;">
                    <a href="index.html#index" onclick="javascript:loadPage('index'); redirectUrl();" style="text-decoration: none;color: #fff;font-family: segoe ui; font-size: initial;">
                        <img src="img/logo.png" width="90" style="margin-top: 5px;">
                        <br>
                        Unofficial Unitale/CYF<br>Documentation
                    </a>
                </div>
                <div class="sidebar-item indent">
                    <hr>
                    <a href="javascript:fontSwitch();" onmouseover="switchFontbt();" onmouseleave="switchFontbt();"><img id="fontbt" src="img/btn/fontbt_0.png"></a><br>
                    Search for a page or its contents:
                    <br>
                    <input type="text" id="search-box" style="width: 165px;">
                    <button onClick="search();" id="search-button" style="position: relative; left: 5px; width:40px;">Go</button>
                </div>
                <br>
                <div class="sidebar-item indent">
                    Main
                    <ul>
                        <li><a href="index.html#index" onclick="javascript:loadPage('index'); redirectUrl();">Main Page</a></li>
                        <li><a href="javascript:random_page();">Random Page</a></li>
                        <li><a href="index.html#styletest" onclick="javascript:loadPage('styletest'); redirectUrl();">Style test (TEMP)</a></li>
                    </ul>
                    <hr>
                    <a href="index.html#read_docs" onclick="javascript:loadPage('read_docs'); redirectUrl();">Reading this Documentation</a>
                    <br><br>
                    Player's Guide
                    <ul>
                        <li><a href="index.html#launch" onclick="javascript:loadPage('launch'); redirectUrl();">First-time User Guide</a></li>
                        <li><a href="index.html#troubleshooting" onclick="javascript:loadPage('troubleshooting'); redirectUrl();">Troubleshooting</a></li>
                        <li><a href="index.html#controls" onclick="javascript:loadPage('controls'); redirectUrl();">Game Controls</a></li>
                    </ul>
                    <br>
                    Mod-making Guidelines
                    <ul>
                        <li><a href="index.html#make_mod" onclick="javascript:loadPage('make_mod'); redirectUrl();">How to Make a Mod</a></li>
                        <li><a href="index.html#learn_lua" onclick="javascript:loadPage('learn_lua'); redirectUrl();">Learning Lua</a></li>
                        <li><a href="index.html#error_screens" onclick="javascript:loadPage('error_screens'); redirectUrl();">Error Screens</a></li>
                    </ul>
                    <br>
                    Engine Documentation
                    <ul>
                        <li><a href="index.html#basic_setup" onclick="javascript:loadPage('basic_setup'); redirectUrl();">Basic Setup</a></li><br>
                        <li>
                            Script References
                            <ul>
                                <li><a href="index.html#outline_encounter" onclick="javascript:loadPage('outline_encounter'); redirectUrl();">The Encounter Script</a></li>
                                <li><a href="index.html#outline_monster" onclick="javascript:loadPage('outline_monster'); redirectUrl();">The Monster Script</a></li>
                                <li><a href="index.html#outline_wave" onclick="javascript:loadPage('outline_wave'); redirectUrl();">The Wave Script</a></li>
                            </ul>
                        </li><br>
                        <li><a href="index.html#game_states" onclick="javascript:loadPage('game_states'); redirectUrl();">Game States</a></li>
                        <li><a href="index.html#game_events" onclick="javascript:loadPage('game_events'); redirectUrl();">Game Events</a></li>
                        <li><a href="index.html#special_functions" onclick="javascript:loadPage('special_functions'); redirectUrl();">Special Functions</a></li>
                        <li><a href="index.html#special_variables" onclick="javascript:loadPage('special_variables'); redirectUrl();">Special Variables</a></li>
                        <li><a href="index.html#text_commands" onclick="javascript:loadPage('text_commands'); redirectUrl();">Text Commands</a></li><br>
                        <li>
                            Objects
                            <ul>
                                <li>The Player Object <img src="img/object_player.png" width="16" height="16"></li>
                                <li>The Script Object <img src="img/object_script.png" width="16" height="16"></li>
                                <li>The Audio Object <img src="img/object_audio.png" width="16" height="16"></li>
                                <li>The Input Object <img src="img/object_input.png" width="16" height="16"></li>
                                <li>The Time Object <img src="img/object_time.png" width="16" height="16"></li>
                                <li class="cyf">The NewAudio Object <img src="img/object_newaudio.png" width="16" height="16"></li>
                                <li class="cyf">The Inventory Object</li>
                                <li class="cyf">The Text Object <img src="img/object_text.png" width="16" height="16"></li>
                                <li>The Bullet Object <img src="img/object_bullet.png" width="16" height="16"></li>
                                <li>The Arena Object <img src="img/object_arena.png" width="16" height="16"></li>
                            </ul>
                        </li><br>
                        <li>Projectile Management</li>
                        <li>Sprites & Animation</li>
                        <li class="cyf">Key List</li>
                        <li class="cyf">Pixel-Perfect Collision</li>
                    </ul>
                    <br>
                    <font class="cyf">Overworld</font>
                    <ul>
                        <li>Installing the correct Unity version</li>
                        <li>Basics</li>
                        <li>How to create a Map</li>
                        <li>How to create an Event</li>
                        <li>How to animate an Event</li>
                        <li>How to create a Shop</li><br>
                        <li>
                            Objects
                            <ul>
                                <li>The General Object</li>
                                <li>The Event Object</li>
                                <li>The Player Object</li>
                                <li>The Screen Object</li>
                                <li>The Inventory Object</li>
                                <li>The Map Object</li>
                            </ul>
                        </li><br>
                    </ul>
                </div>
                <br>
                <!-- <button style="border-radius: 20px;border: 1px dashed #fff;padding:12px;display:block;margin-right:15px;text-align:center;font-size:20px;font-weight:bold;text-decoration:none;"> -->
                <button onclick="javascript:window.scrollTo(0, 0);" id="scrollbtn">
                    ↑   Scroll To Top   ↑
                </button>
                <br><br>
            </div>
            
            <!-- [PAGE: JAVASCRIPT ERROR] -->
            
            <span class="page.active" id="jserror" name="Error">
                <br>
                <div class="separator"></div>
                <h1>Error</h1>
                <br>
                <b>JavaScript must be enabled</b> for this documentation to be viewed.<br>
                <br>
            </span>
            
            <!-- [PAGE: MAIN PAGE] -->
            
            <span class="page" id="index" name="Main Page">
                <br>
                <div class="separator"></div>
                <img src="img/logo.png" width="150" style="position:relative;left:50%;margin-left:-80px;top:20px;">
                <h2 style="text-align: center;">Unofficial Unitale/CYF<br>Documentation</h2><br>
                <h3 style="text-align: center; font-weight: initial;">For <b class="unitale">Unitale</b> version <b>0.2.1a</b><br>
                and <b class="cyf">Create Your Frisk</b> version <b>0.6.3</b></h3>
                <br>
                <div class="separator"></div>
                
                <p>
                     <h1>Welcome to my unofficial Unitale Documentation rework!</h1>
                     <br>
                     The original documentation scared off a lot of new users, so <b>Documentation V2.0</b> aims to be friendlier and easier to follow!
                </p>
                
                <p>
                    <br>
                    Every <b>page</b> in this documentation is available for viewing in the <b>left-hand sidebar.</b>
                    <br><br>
                    You may wish to start with <a href="javascript:loadPage('read_docs');">Reading This Documentation</a>.
                    <br><br>
                </p>
                
                <div class="separator"></div>
                
                <p>
                    We have a <a href="http://www.reddit.com/r/Unitale">subreddit</a> and a
                    <a href="https://discord.gg/0c8fN7KCwBh4ZBL9">Discord Server</a> (<a href="https://discord.gg/GFJ5277">alt</a>)!
                    <br>
                    Please consider visiting these places to get modding help and feedback.
                </p>
                
                <p>
                    <h1>Credits</h1>
                </p>
                
                <p>
                    Code Highlighter - <b>Rainbow</b> by <b>Craig Campbell</b> (<a href="http://rainbowco.de/">rainbowco.de</a>)
                    <br><br>
                    <i>Undertale</i> and all of its assets are owned by <b>Toby Fox</b>. This engine was created with his permission.
                    <br><br>
                    <h3>Selling this engine, or anything created with it, is <u>illegal</u> as stated by Toby Fox.</h3>
                </p>
            </span>
            
            <!-- [PAGE: STYLE TEST (TEMP)] -->
            
            <span class="page" id="styletest" name="Style Test Page">
                <script type="text/javascript">writeTitle("Style Test Page");</script>
                <div class="infobox">
                    <table>
                        <tr><th>This is the title</th></tr>
                        <tr>
                            <td>
                                <img id="thumbnail" src="img/Unity.png" width="150"><br>
                                This is the description
                            </td>
                        </tr>
                    </table>
                    <table>
                        <th colspan="2">Section Title</th>
                        <tr>
                            <th>Left 1</th>
                            <td>Right 1</td>
                        </tr>
                        <tr>
                            <th>Left 2</th>
                            <td>Right 2</td>
                        </tr>
                        <tr>
                            <th>Left 3</th>
                            <td>Right 3</td>
                        </tr>
                    </table>
                </div>
                
                <div class="contents">
                    <span class="toggle">
                        <b>Contents</b>
                    </span>
                    <ol>
                        <li><a href="">a</a></li>
                        <li>
                            <a href="">b</a>
                            <ol type="a">
                                <li>hui</li>
                            </ol>
                        </li>
                    </ol>
                </div>
                <br>
                
                <p>
                    This is some regular text.<br>
                    <b>This is some bolded text.</b><br>
                    <i>This is some italicized text.</i><br>
                    <u>This is some underlined text.</u><br>
                    <b style="color:red">This is some bolded red text.</b><br>
                    <font style="color:red">This is some red text.</font><br>
                    <span class="quote">This is a quote.</span><br>
                    <h4>This is some h4 text.</h4><br>
                    <kbd>Esc</kbd>
                </p>
                
                <b class="tooltip" title="Tooltip test.">Tooltip test.</b>
                
                <p>
                    And this <code class="inline">is some inline code</code> followed by some text.<br>
                    <code>This is some regular code.</code> it belongs on its own line.<br>
                </p>
                
                <p>
                    <div class="cyf">CYF-exclusive feature</div><br>
                    <div class="unitale">Unitale-exclusive feature</div>
                </p>
                
                <p>
                    <div class="function">
                        Player.Move(<div class="number">x</div>, <div class="number">y</div>, <div class="boolean optional">ignoreWalls</div> = false) [E/M/W]
                    </div>
                    <br>
                    <div class="arguments desc">
                        Moves the player <code class="inline">x</code> pixels right and <code class="inline">y</code> pixels up.
                    </div>
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li><div class="number">x</div>: The amount of pixels <b>right</b> the Player will be moved.</li>
                            <li><div class="number">y</div>: The amount of pixels <b>up</b> the Player will be moved.</li>
                            <li>
                                <div class="boolean">ignoreWalls</div>
                                <i>(optional, <code class="inline">false</code> by default)</i>:
                                If true, the Player will ignore the <b>Arena</b>'s boundaries.<br>
                                Note that <code class="inline">Player.SetControlOverride(true)</code> must be called first to use this correctly.
                            </li>
                        </ul>
                    </div>
                </p>
                
                <p>
                    <table class="outline">
                        <tr>
                            <th>State</th>
                            <th>Picture</th>
                            <th>When does it occur?</th>
                        </tr>
                        <tr>
                            <td><div class="arguments desc"><b class="string">"ACTIONSELECT"</b></div></td>
                            <td><img src="img/state_actionselect.png" width="300" height="115"></td>
                            <td>
                                When returning to the <b>Player's turn</b>.
                                <br><br>
                                <b>FIGHT</b>, <b>ACT</b>, <b>ITEMS</b> and <b>MERCY</b> can<br>
                                be chosen.
                            </td>
                        </tr>
                        <tr>
                            <td><div class="arguments desc"><b class="string">"ATTACKING"</b></div></td>
                            <td><img src="img/state_attacking.png" width="300" height="75"></td>
                            <td>
                                While <b>attacking</b> an enemy (the <b>target</b><br>
                                and the line appear).
                            </td>
                        </tr>
                    </table>
                </p>
                
                <p>
<pre><code data-language="lua">-- Hello this is comment yes yes
test = " \"my string rules!\" \n\r lol \\ backslash too"
57.0123

-- has anyone really been far even as decided to use even go
and end in repeat break local return do for then else elseif function goto not if or until while
-- want to do look more like???
"and end in repeat break local return do for then else elseif function goto not if or until while"

correct   =  true
incorrect = false

print(1 == 2 and (5 + 7 - 3 / 1 ^ 3 % 9 * 2 | 4) or nil)
20 goto 10

function myThing(a, b, c)
end

print require module
"print require module"
thing(57)
my.thing(48)

enemies[1]

-- regex test
table
table.insert
math.random
tonumber
tonumber(7)
math.random(10, 20)
table.insert(test, 7)

table.insert()hello

-- m'regex
-- m'lady

-- finally, tables!
table.insert(temp, 7)
{ hi = "hi", there = "there" }
BattleDialog({"You are cool."})

end</code></pre>
                </p>
            </span>
            
            <!-- [PAGE: SEARCH] -->
            
            <span class="page" id="search" name="Search Results">
                
            </span>
            
            <!-- [PAGE: FIRST-TIME USER GUIDE] -->
            
            <span class="page" id="launch" name="First-time User Guide">
                <script type="text/javascript">writeTitle("First-time User Guide");</script>
                <div class="contents">
                    <span class="toggle">
                        <b>Contents</b>
                    </span>
                    <ol>
                    <li><a href="#which_engine">Which Engine do I Use?</a></li>
                    <li><a href="#how_battle">How do I add Battles to Play?</a></li>
                    <li><a href="#where_mods">Where can I find Mods to Download?</a></li>
                    <li><a href="#how_discord">How can I join the Unitale Discord Server?</a></li>
                    <li><a href="#package">The Game Window</a></li>
                    <li><a href="#play">Installing and Playing Mods</a></li>
                    </ol>
                </div>
                
                <p>
                    <div class="separator"></div>
                    <div class="infobox">
                        <table>
                            <tr><th>Unitale</th></tr>
                            <tr><td><img id="thumbnail" src="img/Unity.png" width="75"><br></td></tr>
                        </table>
                        <table>
                            <tr>
                                <th>Mediafire Links</th>
                                <td>
                                    <a href="http://www.mediafire.com/download/vdc68keyscje66o/UNITALE_Alpha_0.2.1a_for_Windows.zip">Windows</a>
                                    <br>
                                    <a href="http://www.mediafire.com/download/enhccc3hepuki51/UNITALE_Alpha_0.2.1a_for_Mac.zip">Mac</a>
                                    <br>
                                    <a href="http://www.mediafire.com/download/xqwxuh1nx3mmtcm/UNITALE_Alpha_0.2.1a_for_Linux.zip">Linux</a>
                                </td>
                            </tr>
                            <tr>
                                <th>MEGA Mirrors</th>
                                <td>
                                    <a href="https://mega.nz/#!bQNExDTJ!8C8LvIYKIG1Du5wiCxvzQGCWyxg9lw-VIfHeyjnQ-d0">Windows</a>
                                    <br>
                                    <a href="https://mega.nz/#!HZcEibCL!yUvFz5h3mfvMIt6JzQLWbdqtyk2rML20sGpm1L26nOQ">Mac</a>
                                    <br>
                                    <a href="https://mega.nz/#!CQMCXI7a!MBIRJDiF8aDGHpckqPsOA9_DxIwOynewRv1vVRV_S98">Linux</a>
                                </td>
                            </tr>
                        </table>
                    </div>
                    
                    <div class="infobox" style="top: 10;">
                        <table>
                            <tr><th>Create Your Frisk</th></tr>
                            <tr>
                                <td><img id="thumbnail" src="img/logo.png" width="75"><br></td>
                            </tr>
                        </table>
                        <table>
                            <tr>
                                <th>Downloads</th>
                                <td><a href="https://github.com/RhenaudTheLukark/CreateYourFrisk/releases/tag/v0.6.3">GitHub Release Page</a></td>
                            </tr>
                        </table>
                    </div>

                    <a name="which_engine"><h2>Which Engine do I Use?</h2></a>
                </p>
                
                <p>
                    <!--<ol>
                        <li>-->
                            Whichever one you pick is your preference, but <b>CYF is recommended</b> (see below).
                            <br>
                            Here is some information to help you choose:
                            <br><br>
                            <b>Download links are to the right.</b>
                            <br><br>
                            <table class="outline">
                                <tr>
                                    <th></th>
                                    <th class="unitale">Unitale</th>
                                    <th class="cyf">Create Your Frisk</th>
                                </tr>
                                <tr>
                                    <td>Latest Version</td>
                                    <td>v0.2.1a</td>
                                    <td>v0.6.3</td>
                                </tr>
                                <tr>
                                    <td>Last Updated</td>
                                    <td>March 13th, 2016</td>
                                    <td>May 15th, 2019</td>
                                </tr>
                                <tr>
                                    <td>In active development</td>
                                    <td>No</td>
                                    <td>Yes</td>
                                </tr>
                                <tr>
                                    <td><b>Windows</b> Compatibility</td>
                                    <td>Good</td>
                                    <td rowspan="3">Good</td>
                                </tr>
                                <tr>
                                    <td><b>Mac</b> Compatibility</td>
                                    <td rowspan="2">Bad</td>
                                </tr>
                                <tr><td><b>Linux</b> Compatibility</td></tr>
                                <tr>
                                    <td>Branch status</td>
                                    <td>The original project</td>
                                    <td>A fork of Unitale</td>
                                </tr>
                                <tr>
                                    <td>Open source</td>
                                    <td><a href="https://github.com/lvk/Unitale">Yes</a></td>
                                    <td><a href="https://github.com/RhenaudTheLukark/CreateYourFrisk">Yes</a></td>
                                </tr>
                            </table>
                            <br>
                            <b>* NOTE: CYF <u>CAN</u> play mods made for Unitale!</b>
                            <br><br>
                            CYF features many new features Unitale does not have, including but not limited to: the Overworld, text objects, a more customizeable Player status, save files and permanent globals, better Audio control, numerous bug fixes and improvements, and more.
                            <br><br>
                            <br>
                            Updates to CYF are sent to the <a href="https://github.com/RhenaudTheLukark/CreateYourFrisk/releases">GitHub releases page</a> first, and the <a href="https://discord.gg/0c8fN7KCwBh4ZBL9">Unitale Discord Server</a>
                            (<a href="https://discord.gg/GFJ5277">alt</a>) second, in the channel "#cyf-announcements".
                        <!--</li>
                        
                        <br>
                        
                        <li>
                            <b>Extract the archive.</b>
                            <br>
                            This is one of the easier steps. Every download gives a .zip file, and it's up to you to use an archive extractor of your choice to extract your download.
                            <br>
                            Some recommended ones, if needed, are <a href="https://www.7-zip.org/">7-zip</a>, <a href="https://www.win-rar.com/">WinRAR</a>, and <a href="https://www.winzip.com/">WinZip</a>.
                        </li>
                        
                        <li>
                            <b>Ensure that all files are present</b>
                            <br>
                            There are often reports of files and folders missing from the Unitale/CYF directories (the archive you extracted).
                            <br>
                            <ol>
                                <li>
                                    <b>The Default folder.</b> Make sure that a folder named <code class="inline">Default</code> is present in the same location as the executable.
                                </li>
                                <li>
                                    <b>The Data folder.</b> Check that a folder is present whose name matches the following:
                                    <br>
                                    <code class="inline">executable_name_Data</code> with spaces replaced with underscores
                                    <br>
                                    For example, if your exectuable file is named <code class="inline">Unitale Alpha 0.2.1a.exe</code>,
                                    this folder would be named <code class="inline">Unitale_Alpha_0.2.1a_Data</code>.
                                </li>
                            </ol>
                            <br>
                            If either of these folders are missing:
                            <ol>
                                <li><b>Try to download the archive again.</b></li>
                                <li><b>Try extracting the archive again.</b></li>
                                <li><b>Try using a different archive extractor or a different browser.</b></li>
                            </ol>
                        </li>
                    </ol>-->
                    
                    <!--
                    <h3>Linux</h3>
                    
                    <ol start="4">
                        <li>
                            <b>Ensure that you have the required dependencies.</b>
                            <br><br>
                            The Linux port of Unitale and CYF require these libraries to be installed (get the 32-bit versions of these):
                            <br>
                            <ul>
                                <li><code class="inline">libglu1-mesa</code></li>
                                <li><code class="inline">libxcursor1</code></li>
                                <li><code class="inline">libxrandr2</code> (in case of failure, try <code class="inline">libxrandr</code>)</li>
                            </ul>
                            Try using <code class="inline">sudo apt-get install &lt;package name&gt;</code> for each of these.
                            <br>
                            You can also use <code class="inline">ldd Unitale_or_CYF.exe</code> to check if any required packages are not found.
                        </li>
                    </ol>
                    
                    <h3>All versions:</h3>
                    -->
                    
                    <!-- <ol start="5"> -->
                    <!--
                    <ol start="4">
                        <li>
                            <b>Launch the game.</b> Open either <code class="inline">Unitale_Alpha_0.2.1a.exe</code> or
                            <code class="inline">Create Your Frisk v???.exe</code>. Everything should just work!
                            <br>
                            If not, see <a href="javascript:loadPage('troubleshooting');">Troubleshooting</a>.
                        </li>
                    </ol>
                    -->
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="how_battle"><h2>How do I add Battles to Play?</h2></a>
                </p>
                
                <p>
                    The engine runs on a system called <b>"Mods"</b>.<br>
                    Mods are what people create and release, and are what you will download to play.
                    <br>
                    <ol class="spaced">
                        <li><b>Find and download a mod.</b> See below for more information.</li>
                        <li><b>Extract it.</b> Some recommended programs for this are <a href="https://www.7-zip.org/">7-zip</a>,
                            <a href="https://www.win-rar.com/">WinRAR</a> and <a href="https://www.winzip.com/">WinZip</a>.</li>
                        <li><b>Follow the instructions for your operating system:</b>
                            <ul class="spaced">
                                <li><b>WINDOWS/LINUX USERS:</b> Add the extracted folder to the engine's <code class="inline">Mods</code> folder.</li>
                                <li><b>MAC USERS:</b> Follow the guide included in <code class="inline">How to add mods to CYF (Mac).txt</code>.<br>
                                    <span class="unitale">Unitale has problems running on Mac.</span> You may need to <a href="#troubleshooting:issue3">Use Wine</a>
                                    and <b>follow the procedure for Windows</b>.</li>
                            </ul>
                            If you're having trouble, see <a href="#play">Installing and Playing Mods</a>.
                        </li>
                        <li><b>Launch the engine</b>. The mod(s) you added should now appear in the <b>Mod Selection Screen</b>.</li>
                    </ol>
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="where_mods"><h2>Where can I find Mods to Download?</h2></a>
                </p>
                
                <p>
                    You can find mods to play by searching for them.<br>
                    Use your favorite search engine to search for "unitale mods", "cyf mods", etc.
                    <br><br>
                    You can also <a href="https://www.reddit.com/r/Unitale/search?q=flair%3Amod&sort=new&restrict_sr=on&t=all">Search the Subreddit</a>.
                    <br><br>
                    Finally, you can also see the
                    <a href="https://www.reddit.com/r/Unitale/comments/9yx2hb/what_are_some_fights_youd_recommend/ea53ew4/">Recommended Mods List</a>.
                    This will be updated regularly.
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="how_discord"><h2>How can I join the Unitale Discord Server?</h2></a>
                </p>
                
                <p>
                    We have a discord server featuring <b>general and offtopic discussion</b>, <b>modding help channels</b>, and a <b>mod feedback
                    channel</b>!
                    <br><br>
                    You can join it <a href="https://discord.gg/0c8fN7KCwBh4ZBL9">here</a> (<a href="https://discord.gg/GFJ5277">alternate link</a>).
                    <br><br>
                    <b>* You <u>must</u> read the <code class="inline">#readme</code> channel before trying to post!</b>
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="package"><h2>The game window</h2></a>
                </p>
                
                <p>
                    <h3>Disclaimer Screen</h3>
                    <div class="separator"></div>
                    Upon starting up Unitale or Create Your Frisk, you will be greeted with one of these two screens:
                    <br>
                    <img class="outline" src="img/startup-unitale.png" width="320">
                    <img class="outline" src="img/startup-cyf.png" width="320">
                    <br>
                    Clicking the screen or pressing <kbd>Space</kbd> will take you to the <b>Mod Selection Screen</b>.
                    <br>
                    <span class="cyf">In CYF</span>, pressing <kbd>O</kbd> will prompt you to enter a player name (up to 9 characters in length), before taking you to the overworld.
                </p>
                
                <p>
                    <h3 class="Unitale">Mod Selection Screen</h3>
                    <div class="separator"></div>
                    The <b>Mod Selection Screen</b> allows you to choose and play encounters.
                    <br>
                    <img class="outline" src="img/modselect_Unitale.png" width="480">
                    <br>
                    The <b>Mod Selection Screen</b> in <span class="Unitale">Unitale</span> and versions of <span class="cyf">CYF</span> before <code class="inline">v0.6.2</code> looks like this.
                    <br><br>
                    Unitale comes with two mods: "Examples" and "Encounter Skeleton".
                    <br><br>
                    Simply <b>Click on a Mod's name</b> to open the <b>Encounter Selection screen</b>.
                    <br>
                    Then, <b>Click on an encounter's name</b> to play it, or click "Back" to return to the Mod list.
                </p>
                
                <p>
                    <h3 class="cyf">Mod Selection Screen (CYF)</h3>
                    <div class="separator"></div>
                    The <b>Mod Selection Screen</b> allows you to choose mods to play.
                    <br>
                    <img class="outline" src="img/modselect_CYF.png" width="480">
                    <br><br>
                    CYF's <b>Mod Selection Screen</b> from version <code class="inline">v0.6.2</code> onwards looks like this.
                    <br><br>
                    CYF comes with four mods: "Encounter Skeleton", "Examples", "Examples 2" and "RTLGeno".
                    <br><br>
                    Here are the things you can do on this screen:
                    <ul>
                        <li>Click the <b>background</b> or press <kbd>Z</kbd> <b>or</b> <kbd>Enter</kbd><b>:</b> Starts a mod with one encounter, or opens a list of encounters.</li>
                        <li><b>"Exit":</b> Returns you to the Disclaimer (Title) screen.</li>
                        <li><b>"Options":</b> Takes you to the <b>Options Screen</b> (see below).</li>
                        <li>Click <b>"Mod List"</b> or press</b> <kbd>Up</kbd> <b>or</b> <kbd>C</kbd><b>:</b> Opens a small drop-down list that lets you instantly jump to any mods CYF can play*.</li>
                        <li>Click the <b>Left</b> or <b>Right</b> Arrows or press</b> <kbd>Left</kbd> <b>or</b> <kbd>Right</kbd><b>:</b> Scrolls to the next/previous mod.</li>
                    </ul>
                    * Note that Mods whose names <b>start</b> with <code class="inline">@</code> <b>won't appear</b> here.
                </p>
                
                <p>
                    <h3><span class="cyf">Options Screen</span></h3>
                    <div class="separator"></div>
                    The <b>Options Screen</b> allows you to customize CYF.
                    <br>
                    <img class="outline" src="img/options.png" width="480">
                    <br><br>
                    From here, <b>Hover over a button</b> on the left with the mouse cursor to see <b>what it does</b>,<br>
                    or click <b>Exit to Mod Select</b> to return to the <b>Mod Selection Screen</b>.
                    <br><br>
                </p>
                
                <p>
                    <h3>Everywhere Else</h3>
                    <div class="separator"></div>
                    The only other major screens you need to know about as a player are the <b>Battle Screen</b> and the <span class="cyf"><b>Overworld</b></span>.
                    <br>
                    They function exactly the same and use exactly the same controls as the areas in <i>Undertale</i> they are meant to mimic.
                    <br><br>
                    See the <a href="javascript:loadPage('controls')">Game Controls</a> page to brush up on the engine's <b>controls</b>.
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="play"><h2>Installing and Playing Mods</h2></a>
                </p>
                
                <p>
                    The engine loads mods from the folder <code class="inline">Mods</code> in the executable's main directory.
                    <br>
                    In order for a mod to be visible and playable from the mod selection screen, its file structure must mirror this example:
                    <br>
                    <code>Unitale or Create Your Frisk/
                             Mods/
                                  Mod name/
                                           Audio/
                                           Lua/
                                               Encounters/
                                               Monsters/
                                               Waves/
                                           Sounds/
                                           Sprites/</code>
                    <br>
                    For further reference, check out the file structures of the example mods included with the engine.
                    <br>
                    Once you've extracted and set up the mod to follow the above structure, open the engine and it should be listed in the mod selection screen!
                </p>
            </span>
            
            <span class="page" id="troubleshooting" name="Troubleshooting">
                <script type="text/javascript">writeTitle("Troubleshooting");</script>
                <p>
                    <i>Main page: <a href="https://www.reddit.com/r/Unitale/wiki/troubleshooting">Troubleshooting</a> (subreddit wiki)</i>
                    <br><br>
                    Having issues with the program itself? Try seeing if your issue is here first, before posting about it.
                    <h2>* DOG ERROR SCREENS are covered <a href="javascript:loadPage('error_screens');"><u>in THIS page</u></a>.</h2>
                </p>
                
                <div class="contents">
                    <span class="toggle">
                        <b>Contents</b>
                    </span>
                    <ol>
                    <li><a href="#issue1" class="cyf">The Items Menu doesn't open</a></li>
                    <li><a href="#issue2">Bullets look strange after playing for a long time</a></li>
                    <li><a href="#issue3">Mac: Mod select screen shows nothing</a></li>
                    <li><a href="#issue4">Linux: All button presses are doubled</a></li>
                    <li><a href="#issue5">The program freezes during battle</a></li>
                    <li><a href="#issue6">The program uses extreme amounts of system memory</a></li>
                    <li><a href="#end">My issue isn't listed, or the listed solutions do not work</a></li>
                    </ol>
                </div>
                
                <p>
                    <h3 class="cyf">The Items Menu doesn't open</h3>
                    <a name="issue1"></a>
                    <div class="separator"></div>
                    In <span class="Unitale">Unitale</span>, all battles had a pre-set, unchangeable set of items: <code class="inline">DOGTEST1</code> through <code class="inline">DOGTEST7</code>.
                    <br>
                    <!-- TODO: LINK -->
                    CYF, however, has the <a>Inventory Object</a>, and with its inclusion, the default items were removed.
                    <br><br>
                    If you are playing <b>a battle ported over from Unitale</b> and wish to have its items back, follow these steps:
                    <ul>
                        <li><b>CYF Version is</b> <code class="inline">v0.6.2.2</code> <b>or greater:</b> Enable Retrocompatibility mode.</li>
                        <li><b>CYF Version is</b> <code class="inline">v0.6.2.1</code> <b>or less:</b> Add these two lines to <code class="inline">EncounterStarting</code> in the encounter .lua file:
                        <br>
<pre><code data-language="lua">Inventory.AddCustomItems({"Dogtest1", "Dogtest2", "Dogtest3", "Dogtest4", "Dogtest5", "Dogtest6", "Dogtest7"}, {3, 3, 3, 3, 3, 3, 3})
Inventory.SetInventory({"Dogtest1", "Dogtest2", "Dogtest3", "Dogtest4", "Dogtest5", "Dogtest6", "Dogtest7"})</code></pre>
                        </li>
                    </ul>
                </p>
                
                <p>
                    <h3>Bullets look strange after playing for a long time</h3>
                    <a name="issue2"></a>
                    <div class="separator"></div>
                    <img class="outline" src="img/memory_leak.png" width="320" height="242">
                    <img class="outline" src="img/memory_leak2.png" width="290" height="187">
                    <br>
                    If your situation appears similar to either of the above screenshots, you may have encountered a <b>memory leak</b>.
                    <br><br>
                    A <b>memory leak</b> is an issue exclusive to <span class="unitale">Unitale</span>.
                    <span class="cyf">CYF</span> has fixed this issue.
                    <br>
                    In most cases of this bug, bullets may appear to suddenly use the wrong image, appear in the wrong place on screen, or change size inexplicably (if the bullet is supposed to have a custom scale).
                    <br>
                    Memory leaks become <b>more likely to occur as more bullets appear in-game</b>.
                    They may also persist between loading different encounters.
                    <br><br>
                    The recommended steps to fix this issue are:
                    <ul>
                        <li>Close and re-open the executable</li>
                        <li>Switch from Unitale to CYF</li>
                        <li>If in CYF, ensure that retromode is disabled</li>
                    </ul>
                </p>
                
                <p>
                    <h3>Mac: Mod select screen shows nothing</h3>
                    <a name="issue3"></a>
                    <div class="separator"></div>
                    <img class="outline" src="img/no_mods.png" width="376" height="309">
                    <br>
                    We are very happy to say that <b class="cyf">CYF has fixed the issue of platform-specific bugs!</b>
                    <br>
                    As of <code class="inline">v0.6.2.2</code>, you should no longer encounter this issue.
                    <br><br>
                    However, if you are using <span class="Unitale">Unitale</span> or an old version of Create Your Frisk, read this:
                    <br><br>
                    First of all, <b>Click on the CYF Executable</b>.
                    <br>
                    Then, <b>Click the Gear</b> and click <b>Show Package Contents</b>.
                    <br><br>
                    Now: try to move the <b>"Mods"</b> and <b>"Default"</b> folders to the following locations in order:
                    <ul>
                        <li><code class="inline">Unitale or CYF install folder/</code></li>
                        <li><code class="inline">Unitale or CYF install folder/(Unitale or CYF).app/</code></li>
                        <li><code class="inline">Unitale or CYF install folder/(Unitale or CYF).app/Contents</code></li>
                    </ul>
                    If all else fails, your best bet is to download <a href="https://www.winehq.org/">Wine</a>, a program used to emulate applications designed for Windows on other operating systems.
                    <br>
                    Once it's installed, download a <b>Windows</b> release of Unitale or Create Your Frisk, and run it with Wine.
                </p>
                
                <p>
                    <h3>Linux: All button presses are doubled</h3>
                    <a name="issue4"></a>
                    <div class="separator"></div>
                    We are very happy to say that <b class="cyf">CYF has fixed the issue of platform-specific bugs!</b>
                    <br>
                    As of <code class="inline">v0.6.2</code>, you should no longer encounter this issue.
                    <br><br>
                    However, if you are using <span class="Unitale">Unitale</span> or an old version of Create Your Frisk, read this:
                    <br><br>
                    This is a strange issue that has to do with the version of Unity that the engine was compiled in.
                    <br>
                    Ensure that you are using <b>Create Your Frisk v0.6.2 or higher</b>, or the official Linux port of Unitale.
                    <br><br>
                    If all else fails, look into <b>Wine</b> (see above issue).
                </p>
                
                <p>
                    <h3>The program freezes during battle</h3>
                    <a name="issue5"></a>
                    <div class="separator"></div>
                    <img src="img/freeze.png" width="480" height="382">
                    <br><br>
                    This is <b>most likely NOT an engine bug</b>.
                    <br>
                    It is probably an <b>infinite loop</b> in your code.
                    <br><br>
                    To solve this, you will have to go through your code, and ensure that all <b>while loops</b> terminate properly.
                    <br><br><br>
                    <i>For more on how while loops work, <a href="http://lua-users.org/wiki/ControlStructureTutorial">see here</a>.</i>
                </p>
                
                <p>
                    <h3>The program uses extreme amounts of system memory</h3>
                    <a name="issue6"></a>
                    <div class="separator"></div>
                    <img src="img/memory.png" width="414" height="238">
                    <br>
                    We are very happy to say that <b class="cyf">CYF has fixed the issue of excessive memory build-up!</b>
                    <br>
                    As of <code class="inline">v0.6.2</code>, you should no longer encounter this issue.
                    <br><br>
                    However, if you are using <span class="Unitale">Unitale</span> or an old version of Create Your Frisk, follow these steps:
                    <ul>
                        <li>Whenever possible, do not leave the engine open while not using it.</li>
                        <li>The more times you open mods, the more memory is eaten by the engine. Close the engine at the first sign of slowdown.</li>
                        <li>Limit the amount of major memory-using programs running on your computer at once.<br>
                            (Some examples may include: Discord, Steam, Google Chrome, Firefox, an antivirus running a scan, files being copied or deleted, etc.)
                        </li>
                    </ul>
                    <!--
                    Unfortunately, this issue is a much harder one to fix. Unitale and Create Your Frisk both use a lot of memory, no matter what.
                    <br>
                    And to make matters worse, the amount of memory used increases every time you load a mod.
                    <br>
                    In some cases, it's even possible for your system to tell you it is running out of memory, and it starts to automatically close programs.
                    <br><br>
                    You can follow a few steps to reduce the amount of memory <i>build-up</i>, though:
                    <ul>
                        <li>Try not to leave Unitale or Create Your Frisk open while away from your computer or doing something that will take a long time</li>
                        <li>As soon as you notice any slowdown on your computer, immediately close the engine</li>
                        <li>Limit the amount of major memory-using programs running on your computer at once<br>
                            (Some examples may include Discord, Steam, Google Chrome, Firefox, an antivirus running a scan, etc.)
                        </li>
                    </ul>
                    -->
                </p>
                
                <p>
                    <h3>My issue isn't listed, or the listed solutions do not work</h3>
                    <a name="end"></a>
                    <div class="separator"></div>
                    <ol class="indent spaced">
                        <li>If you are using <b>a mod made for Unitale in <span class="cyf">CYF</span></b>, try <b>enabling Retrocompatibility mode.</b></li>
                        <li>See the <a href="http://lua-users.org/wiki/ControlStructureTutorial">subreddit wiki's Troubleshooting page</a>.</li>
                        <li>Otherwise, consider asking for help in the <a href="http://www.reddit.com/r/Unitale">subreddit</a> or the
                            <a href="https://discord.gg/0c8fN7KCwBh4ZBL9">Discord Server</a> (<a href="https://discord.gg/GFJ5277">alt</a>).
                            <br>
                            We will help you as soon as we can.</li>
                    </ol>
                </p>
            </span>
            
            <!-- [PAGE: CONTROLS] -->
            
            <span class="page" id="controls" name="Game Controls">
                <script type="text/javascript">writeTitle("Game Controls");</script>
                This page lists all of the major keyboard controls used by the engine.
                <h3>In Battle</h3>
                <div class="separator"></div>
                <table class="outline">
                    <tr>
                        <th>Key</th>
                        <th>Action</th>
                    </tr>
                    <tr>
                        <td>Arrow Keys</td>
                        <td rowspan="2">Move in menus; Dodge in waves</td>
                    </tr>
                    <tr>
                        <td>
                            <span class="cyf"><kbd>W</kbd>, <kbd>A</kbd>, <kbd>S</kbd>, <kbd>D</kbd></span>
                        </td>
                    </tr>
                    <tr>
                        <td><kbd>Z</kbd>, <kbd>Enter</kbd></td>
                        <td>Confirm; Advance text</td>
                    </tr>
                    <tr>
                        <td><kbd>X</kbd>, <kbd>Shift</kbd></td>
                        <td>Cancel; Skip text; move at half speed during waves (hold)</td>
                    </tr>
                    <tr>
                        <td><kbd>F9</kbd></td>
                        <td>Toggle the debugger and FPS display</td>
                    </tr>
                    <tr>
                        <td><kbd>Alt</kbd> + <kbd>Enter</kbd>, <kbd>F4</kbd></td>
                        <td>Toggle Fullscreen</td>
                    </tr>
                    <tr>
                        <td><kbd>Esc</kbd></td>
                        <td>Exit battle (<span class="cyf">unless <a href="#special_variables:unescape">unescape</a> is set to <code class="inline">true</code></span>)</td>
                    </tr>
                    <tr>
                        <td><span class="cyf"><kbd>H</kbd></span></td>
                        <td>Display hitboxes of the player and bullets (only if the <b>Debugger</b> is already open)</td>
                    </tr>
                </table>
                
                <h3 class="cyf">Overworld</h3>
                <div class="separator"></div>
                <table class="outline">
                    <tr>
                        <th>Key</th>
                        <th>Action</th>
                    </tr>
                    <tr>
                        <td>Arrow Keys</td>
                        <td rowspan="2">Move throughout the world and in menus</td>
                    </tr>
                    <tr><td><kbd>W</kbd>, <kbd>A</kbd>, <kbd>S</kbd>, <kbd>D</kbd></td></tr>
                    <tr>
                        <td><kbd>Z</kbd>, <kbd>Enter</kbd></td>
                        <td>Interact; Confirm; advance text</td>
                    </tr>
                    <tr>
                        <td><kbd>X</kbd>, <kbd>Shift</kbd></td>
                        <td>Cancel; Skip text</td>
                    </tr>
                    <tr>
                        <td><kbd>F9</kbd></td>
                        <td>Toggle the debugger and FPS display</td>
                    </tr>
                    <tr>
                        <td><kbd>C</kbd>, <kbd>Ctrl</kbd></td>
                        <td>Open menu</td>
                    </tr>
                    <tr>
                        <td><kbd>Alt</kbd> + <kbd>Enter</kbd>, <kbd>F4</kbd></td>
                        <td>Toggle Fullscreen</td>
                    </tr>
                </table>
                <br>
            </span>
            
            <!-- [PAGE: HOW TO MAKE A MOD] -->
            
            <span class="page" id="make_mod" name="How to Make a Mod">
                <script type="text/javascript">writeTitle("How to Make a Mod");</script>
                <div class="contents">
                    <span class="toggle">
                        <b>Contents</b>
                    </span>
                    <ol>
                        <li><a href="#how_start">How do I get Started with Modding?</a></li>
                        <li><a href="#how_doc">How do I use the Documentation?</a></li>
                        <li><a href="#how_submit">How do I submit a finished Mod?</a></li>
                        <li><a href="#how_help">How do I get Modding Help?</a></li>
                    </ol>
                </div>
                
                <p>
                    <div class="separator"></div>
                    <a name="how_start"><h2>How do I get Started with Modding?</h2></a>
                </p>
                
                <p>
                    <ol class="indent spaced">
                        <li>
                            <!--
                            <h1 style="display: inline-block; margin-top: -17px; font-style: italic; color: #f00; text-decoration: underline;">MAKE SURE YOU KNOW LUA BEFORE STARTING!</h1>
                            <br><br>
                            -->
                            <br><br><br><br>
                            <img class="outline" src="img/lua_label.png" width="960" height="62">
                            <br><br><br><br>
                            <h2>You <u>MUST</u> know sufficient Lua <u>BEFORE</u> you start coding!</h2><br>
                            See <a href="javascript:loadPage('learn_lua');">Learning Lua</a>.
                        </li>
                        <li>
                            <b>Use a good text editor.</b>
                            <br>
                            <h3><u>DON'T</u> use regular Notepad.</h3><br>
                            Recommended editors are <a href="https://notepad-plus-plus.org/">Notepad++</a> (not related to Notepad) and
                            <a href="https://www.sublimetext.com/">Sublime Text 3</a>.
                        </li>
                        <li>
                            <b>Look at the example encounters.</b>
                            <br><br>
                            Using a good text editor, <b>open up some of the example .lua files</b> and explore the structure of
                            the variables and functions.
                            <br><br>
                            * Looking at <b>released mods</b> for coding advice is <b>NOT recommended</b>.
                        </li>
                        <li>
                            <h3 style="display: inline-block; margin-top: -3px;">READ THE DOCUMENTATION.</h3><br>
                            This is <b>very important</b>!!
                            <br><br>
                            The documentation contains <u>a LOT of information you will <b>absolutely NEED</b></u> to make a mod.
                            <br><br>
                            Start by reading the <b>introductory pages</b> and refer to it while making your mod.<br>
                            You should also consider using the <b>search feature</b>.
                        </li>
                        <li>
                            <b>Play around.</b> This is one of the best ways to learn how to do anything.
                            <br><br>
                            Just <b>copy the Encounter Skeleton</b> and <b>experiment</b> with variables, functions and values everywhere! Really, just have fun!
                        </li>
                        <li>
                            <b>Look for tutorials</b> (optional).
                            <br><br>
                            There are <b>not very many</b> user-made tutorials for this engine, but you can find them by
                            <a href="https://www.reddit.com/r/Unitale/search?q=flair%3Atutorial&restrict_sr=on&sort=new&t=all">searching the subreddit</a> or the internet.
                        </li>
                        <li>
                            <b>Ask for help as needed</b>.<br>
                            If you need help understanding anything, feel free to ask for help!
                            <br><br>
                            See <a href="#how_help">How do I get Modding Help?</a>.
                        </li>
                    </ol>
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="how_doc"><h2>How do I use the Documentation?</h2></a>
                </p>
                
                <p>
                    <i>Main page: <a href="javascript:loadPage('read_docs');">Reading this Documentation</a>.</i>
                    <br><br><br>
                    This documentation includes <b>instructions</b> on how to use almost every feature of the engine available.
                    <br><br>
                    When you are first starting to make your mod, it is recommended to read <b>each page</b> of the Documentation, <b>except</b> for the <b>Overworld</b> section.
                    <br>
                    In general, you'll want to <b>keep the Documentation open</b> while making a mod, and refer to it as needed.
                    <br><br>
                    The new <b>search feature</b> is extremely useful in navigating the documentation.
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="how_submit"><h2>How do I submit a finished Mod?</h2></a>
                </p>
                
                <p>
                    Congratulations on finishing your mod!
                    <br><br>
                    The basic procedure is this:
                    <ol class="spaced">
                        <li><b>Upload the mod</b> to a file sharing website.<br>
                        Recommendations are <a href="http://ww.dropbox.com/">Dropbox</a>, <a href="http://www.drive.google.com/">Google Drive</a>,
                        <a href="http://www.mediafire.com/">Mediafire</a> and <a href="http://www.mega.nz/">MEGA</a>.</li>
                        <li>
                            <b>Upload a preview of the mod</b> to a video sharing website (optional).
                            <br>
                            Put the download link in the <b>video description</b>.
                        </li>
                        <li>
                            <b>Make a post in <a href="http://www.reddit.com/r/Unitale">/r/Unitale</a></b>.<br>
                            Read the <a href="https://www.reddit.com/r/Unitale/comments/btdjw3/runitale_posting_guidelines/">Posting Guidelines</a>. Follow the rules for a <b>[Mod]</b> post.
                            <br><br>
                            If you have a video, link to it in your post's body.
                        </li>
                        <li>
                            <b>Make a post in the Discord Server</b> (optional).<br>
                            <br>
                            * You can find <b>links</b> to the Discord Server <a href="#launch:how_discord">here</a>.
                        </li>
                    </ol>
                    <br>
                    Here are some guidelines to follow before posting:
                    <ul class="spaced">
                        <li><b>Only post the final version of your mod</b> if possible!</li>
                        <li>
                            It is <u>highly recommended</u> that you <b>create a video preview</b> to go with the mod.<br>
                            The most recommended website to put a preview video on is <a href="http://www.youtube.com">Youtube</a>.
                            <ul class="spaced">
                                <li><b>Previews MUST be videos or gifs</b>. <u>Still images do not count</u>, as they can be easily faked.</li>
                                <li>A good program for screen recording is <a href="https://obsproject.com/">Open Broadcaster Software (OBS)</a>.</li>
                                <li>Put the <b>download</b> link for your mod in the video's <b>description</b>.</li>
                            </ul>
                        </li>
                        <li>
                            If you are using Mediafire, <b>MAKE SURE</b> that you have <b>NOT</b> uploaded the mod as a <b>Folder</b>, but as a <b>compressed file</b>.<br>
                            Users have to <b>BUY</b> Mediafire Premium to download Folders!!
                        </li>
                        <li>
                            Try to <b>avoid simple titles</b>. If possible, start your title with an <b>attention-grabbing phrase</b> that also describes the mod.<br>
                            Phrases such as <code class="inline">My first mod</code>, <code class="inline">A new, difficult encounter</code> and
                            <code class="inline">My friend made this</code> are just asking to be ignored.
                        </li>
                    </ul>
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="how_help"><h2>How do I get Modding Help?</h2></a>
                    
                    <!--
                    <div class="infobox">
                        <table>
                            <tr><th>Both of these are just fine.</th></tr>
                            <tr>
                                <td style="padding: 6px;">
                                    <img style="padding-bottom: 6px;" src="img/help_subreddit.png" width="600" height="158"><br>
                                    <img src="img/help_discord.png" width="459" height="78">
                                </td>
                            </tr>
                        </table>
                    </div>
                    -->
                </p>
                
                <p>
                    You can either <b>use the <a href="http://www.reddit.com/r/unitale">subreddit</a></b> or the <a href="#launch:how_discord">Discord Server</a> to ask for help.
                    <br><br>
                    You should <b>follow these steps</b> when asking for help. This is <b><u>extremely important</u></b>.
                    <br><br>
                    <ol class="indent spaced">
                        <li>
                            <h2 style="display: inline-block; margin-top: -8px;">Show the error or problem.</h2>
                            <br><br>
                            We can't help if we don't know <b>exactly</b> what's going wrong!
                            <br><br>
                            Please explain <u>IN DETAIL</u> <b>what</b> you are trying to do and <b>how</b> it is not working.
                            <br><br>
                        </li>
                        <li>
                            <h2 style="display: inline-block; margin-top: -8px;">Post the <u>entire script(s)</u></h2> to a
                            <h1 style="display: inline-block; margin-top: -18px; padding-top: 4px;"><u>code sharing site</u></h1>.
                            <br><br>
                            Recommendations: <a href="http://www.pastebin.com">pastebin</a> or <a href="http://www.hastebin.com">hastebin</a>.
                            <!--
                            <h1 style="color: red; text-decoration: underline; font-style: italic; font-size: 60px;">DON'T DO THIS:</h1><br>
                            <img class="outline" src="img/bad_subreddit.png" width="550" height="280">
                            <img class="outline" src="img/bad_discord.png" width="450" height="280"><br>
                            -->
                        </li>
                        <li>
                            <b>Include the version of the engine.</b> We need to know:
                            <br><br>
                            <ol>
                                <li>Are you on <b class="Unitale">Unitale</b> or <b class="cyf">Create Your Frisk</b>?</li>
                                <li>What <b>version</b> of the engine are you using?</li>
                                <li>What <b>operating system</b> are you on?</li>
                            </ol>
                        </li>
                        <li>
                            <h2 style="display: inline-block; margin-top: -8px;">Make sure you have the requisite knowledge.</h2>
                            <br><br>
                            Again:
                            <br><br>
                            <img class="outline" src="img/lua_label.png" width="960" height="60">
                            <br><br>
                            <h3>Make sure you're <a href="javascript:loadPage('learn_lua');">refreshed on Lua</a>.</h3>
                            <h3>Also: <a href="javascript:loadPage('read_docs');">refer to the Documentation</a> as needed.</h3><br>
                        </li>
                        <li>
                            <h2 style="display: inline-block; margin-top: -8px;">Test things on your own!</h3>
                            <br><br>
                            After someone tells you what to do, <u>try it on your own</u> before asking for more help.
                            <h2><u>We are not here to make your mod FOR you.</u></h2>
                        </li>
                    </ol>
                    <br>
                </p>
            </span>
            
            <!-- [PAGE: LEARNING LUA] -->
            
            <span class="page" id="learn_lua" name="Learning Lua">
                <script type="text/javascript">writeTitle("Learning Lua");</script>
                <i>Main page: <a href="https://www.reddit.com/r/Unitale/wiki/ref#wiki_lua_coding_knowledge">Lua Coding Knowledge</a> (subreddit wiki)</i>
                <br><br>
                <div class="contents">
                    <span class="toggle">
                        <b>Contents</b>
                    </span>
                    <ol>
                        <li><a href="#step">The First Step to Making a Mod</a></li>
                        <li><a href="#links">Lua Tutorial Links</a></li>
                        <li><a href="#test">Testing your Lua Code</a></li>
                    </ol>
                </div>
                
                <p>
                    <div class="separator"></div>
                    <div class="infobox">
                        <table>
                            <tr><th>Lua</th></tr>
                            <tr>
                                <td>
                                    <img id="thumbnail" src="img/Lua.png" width="150" border="0"><br>
                                    A programming language used by Garry's Mod,<br>Roblox, and many others, including Unitale.
                                </td>
                            </tr>
                        </table>
                        <table>
                            <tr>
                                <th>Links</th>
                                <td>
                                    <a href="https://www.lua.org/">Official Site</a>
                                    <br>
                                    <a href="https://www.lua.org/manual/5.3/">Reference Manual</a>
                                    <br>
                                    <a href="https://www.lua.org/demo.html">Live Demo</a>
                                    <br>
                                    <a href="https://www.lua.org/pil/contents.html">Programming in Lua: First Edition</a>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <a name="step"><h2>The First Step to Making a Mod</h2></a>
                </p>
                
                <p>
                    The first step to making a mod in Unitale and Create Your Frisk is to simply:
                    <h1 style="font-weight: bold;color: red;font-family: 'blackadder';font-size:80px;text-shadow:4px 4px 4px #000;margin-top: 0px;">
                    Learn Lua
                    </h1>
                </p>
                
                <p>
                    From CYF's own title screen:
                    <br>
                    <img class="outline" src="img/lua_label.png" width="640">
                    <br>
                </p>
                
                <p>
                    Lua is <b>REQUIRED</b> to use Unitale and Create Your Frisk. All mods for the engine are coded in Lua, which is read by the engine through use of <i>Moonsharp</i>, a Lua to C# interpreter.
                </p>
                
                <p>
                    <br>
                    <b><u>It is not the responsibility of this documentation, the Unitale discord server or the Unitale subreddit to teach you Lua.</u></b>
                    <br><br>
                    However, we can certainly link you to some great starting places for learning Lua.
                    <br>
                    See the next section, <a href="#links">Lua Tutorial Links</a>.
                </p>
                
                <!--
                <br>
                
                <p>
                    Another important note to make is looking at code examples.
                    Looking at examples and seeing how code is applied is very helpful, and even encouraged.
                    <br>
                    But <u>using someone else's code without studying it will teach you nothing.</u>
                    <br>
                    The best way to learn something is to do it yourself. Of course, if you're just starting out, looking at examples is a great way to learn.
                    But always remember to experiment on your own!
                </p>
                -->
                
                <p>
                    <div class="separator"></div>
                    <a name="links"><h2>Lua Tutorial Links</h2></a>
                </p>
                
                <p>
                    The <a href="http://lua-users.org/wiki/TutorialDirectory">lua-users Tutorials Directory</a> is our <b>recommended tutorial</b> for new users.<br>
                    Please <b>try this one first!</b>
                    <br><br>
                    You need to know <b style="color:#800; text-shadow: 1px 1px #400;">the red ones</b> here before you can use the engine:
                    <br><br>
                    <img src="img/lua_required.png" width="465" height="200">
                    <br><br>
                    You can also check out:
                    <ul>
                        <li>
                            Check out <b><a href="https://www.lua.org/pil/contents.html">Programming in Lua: First Edition</a></b> for a very in-depth step-by-step guide.
                        </li>
                        <li>
                            Another good read is <b><a href="https://www.tutorialspoint.com/lua/">tutorialspoint's Lua guide</a></b>.
                        </li>
                    </ul>
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="test"><h2>Testing Your Lua Code</h2></a>
                </p>
                
                <p>
                    Testing your Lua code is very important. This is the easiest way to learn the language, by far.
                    <br>
                    We recommend the use of the <b><a href="https://www.lua.org/demo.html">in-browser Lua demo</a></b> to test your code.
                    <br>
                    Keeping it open alongside whatever tutorial(s) you are reading allows you to test new information right away.
                    <br><br>
                    But if you really want to test it in a console window on your desktop, you can also download Lua:
                    <ul>
                        <li><b><a href="https://www.lua.org/download.html">Lua for Linux</a></b></li>
                        <li><b><a href="http://rudix.org/packages/lua.html">Lua for Mac</a></b></li>
                        <li><b><a href="https://github.com/rjpcomputing/luaforwindows/releases">Lua for Windows</a></b></li>
                    </ul>
                </p>
            </span>
            
            <!-- [PAGE: READING THIS DOCUMENTATION] -->
            
            <span class="page" id="read_docs" name="Reading this Documentation">
                <script type="text/javascript">writeTitle("Reading this Documentation");</script>
                <div class="contents">
                    <span class="toggle">
                        <b>Contents</b>
                    </span>
                    <ol>
                    <li><a href="#where">Where to find Information</a></li>
                    <li><a href="#syntax">Understanding Documentation Syntax</a></li>
                    <li><a href="#labels">Script Labels</a></li>
                    </ol>
                </div>
                
                <p>
                    <div class="separator"></div>
                    <a name="where"><h2>Where to find Information</h2></a>
                </p>
                
                <p>
                    This documentation is organized into several different sections:
                    <ul class="spaced">
                        <li>
                            <b>Player's Guide:</b> This section tells you how to set up the engine and load mods for playing.
                            <br>
                            It also covers any errors you might encounter while using the engine (but <i>not</i> errors you get while <b>making</b> a mod).
                        </li>
                        <li>
                            <b>Mod-making Guidelines:</b> This section gives information on how to develop your own mod and get used to the engine!
                            <br>
                            Lua is required to use this engine, so <a href="javascript:loadPage('learn_lua')">here is a page with info on learning it</a>.
                        </li>
                        <li>
                            <b>Engine Documentation:</b> This section covers all features of the engine you can use!
                            <br>
                            This isn't specifically going to teach you how to make a mod, that's what <b>Mod-making Guidelines</b> is for.
                            <ul class="spaced">
                                <li>The sub-section <b>Script References</b> explains everything you can possibly access from each of the 3 script types.</li>
                                <li>The sub-section <b>Objects</b> covers all of the different <b>engine objects</b> you can use in your scripts.</li>
                            </ul>
                        </li>
                        <li>
                            <b class="cyf">Overworld:</b> Create Your Frisk has a functioning Overworld system, but <b>you must use Unity to make your own.</b>
                            <ul class="spaced"><li>The sub-section <b>Objects</b> explains all of the <b>Overworld-specific objects</b> you can use in the Overworld.</li></ul>
                        </li>
                    </ul>
                    <br>
                    On top of that, this documentation also has a <b>search feature!</b>
                    <br>
                    Type anything in the search bar to the left and you should be able to find what you're looking for.
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="syntax"><h2>Understanding Documentation Syntax</h2></a>
                </p>
                
                <p>
                    This documentation uses examples that show off the <i>syntax</i> (usage) of functions and variables.
                    <br>
                    Here is an example and how to interpret it:
                    <br><br>
                    <div class="function">
                        Player.Move(<div class="number">x</div>, <div class="number">y</div>, <div class="boolean optional">ignoreWalls</div> = false) [E/M/W]
                    </div>
                    <br>
                    <div class="arguments desc">
                        Moves the player <code class="inline">x</code> pixels right and <code class="inline">y</code> pixels up.
                    </div>
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li><div class="number">x</div>: The amount of pixels <b>right</b> the Player will be moved.</li>
                            <li><div class="number">y</div>: The amount of pixels <b>up</b> the Player will be moved.</li>
                            <li>
                                <div class="boolean">ignoreWalls</div>
                                <i>(optional, <code class="inline">false</code> by default)</i>:
                                If true, the Player will ignore the <b>Arena</b>'s boundaries.<br>
                                Note that <code class="inline">Player.SetControlOverride(true)</code> must be called first to use this correctly.
                            </li>
                        </ul>
                    </div>
                </p>
                <p>
                    <table class="outline">
                        <tr>
                            <th>Part</th>
                            <th>What is it?</th>
                        </tr>
                        <tr>
                            <td><div class="arguments desc"><b>Player.Move</b></div></td>
                            <td>
                                This is the <b>name</b> of the function or property.<br>
                                You will use this name from inside your Lua scripts.
                            </td>
                        </tr>
                        <tr>
                            <td><div class="arguments desc"><div class="number">x</div></div></td>
                            <td rowspan="3">
                                These are the <b>arguments</b> the function will use.<br>
                                You can tell their types by <u>hovering over</u> the argument.
                            </td>
                        </tr>
                        <tr><td><div class="arguments desc"><div class="number">y</div></div></td></tr>
                        <tr>
                            <td><div class="arguments desc"><div class="boolean">ignoreWalls</div></div></td>
                        </tr>
                        <tr>
                            <td><div class="arguments desc"><div class="boolean">ignoreWalls</div> = false</div></td>
                            <td>
                                <code class="inline">ignoreWalls</code> is an <b>optional</b> argument.<br>
                                If you leave out this argument, it will use the <b>default value</b> of <code class="inline">false</code>.
                            </td>
                        </tr>
                        <tr>
                            <td><div class="arguments desc"><b>[E/M/W]</b></div></td>
                            <td>
                                These are <b>script labels</b>, telling you which scripts this can be used in.<br>
                                See <a href="#labels">Script Labels</a>.
                            </td>
                        </tr>
                    </table>
                    <br><br>
                    Finally, here is the proper <b>usage</b> for this function:
                    <br><br>
<pre><code data-language="lua">       -- Code --                      -- What it does --
-------------------------    --------------------------------------
Player.Move(1, 1)            -- x =  1, y =  1, ignoreWalls = false
Player.Move(2, 0)            -- x =  1, y =  1, ignoreWalls = false
Player.Move(50, 50, true)    -- x = 50, y = 50, ignoreWalls =  true</code></pre>
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="labels"><h2>Script Labels</h2></a>
                </p>
                
                <p>
                    In the previous example, you may have noticed this text just after the function's syntax: <b>[E/M/W]</b>
                    <br><br>
                    These are <b>script labels</b>. In this documentation, these will be present next to the names of functions and objects accessible from different scripts.
                    <br>
                    They simply refer to the types of scripts something is available from:
                    <ul>
                        <li><b>E:</b> Encounter Scripts</li>
                        <li><b>M:</b> Monster Scripts</li>
                        <li><b>W:</b> Wave Scripts</li>
                    </ul>
                    Mixes of the three will be present as well. For example, <b>[E/M/W]</b> means an object can be accessed from all three types of scripts.
                </p>
            </span>
            
            <!-- [PAGE: ERROR SCREENS] -->
            
            <span class="page" id="error_screens" name="Error Screens">
                <script type="text/javascript">writeTitle("Error Screens");</script>
                <div class="contents">
                    <span class="toggle">
                        <b>Contents</b>
                    </span>
                    <ol>
                    <li><a href="#mean">What does it mean?</a></li>
                    <li><a href="#how">How do I fix it?</a></li>
                    </ol>
                </div>
                
                <p>
                    <div class="separator"></div>
                    <a name="mean"><h2>What does it mean?</h2></a>
                </p>
                
                <p>
                    When making your mod, you will frequently run into <b>Error Screens</b>:
                    <br><br>
                    <img class="outline" src="img/error.png">
                    <br><br>
                    Using this image as an example, let's break down what it means:
                    <br><br>
                    <table class="outline">
                        <tr>
                            <th>Part</th>
                            <th>What is it?</th>
                        </tr>
                        <tr>
                            <td><code>error in script novaspin</code></td>
                            <td>
                                This is the <b>location</b> of the error.<br>
                                The file we need to look at is called <code class="inline">novaspin.lua</code>.
                            </td>
                        </tr>
                        <tr>
                            <td><code>31</code></td>
                            <td>
                                This is the <b>line number</b> that is causing the error.<br>
                                Inside of <code class="inline">novaspin.lua</code>, we need to go to <b>line 31</b>.
                            </td>
                        </tr>
                        <tr>
                            <td><code>4-35</code></td>
                            <td>
                                <u>You can usually ignore this.</u><br>
                                This is the <b>character range</b> of the error on the line.
                            </td>
                        </tr>
                        <tr>
                            <td><code>attempt to perform arithmetic on a nil value</code></td>
                            <td>
                                This is the <b>error message</b> and probably the most important part.<br>
                                This tells you <b>what's wrong</b> with the given line.
                            </td>
                        </tr>
                    </table>
                    <br>
                    In this example, it'd now be the modder's job to search <b>line 31</b> for any variables that might be <b>nil</b>.
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="how"><h2>How do I fix it?</h2></a>
                </p>
                
                <p>
                    It's your job to use your <b>Lua knowledge</b> to debunk the error.
                    <h2>
                        <ol class="spaced">
                            <li><a href="javascript:loadPage('learn_lua');">Make sure you're well-versed in Lua</a> first.</li>
                            <li><font style="color:#ccc">If applicable, read the</font> <b>Documentation's</b>
                                <font style="color:#ccc">entry on the function or variable you're using.</font></li>
                            <li><font style="color:#ccc">If applicable,</font> <a href="#read_docs:syntax">review this page</a>
                                <font style="color:#ccc">on how to interpret the Documentation.</font></li>
                        </ol>
                    </h2>
                    <br>
                    After that, all that can be said is "solve it as you would normally solve Lua errors".
                    <br><br><br>
                    Some error messages will have special instructions, such as:
                    <br><br>
                    <code>chunk_2:(42, 8-21): Inventory.AddItem: The first argument (item name) is nil.

See the Documentation for proper usage.</code>
                    <br>
                    Just <b>follow the instructions</b> to help solve your error.
                    <br><br>
                    In this case, <code class="inline">Inventory.AddItem</code> is not being used right.<br>
                    You'd have to read what the <b>Documentation</b> says about this function and make sure it's set up right.
                    <br><br>
                    <div class="separator"></div>
                    <h2>When in doubt, you can <a href="#make_mod:how_help">ask for Modding Help</a>.</h2>
                </p>
            </span>
            
            <!-- [PAGE: BASIC SETUP] -->
            
            <span class="page" id="basic_setup" name="Basic Setup">
                <script type="text/javascript">writeTitle("Basic Setup");</script>
                <div class="contents">
                    <span class="toggle">
                        <b>Contents</b>
                    </span>
                    <ol>
                    <li><a href="#what">What is a Mod?</a></li>
                    <li><a href="#structure">Mod Structure</a></li>
                    <li><a href="#normal">Normal States</a></li>
                    <li><a href="#special">Special States</a></li>
                    <li><a href="#pause">Pausing the Engine</a></li>
                    </ol>
                </div>
                
                <p>
                    <div class="separator"></div>
                    <a name="what"><h2>What is a Mod?</h2></a>
                </p>
                
                <p>
                    A <b>Mod</b> is basically a battle, or a set of battles, that can be loaded into the engine.<br>
                    A Mod can have any number of <b>encounters</b>, which are the battles themselves.
                    <br><br>
                    In-game, Mods are chosen from the <b>Mod Selection Screen</b>.
                    <br><br>
                    Mods with <b>one</b> encounter will instantly load said encounter on click.<br>
                    Mods with <b>more than one</b> encounter will display them in a list on click.
                    <br><br>
                    <i>In this example, </i><b>Examples</b><i> is the </i><b>Mod</b><i>, and it has multiple </i><b>Encounters</b></i>.
                    <br><br>
                    <img class="outline" src="img/multiple_encounters.png">
                    <br><br>
                    Choosing an <b>encounter</b> will load that encounter and begin the battle.
                </p>
                
                <p>
                    <div class="separator"></div>
                    <div class="infobox">
                        <table>
                            <tr><th>An example mod setup.</th></tr>
                            <tr><td><img id="thumbnail" src="img/structure_mod1.png"></td></tr>
                        </table>
                    </div>
                    <a name="structure"><h2>Mod Structure</h2></a>
                </p>
                
                <p>
                    <h1>TODO</h1>
                    <br><br>
                </p>
            </span>
            
            <!-- [PAGE: THE ENCOUNTER SCRIPT] -->
            
            <span class="page" id="outline_encounter" name="The Encounter Script">
                <script type="text/javascript">writeTitle("The Encounter Script");</script>
                <div class="contents">
                    <span class="toggle">
                        <b>Contents</b>
                    </span>
                    <ol>
                    <li><a href="#purposes">Main Purposes</a></li>
                    <li>
                        <div class="contents sub">
                            <span class="toggle">
                                <i><a href="#events">Game Events</a></i>
                            </span>
                            <ol type="a">
                                <li><a href="#EncounterStarting">EncounterStarting</a></li>
                                <li><a href="#EnemyDialogueStarting">EnemyDialogueStarting</a></li>
                                <li><a href="#EnemyDialogueEnding">EnemyDialogueEnding</a></li>
                                <li><a href="#DefenseEnding">DefenseEnding</a></li>
                                <li><a href="#HandleSpare">HandleSpare</a></li>
                                <li><a href="#HandleItem">HandleItem</a></li>
                                <li><a href="#EnteringState">EnteringState</a></li>
                                <li><a href="#Update1">Update</a></li>
                                <li><a href="#OnHit1">OnHit</a></li>
                            </ol>
                        </div>
                    </li>
                    <li>
                        <a href="#functions">Functions</a>
                        <ol type="a">
                            <li>
                                <a href="#functions_all">All-Script Functions [E/M/W]</a>
                                <ol type="A">
                                    <li>
                                        <div class="contents sub">
                                            <span class="toggle">
                                                <i><a href="#functions_all_variable">Variable-related</a></i>
                                            </span>
                                            <ol type="i">
                                                <li><a href="#SetGlobal">SetGlobal</a></li>
                                                <li><a href="#GetGlobal">GetGlobal</a></li>
                                                <li><a class="cyf" href="#SetRealGlobal">SetRealGlobal</a></li>
                                                <li><a class="cyf" href="#GetRealGlobal">GetRealGlobal</a></li>
                                                <li><a class="cyf" href="#SetAlMightyGlobal">SetAlMightyGlobal</a></li>
                                                <li><a class="cyf" href="#GetAlMightyGlobal">GetAlMightyGlobal</a></li>
                                                <li><a href="#DEBUG">DEBUG</a></li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="contents sub">
                                            <span class="toggle">
                                                <i><a href="#functions_all_state">State-related</a></i>
                                            </span>
                                            <ol type="i">
                                                <li><a href="#State">State</a></li>
                                                <li><a class="cyf" href="#GetCurrentState">GetCurrentState</a></li>
                                                <li><a class="cyf" href="#SetAction">SetAction</a></li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="contents sub">
                                            <span class="toggle">
                                                <i><a href="#functions_all_battle">Battle-related</a></i>
                                            </span>
                                            <ol type="i">
                                                <li><a href="#BattleDialog">BattleDialog / <font class="cyf">BattleDialogue</font></a></li>
                                                <li><a class="cyf" href="#SetFrameBasedMovement">SetFrameBasedMovement</a></li>
                                                <li><a class="cyf" href="#AllowPlayerDef">AllowPlayerDef</a></li>
                                                <li><a class="cyf" href="#SetPPCollision">SetPPCollision</a></li>
                                            </ol>
                                        </div>
                                    </li>
                                </ol>
                            </li>
                            <li>
                                <a href="#functions_encounter">Encounter Script Functions [E]</a>
                                <ol type="A">
                                    <li><a href="#RandomEncounterText">RandomEncounterText</a></li>
                                    <li><a class="cyf" href="#SetButtonLayer">SetButtonLayer</a></li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                    <li>
                        <div class="contents sub">
                            <span class="toggle">
                                <i><a href="#objects">Objects</a></i>
                            </span>
                            <ol type="a">
                                <li><a href="#Player">The Player Object</a></li>
                                <li><a href="#Script">The Script Object</a></li>
                                <li><a href="#Audio">The Audio Object</a></li>
                                <li><a href="#Input">The Input Object</a></li>
                                <li><a href="#Time">The Time Object</a></li>
                                <li><a class="cyf" href="#NewAudio">The NewAudio Object</a></li>
                                <li><a class="cyf" href="#Inventory">The Inventory Object</a></li>
                                <li><a class="cyf" href="#Text">The Text Object</a></li>
                                <li><a href="#Bullet">The Bullet Object</a></li>
                            </ol>
                        </div>
                    </li>
                    <li>
                        <a href="#variables">Variables</a>
                        <ol type="a">
                            <li>
                                <a class="cyf" href="#variables_all">All-Script Variables [E/M/W]</a>
                                <ol type="A">
                                    <li><a href="#isCYF">isCYF</a></li>
                                    <li><a href="#safe">safe</a></li>
                                    <li><a href="#windows">windows</a></li>
                                    <li><a href="#CYFversion">CYFversion</a></li>
                                </ol>
                            </li>
                            <li>
                                <a href="#variables_encounter">Encounter Script Variables [E]</a>
                                <ol type="A">
                                    <li>
                                        <div class="contents sub">
                                            <span class="toggle">
                                                <i><a href="#variables_encounter_battle">Battle-related</a></i>
                                            </span>
                                            <ol type="i">
                                                <li><a href="#music">music</a></li>
                                                <li><a href="#encountertext">encountertext</a></li>
                                                <li><a href="#nextwaves">nextwaves</a></li>
                                                <li><a href="#wavetimer">wavetimer</a></li>
                                                <li><a href="#arenasize">arenasize</a></li>
                                                <li><a href="#enemies">enemies</a></li>
                                                <li><a href="#enemypositions">enemypositions</a></li>
                                                <li><a class="cyf" href="#Wave">Wave</a></li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="contents sub">
                                            <span class="toggle">
                                                <i><a class="cyf" href="#variables_encounter_eob">End of battle-related</a></i>
                                            </span>
                                            <ol type="i">
                                                <li><a href="#unescape">unescape</a></li>
                                                <li><a href="#flee">flee</a></li>
                                                <li><a href="#fleesuccess">fleesuccess</a></li>
                                                <li><a href="#fleetexts">fleetexts</a></li>
                                                <li><a href="#deathmusic">deathmusic</a></li>
                                                <li><a href="#deathtext">deathtext</a></li>
                                                <li><a href="#revive">revive</a></li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="contents sub">
                                            <span class="toggle">
                                                <i><a class="cyf" href="#variables_encounter_text">Text-related</a></i>
                                            </span>
                                            <ol type="i">
                                                <li><a href="#autolinebreak">autolinebreak</a></li>
                                                <li><a href="#playerskipdocommand">playerskipdocommand</a></li>
                                            </ol>
                                        </div>
                                    </li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                    <li><a href="#notes">Extra Notes</a></li>
                    </ol>
                </div>
                
                <p>
                    <div class="separator"></div>
                    <a name="purposes"><h2>Main Purposes</h2></a>
                </p>
                
                <p>
                    The <b>Encounter Script</b> is the most important of all the scripts.
                    <br><br>
                    It controls everything about the encounter in general, including<br>
                    <b>items</b>, <b>turns</b>, important <b>events</b>, the <b>Game Over</b> screen, <b>music</b>, the <b>encounter text</b>, and more.
                    <br><br>
                    More notably, it also houses and controls the <a href="javascript:loadPage('outline_monster');">Monster Scripts</a>
                    and <a href="javascript:loadPage('outline_wave');">Wave Scripts</a>.
                    <br><br>
                    This is the best place to put custom behaviors such as <b>turn counters</b> and <b>cutscenes</b> / <b>intros</b>.
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="events"><h2>Game Events</h2></a>
                </p>
                
                <p>
                    <i>Main page: <a href="#game_events:encounter">Encounter Script Events [E]</a></i>
                    <br><br>
                    <a name="EncounterStarting"></a>
                    <div class="function exclude"><a href="#game_events:EncounterStarting">
                        EncounterStarting()
                    </a></div>
                    <br>
                    Happens as soon as everything has loaded and the encounter is ready.
                    <br><br>
                    This is the best place to set up <b>Player stats</b> and the <b>Inventory</b>.
                    
                    <br><br><br><br>
                    
                    <a name="EnemyDialogueStarting"></a>
                    <div class="function exclude"><a href="#game_events:EnemyDialogueStarting">
                        EnemyDialogueStarting()
                    </a></div>
                    <br>
                    Happens whenever the enemies <b>start talking</b>.
                    <br><br>
                    This is the best place to set <b>monster dialogue</b> depending on how the encounter is progressing.
                    
                    <br><br><br><br>
                    
                    <a name="EnemyDialogueEnding"></a>
                    <div class="function exclude"><a href="#game_events:EnemyDialogueEnding">
                        EnemyDialogueEnding()
                    </a></div>
                    <br>
                    Happens whenever the enemies <b>stop talking</b> and the <b>waves</b> begin.
                    <br><br>
                    This is the best place to choose which <b>waves</b> should be played.
                    
                    <br><br><br><br>
                    
                    <a name="DefenseEnding"></a>
                    <div class="function exclude"><a href="#game_events:DefenseEnding">
                        DefenseEnding()
                    </a></div>
                    <br>
                    Happens whenever the active <b>waves</b> have finished.
                    <br><br>
                    This is the best place to set <b>encounter text</b> based on how the battle is going.
                    
                    <br><br><br><br>
                    
                    <a name="HandleSpare"></a>
                    <div class="function exclude"><a href="#game_events:HandleSpare">
                        HandleSpare()
                    </a></div>
                    <br>
                    Happens whenever you select the <b>Spare</b> option in the <b>MERCY</b> menu.
                    <br><br>
                    This event happens <b>regardless</b> of whether or not any enemies are spareable.
                    
                    <br><br><br><br>
                    
                    <a name="HandleItem"></a>
                    <div class="function exclude"><a href="#game_events:HandleItem">
                        HandleItem(<div class="string">item_ID</div>, <div class="number">position</div>)
                    </a></div>
                    <br>
                    Happens whenever you use an item from the <b>ITEMS</b> menu.
                    
                    <br><br><br><br>
                    
                    <a name="EnteringState"></a>
                    <div class="function exclude"><a href="#game_events:EnteringState">
                        EnteringState(<div class="string">newstate</div>, <div class="string">oldstate</div>)
                    </a></div>
                    <br>
                    This event is special. It happens whenever the game's <b>state</b> is changed.
                    
                    <br><br><br><br>
                    
                    <a name="Update1"></a>
                    <div class="function exclude"><a href="#game_events:Update1">
                        Update()
                    </a></div>
                    <br>
                    This function will be called on <b>every frame</b> during the entire battle. Even during waves.
                    
                    <br><br><br><br>
                    
                    <a name="OnHit1"></a>
                    <div class="function exclude"><a href="#game_events:OnHit1">
                        OnHit(<div class="UnitaleProjectile">bullet</div>)
                    </a></div>
                    <br>
                    This function is called every time an <b>Encounter</b> script <b>bullet</b> hits the Player.
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="functions"><h2>Functions</h2></a>
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="functions_all"><h2>All-Script Functions [E/M/W]</h2></a>
                    <br>
                    <i>Main page: <a href="#special_functions:all">All-Script Functions [E/M/W]</a></i>
                    <br><br><br>
                    These are functions accessible from <b>all scripts</b>.
                    <br><br>
                    
                    <div class="separator"></div>
                    <a name="functions_all_variable"><h3>Variable-related</h3></a>
                    <br>
                    <i>Main page: <a href="#special_functions:variable">Variable-related</a></i>
                    <br><br>
                    Functions that read or write to <b>variables</b> are here.
                    <br><br><br><br>
                    
                    <a name="SetGlobal"></a>
                    <div class="function"><a href="#special_functions:SetGlobal">
                        SetGlobal(<div class="string">name</div>, any_value)
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        Sets a <i><b>Global Variable</b></i>, which can be accessed from <b>any</b> script (see <a href="#special_functions:GetGlobal">GetGlobal</a>).
                    </div>
                    <br><br>
                    <i>Globals</i> will be <b>cleared</b> whenever the battle <b>ends</b> (you've pressed <kbd>Esc</kbd> or died).
                    
                    <br><br><br><br>
                    
                    <a name="GetGlobal"></a>
                    <div class="function"><a href="#special_functions:GetGlobal">
                        GetGlobal(<div class="string">name</div>) <u>returns</u> variable
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        Gets a previously-set <i><b>Global Variable</b></i> (see <a href="#special_functions:SetGlobal">SetGlobal</a>), <b>returning</b> its value.
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="SetRealGlobal"></a>
                    <div class="function cyf"><a href="#special_functions:SetRealGlobal">
                        SetRealGlobal(<div class="string">name</div>, any_value)
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        Sets a <i><b>Real Global Variable</b></i> to any value.
                    </div>
                    <br><br>
                    A <i>Real Global</i> is exactly the same as a <i><a href="#special_functions:SetGlobal">Global</a></i>, except that it can be accessed from the <b>Overworld</b> as well.<br>
                    Additionally, when the player <b>saves</b> in the Overworld, Real Globals are <b>saved</b>.
                    <br><br>
                    <i>Real Globals</i> will be <b>cleared</b> whenever the <b>game closes</b>.
                    
                    <br><br><br><br>
                    
                    <a name="GetRealGlobal"></a>
                    <div class="function cyf"><a href="#special_functions:GetRealGlobal">
                        GetRealGlobal(<div class="string">name</div>) <u>returns</u> variable
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        Gets a previously-set <i><b>Real Global Variable</b></i> (see <a href="#special_functions:SetRealGlobal">SetRealGlobal</a>), <b>returning</b> its value.
                    </div>
                    <br><br>
                    Usage is exactly the same as with <a href="#special_functions:GetGlobal">Globals</a>.
                    
                    <br><br><br><br>
                    
                    <a name="SetAlMightyGlobal"></a>
                    <div class="function cyf"><a href="#special_functions:SetAlMightyGlobal">
                        SetAlMightyGlobal(<div class="string">name</div>, any_value)
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        Sets an <i><b>AlMighty Global Variable</b></i> to any value.
                    </div>
                    <br><br>
                    An <i>AlMighty Global</i> is exactly the same as a <i><a href="#special_functions:SetRealGlobal">Real Global</a></i>, except that it is immediately <b>saved</b> to the player's <b>save data</b>.
                    <br><br>
                    <i>AlMighty Globals</i> can only be <b>cleared</b> by choosing <code class="inline">Reset AlMighty Globals</code> from the <b>Options</b> screen.
                    
                    <br><br><br><br>
                    
                    <a name="GetAlMightyGlobal"></a>
                    <div class="function cyf"><a href="#special_functions:GetAlMightyGlobal">
                        GetAlMightyGlobal(<div class="string">name</div>) <u>returns</u> variable
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        Gets a previously-set <i><b>AlMighty Global Variable</b></i> (see <a href="#SetAlMightyGlobal">SetAlMightyGlobal</a>), <b>returning</b> its value.
                    </div>
                    <br><br>
                    Usage is exactly the same as with <a href="#special_functions:GetGlobal">Globals</a>.
                    
                    <br><br><br><br>
                    
                    <a name="DEBUG"></a>
                    <div class="function"><a href="#special_functions:DEBUG">
                        DEBUG(<div class="string">text</div>)
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        Writes text to the <b>debug console</b>, or the <b>debugger</b> (toggleable with <kbd>F9</kbd>).
                    </div>
                    <br><br>
                    Very useful for showing the <b>values</b> of any variables you may have,<br>
                    and to confirm that certain code is <b>running</b>.
                    
                    <br><br><br><br>
                    
                    <div class="separator"></div>
                    <a name="functions_all_state"><h3>State-related</h3></a>
                    <br>
                    <i>Main page: <a href="#special_functions:state">State-related</a></i>
                    <br><br>
                    Functions that control <a href="javascript:loadPage('game_states');">Game States</a> are here.
                    <br><br><br><br>
                    
                    <a name="State"></a>
                    <div class="function"><a href="#special_functions:State">
                        State(<div class="string">state_to_go_to</div>)
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        Writes text to the <b>debug console</b>, or the <b>debugger</b> (toggleable with <kbd>F9</kbd>).
                    </div>
                    <br><br>
                    Very useful for showing the <b>values</b> of any variables you may have,<br>
                    and to confirm that certain code is <b>running</b>.
                    
                    <br><br><br><br>
                    
                    <a name="GetCurrentState"></a>
                    <div class="function cyf"><a href="#special_functions:GetCurrentState">
                        GetCurrentState() <u>returns</u> <div class="string">string</div>
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        Use this function to check what <a href="javascript:loadPage('game_states');">Game State</a> the game is currently in.
                    </div>
                    <br><br>
                    Will return a name <b><u>IN ALL CAPS</u></b>, such as <code class="inline" data-language="lua">"ACTIONSELECT"</code>.<br>
                    If the game is in <code class="inline" data-language="lua">"ENEMYDIALOGUE"</code>, this will return <code class="inline" data-language="lua">"ENEMYDIALOGUE"</code>, and so on.
                    
                    <br><br><br><br>
                    
                    <a name="SetAction"></a>
                    <div class="function cyf"><a href="#special_functions:SetAction">
                        SetAction(<div class="string">"FIGHT" or "ACT"</div>)
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        Use when entering the <a href="javascript:loadPage('game_states');">Game State</a> <code class="inline" data-language="lua">"ENEMYSELECT"</code> to decide<br>
                        if the player will use an <b>ACT command</b> on the enemy or <b>attack</b> them.
                    </div>
                    <br><br>
                    Simply use this just before calling <code class="inline" data-language="lua">State("ACTIONSELECT")</code>.
                    
                    <br><br><br><br>
                    
                    <div class="separator"></div>
                    <a name="functions_all_battle"><h3>Battle-related</h3></a>
                    <br>
                    <i>Main page: <a href="#special_functions:battle1">Battle-related</a></i>
                    <br><br>
                    Functions that control the <b>battle</b> in general are here.
                    <br><br><br><br>
                    
                    <a name="BattleDialog"></a>
                    <div class="function"><a href="#special_functions:BattleDialog">
                        BattleDialog or <font class="cyf">BattleDialogue</font>(<div class="LuaTable">{ table of <div class="string">strings</div> } list_of_strings</div>)
                    </a></div>
                    <br>
                    <div class="infobox">
                        <table>
                            <tr><th>Battle dialogue.</th></tr>
                            <tr><td><img id="thumbnail" src="img/state_dialogresult.png" width="480" height="118"></td></tr>
                            <tr><td>
<code data-language="lua">BattleDialog({"POSEUR 1 ATK 1 DEF\n"
      .. "Check message goes here."})</code>
                            </td></tr>
                        </table>
                    </div>
                    <div class="arguments desc">
                        Displays <b><i>Battle Dialogue</i></b>, such as <b>Check</b> and <b>ACT messages</b>.
                    </div>
                    <br><br>
                    Providing multiple <b>strings</b> will add additional text that is displayed when the user presses <kbd>Z</kbd> / <kbd>Enter</kbd>.
                    <br><br>
                    <div class="arguments desc">
                        Special characters:
                        <ul class="spaced">
                            <li><code class="inline">\n</code> will go to the <b>next line</b>, whilst adding a <b>star</b> (*).</li>
                            <li><code class="inline">\r</code> will go to the next line, <b>without</b> adding a star.</li>
                            <li><code class="inline">\"</code> and <code class="inline">\'</code> will each display a <code class="inline">"</code> or <code class="inline">"</code> respectively.</li>
                        </ul>
                    </div>
                    <br><br>
                    Text will <b>NOT</b> go to the next line automatically!<br>
                    See <a href="#special_variables:autolinebreak">autolinebreak</a>.
                    
                    <br><br><br><br>
                    
                    <a name="SetFrameBasedMovement"></a>
                    <div class="function cyf"><a href="#special_functions:SetFrameBasedMovement">
                        SetFrameBasedMovement(<div class="boolean">mode</div>)
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        Controls whether the player uses <b>frame-based</b> movement (<font class="tooltip" title="2 pixels per frame">2px/frame</font>),
                        or <b>time-based</b> movement (<font class="tooltip" title="120 pixels per second">120px/sec</font>).
                    </div>
                    <br><br>
                    By default, <b>time-based movement</b> is used.
                    
                    <br><br><br><br>
                    
                    <a name="AllowPlayerDef"></a>
                    <div class="function cyf"><a href="#special_functions:AllowPlayerDef">
                        AllowPlayerDef(<div class="boolean">bool</div>)
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        Enables or disables <i>Undertale's</i> <b>damage formula</b> on the player when they take damage.
                    </div>
                    <br><br>
                    <b>False</b> by default.
                    
                    <br><br><br><br>
                    
                    <a name="SetPPCollision"></a>
                    <div class="function cyf"><a href="#special_functions:SetPPCollision">
                        SetPPCollision(<div class="boolean">bool</div>)
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        <!-- TODO: LINK -->
                        Use this function to enable <a>Pixel-Perfect Collision</a> for every <b>bullet</b> in the battle by default.
                    </div>
                    <br><br>
                    <b>False</b> by default.
                    <br><br>
                    <!-- TODO: LINK -->
                    See <a>Pixel-Perfect Collision</a>.
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="functions_encounter"><h2>Encounter Script Functions [E]</h2></a>
                    <br>
                    <i>Main page: <a href="#special_functions:encounter">Encounter Script Functions [E]</a></i>
                    <br><br><br>
                    These are functions accessible from <b>all scripts</b>.
                    <br><br>
                    
                    <a name="RandomEncounterText"></a>
                    <div class="function exclude"><a href="#special_functions:RandomEncounterText">
                        RandomEncounterText() <u>returns</u> <div class="string">string</div>
                    </a></div>
                    <br>
                    Grabs a random <b>comment</b> from a random <b>enemy</b>. Mainly used to set <b>encounter text</b>.
                    <br><br>
                    Only <b>active</b> enemies will be chosen. Ones who are dead or removed with <a href="#special_functions:SetActive">SetActive</a> will be ignored.
                    
                    <br><br><br><br>
                    
                    <a name="SetButtonLayer"></a>
                    <div class="function cyf exclude"><a href="#special_functions:SetButtonLayer">
                        SetButtonLayer(<div class="string">layer</div>)
                    </a></div>
                    <br>
                    <!-- TODO: LINK -->
                    Changes the <a>sprite layer</a> of the <b>buttons</b> AND the <b>UI</b> to one of your choice.
                    <br><br>
                    This includes the <b>FIGHT</b>, <b>ACT</b>, <b>ITEM</b> and <b>MERCY</b> buttons,<br>
                    <u>AND</u> the player's <b>name</b>, <b>lv</b>, <b>hp</b> and <b>hp bar</b>.
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="objects"><h2>Objects</h2></a>
                </p>
                
                <p>
                    TODO
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="variables"><h2>Variables</h2></a>
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="variables_all"><h2 class="cyf">All-Script Variables [E/M/W]</h2></a>
                    <br>
                    <i>Main page: <a href="#special_variables:all">All-Script Variables [E/M/W]</a></i>
                    <br><br><br>
                    These are variables that can be used from <b>any script</b>.
                    <br><br>
                    They are also all <b class="cyf">CYF-exclusive</b>, so be warned!
                    <br><br><br><br>
                    
                    <a name="isCYF"></a>
                    <div class="function cyf"><a href="#special_variables:isCYF">
                        <div class="boolean">isCYF</div> = true
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        If you are using <b class="cyf">CYF</b>, this will always be <code class="inline" data-language="lua">true</code>.<br>
                        In <b class="unitale">Unitale</b>, this will be <code class="inline" data-language="lua">nil</code>.
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="safe"></a>
                    <div class="function cyf"><a href="#special_variables:safe">
                        <div class="boolean">safe</div>
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        Will be <code class="inline" data-language="lua">true</code> if you have <b>Safe Mode</b> enabled in the <b>Options</b> menu, <code class="inline" data-language="lua">false</code> otherwise.
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="windows"></a>
                    <div class="function cyf"><a href="#special_variables:windows">
                        <div class="boolean">windows</div>
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        Will be <code class="inline" data-language="lua">true</code> if you are playing on a <b>Windows</b> computer, <code class="inline" data-language="lua">false</code> otherwise.
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="CYFversion"></a>
                    <div class="function cyf"><a href="#special_variables:CYFversion">
                        <div class="string">CYFversion</div> = "0.6.3"
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        Tells you which <b>version</b> of <b class="cyf">CYF</b> the user is playing on.
                    </div>
                    
                    <br><br>
                    <div class="separator"></div>
                    <a name="variables_all"><h2>Encounter Script Variables [E]</h2></a>
                    <br>
                    <i>Main page: <a href="#special_variables:encounter">Encounter Script Variables [E]</a></i>
                    <br><br><br>
                    Variables usable from an <b>Encounter</b> script.
                    <br><br><br><br>
                    
                    <div class="separator"></div>
                    <a name="variables_encounter_battle"><h3>Battle-related</h3></a>
                    <br>
                    Variables that control the <b>battle</b> in general.
                    <br><br><br><br>
                    
                    <a name="music"></a>
                    <div class="small function"><a href="#special_variables:music">
                        <div class="string">music</div>
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        At the start of battle, this track name is loaded from <code class="inline">Your Mod/Audio/</code> and played automatically.<br>
                        So if you want to play <code class="inline">myBattle.ogg</code>, set this variable to <code class="inline" data-language="lua">"myBattle"</code>.
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="encountertext"></a>
                    <div class="infobox">
                        <table>
                            <tr><th>Encounter text.</th></tr>
                            <tr><td><img id="thumbnail" src="img/state_actionselect.png" width="480" height="185"></td></tr>
                            <tr><td><code class="inline" data-language="lua">encountertext = "Poseur strikes a pose!"</code></td></tr>
                        </table>
                    </div>
                    <div class="small function"><a href="#special_variables:encountertext">
                        <div class="string">encountertext</div>
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        This variable controls the <b>encounter text</b> - the text that<br>
                        appears when it's the player's turn (see the image to the right).
                    </div>
                    <br><br>
                    <div class="arguments desc">
                        Special characters:
                        <ul class="spaced">
                            <li><code class="inline">\n</code> will go to the <b>next line</b>, whilst adding a <b>star</b> (*).</li>
                            <li><code class="inline">\r</code> will go to the next line, <b>without</b> adding a star.</li>
                            <li><code class="inline">\"</code> and <code class="inline">\'</code> will each display a <code class="inline">"</code> or <code class="inline">"</code> respectively.</li>
                        </ul>
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="nextwaves"></a>
                    <div class="small function"><a href="#special_variables:nextwaves">
                        <div class="LuaTable">nextwaves: { table of <div class="string">strings</div> }</div>
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        Whenever it's the monster's turn (<a href="javascript:loadPage('game_states');">see "DEFENDING"</a>),<br>
                        every name in this table will be loaded as a <b>wave</b> the player will have to <b>defend</b> against.
                    </div>
                    <br><br>
                    Most of the time, you'll only want one wave at a time.<br>
                    But you <i>can</i> load <b>multiple</b> waves at the <b>same time</b>.
                    
                    <br><br><br><br>
                    
                    <a name="wavetimer"></a>
                    <div class="small function"><a href="#special_variables:wavetimer">
                        <div class="number">wavetimer</div>
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        This variable controls how <b>long</b> all <b>waves</b> will last, in <b>seconds</b>.<br>
                        So if it's set to <code class="inline" data-language="lua">4.0</code>, all waves will last only 4 seconds.
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="arenasize"></a>
                    <div class="infobox">
                        <table>
                            <tr><th>Arena size.</th></tr>
                            <tr><td><img src="img/state_defending.png" width="206" height="153"></td></tr>
                            <tr><td><code class="inline" data-language="lua">arenasize = {155, 130}</code></td></tr>
                        </table>
                    </div>
                    <div class="small function"><a href="#special_variables:arenasize">
                        <div class="LuaTable">arenasize: { table of <div class="number">x</div>, <div class="number">y</div> }</div> = {155, 130}
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        This variable controls the size of the <b>Arena</b> (in pixels) whenever<br>
                        the enemies start <b>speaking</b> and at the beginning of <b>waves</b>.
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="enemies"></a>
                    <div class="small function"><a href="#special_variables:enemies">
                        <div class="LuaTable">enemies: { table of <div class="string">enemy_name</div> }</div>
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        At the <b>beginning of battle</b>, every string in this table<br>
                        will be loaded as a <b>Monster Script</b>.
                    </div>
                    <br><br>
                    During and after <a href="#game_events:EncounterStarting">EncounterStarting</a>, this table will become...
                    <br><br>
                    <div class="small function"><a href="#special_variables:enemies">
                        <div class="LuaTable">enemies: { table of <div class="UnitaleScript">monster_script</div> }</div>
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        <!-- TODO: LINK -->
                        A table of <a>Script Objects</a> pointing to the loaded <b>Monster Scripts</b>.
                    </div>
                    <br><br><br><br>
                    
                    <a name="enemypositions"></a>
                    <div class="small function"><a href="#special_variables:enemypositions">
                        <div class="LuaTable">enemypositions: { table of { table of <div class="number">x</div>, <div class="number">y</div> } }</div>
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        At the <b>beginning of battle</b>, every loaded <b>enemy</b> will be<br>
                        moved to a matching <b>position</b> on-screen from this table.
                    </div>
                    <br><br>
                    This table <b>must</b> be present to load enemies!
                    <br><br><br>
                    All measurements are measured from the point <code class="inline">(x = 320, y = 231)</code> on screen.
                    <br><br>
<pre><code data-language="lua">enemies = {"poseur", "posette"}

enemypositions = {
    {-20,  0}       -- spawn "poseur" 20px left of normal
    { 20, 10}       -- spawn "posette" 20px right and 10px higher than normal
}
</code></pre>
                    
                    <br><br><br><br>
                    
                    <a name="Wave"></a>
                    <div class="small function cyf"><a href="#special_variables:Wave">
                        <div class="LuaTable">Wave: { table of <div class="UnitaleScript">wave_script</div> }</div> = {}
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        During the <a href="javascript:loadPage('game_states');">Game State</a> <code class="inline" data-language="lua">"DEFENDING"</code>, this will fill with<br>
                        <!-- TODO: LINK -->
                        <a>Script Objects</a> pointing to every active <b>Wave Script</b>.
                    </div>
                    <br><br>
                    
                    <div class="separator"></div>
                    <a name="variables_encounter_eob"><h3 class="cyf">End of battle-related</h3></a>
                    <br>
                    Variables that control the way the battle <b>ends</b>, whether that be by<br>
                    the player <b>quitting</b>, <b>fleeing</b>, or <b>dying</b>.
                    <br><br>
                    They are also all <b class="cyf">CYF-exclusive</b>, so be warned!
                    <br><br><br><br>
                    
                    <a name="unescape"></a>
                    <div class="small function cyf"><a href="#special_variables:unescape">
                        <div class="boolean">unescape</div> = false
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        Disables the function of the <kbd>Esc</kbd> key (exiting battles).
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="flee"></a>
                    <div class="infobox">
                        <table>
                            <tr><th>No flee option.</th></tr>
                            <tr><td><img src="img/no_flee.png" width="255" height="150"></td></tr>
                            <tr><td><code class="inline" data-language="lua">flee = false</code></td></tr>
                        </table>
                    </div>
                    <div class="small function cyf"><a href="#special_variables">
                        <div class="boolean">flee</div> = true
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        Controls whether the <b>"Flee"</b> option is present within the <b>MERCY</b> menu.
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="fleesuccess"></a>
                    <div class="small function cyf"><a href="#special_variables:fleesuccess">
                        <div class="boolean">fleesuccess</div> = nil
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        Forces the player's attempts to <b>Flee</b> with the <b>"Flee"</b> option<br>
                        to either <b>fail</b> or <b>succeed</b> every time.
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="fleetexts"></a>
                    <div class="small function cyf"><a href="#special_variables:fleetexts">
                        <div class="LuaTable">fleetexts: { table of <div class="string">flee_text</div> }</div> = nil
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        Lets you choose custom messages to display whenever the player <b>flees</b> from combat.
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="deathmusic"></a>
                    <div class="small function cyf"><a href="#special_variables:deathmusic">
                        <div class="string">deathmusic</div> = nil
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        Changes the music of the <b>Game Over</b> screen.
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="deathtext"></a>
                    <div class="small function cyf"><a href="#special_variables:deathtext">
                        <div class="LuaTable">deathtext: { table of <div class="string">death_text</div> }</div> = nil
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        Lets you display custom messages during the <b>Game Over</b> screen.
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="revive"></a>
                    <div class="small function cyf"><a href="#special_variables:revive">
                        <div class="boolean">revive</div> = false
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        If <code class="inline" data-language="lua">true</code>, whenever the player dies, their soul will <b>re-fuse</b>, as in <i>Undertale</i>,<br>
                        and they will be <b>revived</b> and continue battle.
                    </div>
                    
                    <br><br><br><br>
                    
                    <div class="separator"></div>
                    <a name="variables_encounter_text"><h3 class="cyf">Text-related</h3></a>
                    <br>
                    Variables that control <b>text</b>, including <a href="#special_functions:BattleDialog">BattleDialog</a>, <a href="#encountertext">encountertext</a> and
                    <!-- TODO: LINK -->
                    <a>Text Objects</a>.
                    <br><br>
                    They are also all <b class="cyf">CYF-exclusive</b>, so be warned!
                    <br><br><br><br>
                    
                    <a name="autolinebreak"></a>
                    <div class="infobox">
                        <table>
                            <tr><th colspan="2">Auto-line breaking.</th></tr>
                            <tr>
                                <td><img src="img/linebreak1.png" width="201" height="237"></td>
                                <td><img src="img/linebreak2.png" width="201" height="237"></td>
                            </tr>
                            <tr>
                                <th>(Regular)</th>
                                <th><code class="inline" data-language="lua">autolinebreak = true</code></th>
                            </tr>
                        </table>
                    </div>
                    <div class="small function cyf"><a href="#special_variables:autolinebreak">
                        <div class="boolean">autolinebreak</div> = false
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        When <code class="inline" data-language="lua">true</code>, forces <a href="#special_functions:BattleDialog">BattleDialog</a>, <a href="#encountertext">encountertext</a> and <a href="#currentdialogue">
                        enemy dialogue</a> to automatically<br>go to the <b>next line</b> when text would go outside of the <b>Arena</b> / <b>dialogue bubble</b>.
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="playerskipdocommand"></a>
                    <div class="small function cyf"><a href="#special_variables:playerskipdocommand">
                        <div class="boolean">playerskipdocommand</div> = false
                    </a></div>
                    <br>
                    <div class="arguments desc">
                        If <code class="inline" data-language="lua">true</code>, when the player <b>skips</b> text with <kbd>X</kbd>, any <a>Text Commands</a> that haven't been typed yet will activate.
                    </div>
                    <br><br>
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="notes"><h2>Extra Notes</h2></a>
                </p>
                
                <p>
                    <ul class="spaced">
                        <!-- TODO: LINK -->
                        <li>This is the best place to fill up the player's <a>Inventory</a> with <b>Items</b>.</li>
                        <li>Use this script to control the entire rest of the <b>battle</b>, including <b>enemies</b> and <b>Wave</b> scripts.</li>
                        <li>This script is the only truly <b>required</b> script when making a mod.</li>
                        <li>Use this script to control what happens when the player <b>quits</b>, <b>exits</b>, <b>dies</b> or <b>flees</b>.</li>
                        <li>This script controls which <b>waves</b>/<b>attacks</b> will play.</li>
                        <li>Can set the initial <b>music</b> and <b>battle text</b>/<b>encounter text</b>.</li>
                        <li>Can change the layer of the <b>UI</b>, <b>buttons</b> and <b>player stats</b>.</li>
                        <li>Use to control <b>game states</b> and determine what happens when <b>entering</b> and <b>exiting</b> them.</li>
                    </ul>
                </p>
            </span>
            
            <!-- [PAGE: THE MONSTER SCRIPT] -->
            
            <span class="page" id="outline_monster" name="The Monster Script">
                <script type="text/javascript">writeTitle("The Monster Script");</script>
                <div class="contents">
                    <span class="toggle">
                        <b>Contents</b>
                    </span>
                    <ol>
                    <li><a href="#purposes">Main Purposes</a></li>
                    <li>
                        <a href="#events">Game Events</a>
                        <ol type="a">
                            <li><a href="#HandleAttack">HandleAttack</a></li>
                            <li><a href="#OnDeath">OnDeath</a></li>
                            <li><a class="cyf" href="#OnSpare">OnSpare</a></li>
                            <li><a class="cyf" href="#BeforeDamageCalculation">BeforeDamageCalculation</a></li>
                            <li><a class="cyf" href="#BeforeDamageValues">BeforeDamageValues</a></li>
                            <li><a href="#HandleCustomCommand">HandleCustomCommand</a></li>
                        </ol>
                    </li>
                    <li>
                        <a href="#functions">Functions</a>
                        <ol type="a">
                            <li><a href="#SetSprite">SetSprite</a></li>
                            <li><a href="#SetActive">SetActive</a></li>
                            <li><a href="#Kill">Kill</a></li>
                            <li><a href="#Spare">Spare</a></li>
                            <li><a class="cyf" href="#SetDamage">SetDamage</a></li>
                            <li><a class="cyf" href="#Move">Move</a></li>
                            <li><a class="cyf" href="#MoveTo">MoveTo</a></li>
                            <li><a class="cyf" href="#BindToArena">BindToArena</a></li>
                            <li><a class="cyf" href="#SetBubbleOffset">SetBubbleOffset</a></li>
                            <li><a class="cyf" href="#SetDamageUIOffset">SetDamageUIOffset</a></li>
                            <li><a class="cyf" href="#SetSliceAnimOffset">SetSliceAnimOffset</a></li>
                        </ol>
                    </li>
                    <li><a href="#objects">Objects</a></li>
                    <li><a href="#variables">Variables</a></li>
                    <li><a href="#notes">Extra Notes</a></li>
                    </ol>
                </div>
                
                <p>
                    <div class="separator"></div>
                    <a name="purposes"><h2>Main Purposes</h2></a>
                </p>
                
                <p>
                    The <b>Monster Script</b> is the second-most important, only to the <b>Encounter Script</b>.
                    <br><br>
                    It controls everything about a <b>Monster</b> (enemy) and its functionality, including<br>
                    behavior when <b>attacked</b>, <b>dialogue</b>, <b>stats</b> like hp, and <b>ACT commands</b>.
                    <br><br>
                    <!-- TODO: LINK -->
                    At <a href="#game_events:EncounterStarting">the start of an encounter</a>, all strings in the <a>enemies</a> table are turned into <b>Monster Scripts</b> with the matching names.<br>
                    So, there can be <b>multiple</b> monster scripts/<b>enemies</b> in an encounter.
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="events"><h2>Game Events</h2></a>
                </p>
                
                <p>
                    <i>Main page: <a href="#game_events:monster">Monster Script Events [M]</a></i>
                    <br><br>
                    <a name="HandleAttack"></a>
                    <div class="function"><a href="#game_events:HandleAttack">
                        HandleAttack(<div class="number">damage</div>)
                    </a></div>
                    <br>
                    Happens the moment the player's <b>attack</b> hits this monster (when their "slash" animation finishes).
                    <br><br>
                    <!-- TODO: LINK -->
                    * The monster's <a>hp</a> variable will have <b>already updated</b> by this point.
                    
                    <br><br><br><br>
                    
                    <a name="OnDeath"></a>
                    <div class="function exclude"><a href="#game_events:OnDeath">
                        OnDeath()
                    </a></div>
                    <br>
                    Happens the moment your monster <b>dies</b> (shaking animation ends and their <code class="inline">hp</code> is &lt;= 0).
                    <br><br>
                    If you add this, your monster will <b>NOT</b> die automatically.<br>
                    They must be killed manually with <code class="inline">Kill()</code> (<a href="#special_functions:Kill">main page</a>).
                    
                    <br><br><br><br>
                    
                    <a name="OnSpare"></a>
                    <div class="cyf function exclude"><a href="#game_events:OnSpare">
                        OnSpare()
                    </a></div>
                    <br>
                    Happens whenever you successfully <b>spare</b> a spareable monster with the <b>Spare</b> option.
                    <br><br>
                    If you add this, your monster will <b>NOT</b> be spared automatically.<br>
                    They must be spared manually with <code class="inline">Spare()</code> (<a href="#special_functions:Spare">main page</a>).
                    
                    <br><br><br><br>
                    
                    <a name="BeforeDamageCalculation"></a>
                    <div class="cyf function exclude"><a href="#game_events:BeforeDamageCalculation">
                        BeforeDamageCalculation()
                    </a></div>
                    <br>
                    Happens as soon as the player presses <kbd>Z</kbd> during the state <code class="inline">"ATTACKING"</code>.
                    <br><br>
                    Call <code class="inline">SetDamage</code> here (<a href="#special_functions:SetDamage">main page</a>) to forcefully set the <b>damage</b> the Player's attack will do.
                    
                    <br><br><br><br>
                    
                    <a name="BeforeDamageValues"></a>
                    <div class="cyf function exclude"><a href="#BeforeDamageValues">
                        BeforeDamageValues()
                    </a></div>
                    <br>
                    Happens just before <a href="#HandleAttack">HandleAttack</a>, and before the <b>damage numbers</b> and <b>hp bar</b> appear.<br>
                    The attack's <b>damage</b> has not been applied yet.
                    
                    <br><br><br><br>
                    
                    <a name="HandleCustomCommand"></a>
                    <div class="function exclude"><a href="#HandleCustomCommand">
                        HandleCustomCommand(<div class="string">command</div>)
                    </a></div>
                    <br>
                    Happens when selecting an <b>act command</b> for this monster.
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="functions"><h2>Functions</h2></a>
                </p>
                
                <p>
                    <i>Main page: <a href="#special_functions:monster">Monster Script Functions [M]</a></i>
                    <br><br>
                    <a name="SetSprite"></a>
                    <div class="function exclude"><a href="#special_functions:SetSprite">
                        SetSprite(<div class="string">filename</div>)
                    </a></div>
                    <br>
                    Instantly changes the monster's displayed <b>image</b> to <code class="inline">Your Mod/Sprites/filename.png</code>.
                    
                    <br><br><br><br>
                    
                    <a name="SetActive"></a>
                    <div class="function exclude"><a href="#special_functions:SetActive">
                        SetActive(<div class="boolean">active</div>)
                    </a></div>
                    <br>
                    Instantly makes a monster <b>active</b> or <b>inactive</b>.<br>
                    Monsters are <b>active</b> by default, until they are <b>killed</b> or <b>spared</b>.
                    <br><br>
                    <b>Inactive</b> monsters will not say <b>dialogue</b>, show up in <b>menus</b> or run any <b>game events</b>.
                    
                    <br><br><br><br>
                    
                    <a name="Kill"></a>
                    <div class="function exclude"><a href="#special_functions:Kill">
                        Kill()
                    </a></div>
                    <br>
                    Instantly kills this monster, turning it into <b>dust</b> and making it <a href="#SetActive">inactive</a>.
                    
                    <br><br><br><br>
                    
                    <a name="Spare"></a>
                    <div class="function exclude"><a href="#special_functions:Spare">
                        Spare()
                    </a></div>
                    <br>
                    Instantly spares this monster, making it <b>transparent</b> and <a href="#SetActive">inactive</a> alongside a particle effect.
                    
                    <br><br><br><br>
                    
                    <a name="SetDamage"></a>
                    <div class="function cyf exclude"><a href="#special_functions:SetDamage">
                        SetDamage(<div class="number">amount</div>)
                    </a></div>
                    <br>
                    Sets the amount of <b>damage</b> this monster will take the next time it is <b>attacked</b> by the player.<br>
                    Can be negative.
                    <br><br>
                    The best place to call this is <a href="#game_events:BeforeDamageCalculation">BeforeDamageCalculation</a>.
                    
                    <br><br><br><br>
                    
                    <a name="Move"></a>
                    <div class="function cyf exclude"><a href="#special_functions:Move">
                        Move(<div class="number">x</div>, <div class="number">y</div>)
                    </a></div>
                    <br>
                    Moves the enemy's <b>sprite</b> a set amount of pixels right and up.
                    
                    <br><br><br><br>
                    
                    <a name="MoveTo"></a>
                    <div class="function cyf exclude"><a href="#special_functions:MoveTo">
                        MoveTo(<div class="number">x</div>, <div class="number">y</div>)
                    </a></div>
                    <br>
                    Moves the enemy's <b>sprite</b> to a set <b>position</b> on screen.
                    <br><br>
                    <b>NOT RELATED</b> to <a>enemypositions</a>!<br>
                    <code class="inline">(0, 0)</code> is the <b>bottom-left</b> corner of the screen!
                    
                    <br><br><br><br>
                    
                    <a name="BindToArena"></a>
                    <div class="function cyf exclude"><a href="#special_functions:BindToArena">
                        BindToArena(<div class="boolean">bind</div>, <div class="boolean">under</div> = false)
                    </a></div>
                    <br>
                    Controls whether the enemy's sprite is <b>bound</b> to the <b>Arena</b>.
                    <br><br>
                    If <b>bound</b>, the enemy will <b>move</b> up and down as the Arena <b>resizes</b>.
                    
                    <br><br><br><br>
                    
                    <a name="SetBubbleOffset"></a>
                    <div class="function cyf exclude"><a href="#special_functions:SetBubbleOffset">
                        SetBubbleOffset(<div class="number">x</div>, <div class="number">y</div>)
                    </a></div>
                    <br>
                    Sets the enemy's dialogue <b>bubble</b> position relative to its original position.
                    <br><br>
                    Entering <code class="inline">(0, 0)</code> would <b>return</b> the bubble's position to normal.
                    
                    <br><br><br><br>
                    
                    <a name="SetDamageUIOffset"></a>
                    <div class="function cyf exclude"><a href="#special_functions:SetDamageUIOffset">
                        SetDamageUIOffset(<div class="number">x</div>, <div class="number">y</div>)
                    </a></div>
                    <br>
                    Sets the enemy's <b>hp bar</b> and <b>damage number</b> positions relative to their original positions.
                    <br><br>
                    Entering <code class="inline">(0, 0)</code> would <b>return</b> their positions to normal.
                    <br><br>
                    The <b>damage UI</b> is on a layer <b>above</b> the <b>Arena</b>.
                    
                    <br><br><br><br>
                    
                    <a name="SetSliceAnimOffset"></a>
                    <div class="function cyf exclude"><a href="#special_functions:SetSliceAnimOffset">
                        SetSliceAnimOffset(<div class="number">x</div>, <div class="number">y</div>)
                    </a></div>
                    <br>
                    Changes the position of the <b>red slash</b> (attack animation) relative to its original position.
                    <br><br>
                    Entering <code class="inline">(0, 0)</code> would <b>return</b> its position to normal.
                    <br><br>
                    The <b>slice animation</b> is on a layer <b>above</b> the <b>Arena</b>.
                </p>
            </span>
            
            <!-- [PAGE: GAME STATES] -->
            
            <span class="page" id="game_states" name="Game States">
                <script type="text/javascript">writeTitle("Game States");</script>
                <div class="contents">
                    <span class="toggle">
                        <b>Contents</b>
                    </span>
                    <ol>
                    <li><a href="#states">Game States</a></li>
                    <li><a href="#normal">Normal States</a></li>
                    <li><a href="#special">Special States</a></li>
                    <li><a href="#pause">Pausing the Engine</a></li>
                    </ol>
                </div>
                
                <p>
                    <div class="separator"></div>
                    <a name="states"><h2>Game States</h2></a>
                </p>
                
                <p>
                    Inside battles, the engine uses 9 different <b>game states</b> to control the flow of battle.<br>
                    Together, they function identically to <i>Undertale</i>'s battle system.
                    <br><br>
                    These states are passed as arguments to <code class="inline">EnteringState</code> (see
                    <a href="#game_events:EnteringState">EnteringState</a>), are given by<br>
                    <code class="inline">GetCurrentState()</code> (see <a href="#special_functions:GetCurrentState">GetCurrentState</a>), and must be
                    manually passed to <code class="inline">State</code> (see <a href="#special_functions:State">State</a>) when using it.
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="normal"><h2>Normal States</h2></a>
                </p>
                
                <p>
                    These states are entered <b>automatically</b> as the player plays a standard encounter,<br>
                    and each mirror a part of a standard <i>Undertale</i> battle:
                    <br><br>
                    <table class="outline">
                        <tr>
                            <th>State</th>
                            <th>Picture</th>
                            <th>When does it occur?</th>
                        </tr>
                        <tr>
                            <td><div class="arguments desc"><b class="string">"ACTIONSELECT"</b></div></td>
                            <td><img src="img/state_actionselect.png" width="300" height="115"></td>
                            <td>
                                When returning to the <b>Player's turn</b>.
                                <br><br>
                                <b>FIGHT</b>, <b>ACT</b>, <b>ITEMS</b> and <b>MERCY</b> can<br>
                                be chosen.
                            </td>
                        </tr>
                        <tr>
                            <td><div class="arguments desc"><b class="string">"ATTACKING"</b></div></td>
                            <td><img src="img/state_attacking.png" width="300" height="75"></td>
                            <td>
                                While <b>attacking</b> an enemy (the <b>target</b><br>
                                and the line appear).
                            </td>
                        </tr>
                        <tr>
                            <td><div class="arguments desc"><b class="string">"DEFENDING"</b></div></td>
                            <td><img src="img/state_defending.png" width="206" height="153"></td>
                            <td>When starting a <b>wave</b>.</td>
                        </tr>
                        <tr>
                            <td><div class="arguments desc"><b class="string">"ENEMYSELECT"</b></div></td>
                            <td>
                                <img src="img/state_enemyselect1.png" width="300" height="75">
                                <br><br>
                                <img src="img/state_enemyselect2.png" width="300" height="75">
                            </td>
                            <td>When choosing <b>FIGHT</b> or <b>ACT</b>.</td>
                        </tr>
                        <tr>
                            <td><div class="arguments desc"><b class="string">"ACTMENU"</b></div></td>
                            <td><img src="img/state_actmenu.png" width="300" height="75"></td>
                            <td>
                                When selecting an <b>act command</b> to use<br>
                                on an <b>enemy</b>.
                            </td>
                        </tr>
                        <tr>
                            <td><div class="arguments desc"><b class="string">"ITEMMENU"</b></div></td>
                            <td><img src="img/state_itemmenu.png" width="300" height="75"></td>
                            <td>
                                When selecting an <b>item</b> in the <b>ITEMS</b><br>
                                menu.
                            </td>
                        </tr>
                        <tr>
                            <td><div class="arguments desc"><b class="string">"MERCYMENU"</b></div></td>
                            <td><img src="img/state_mercymenu.png" width="300" height="75"></td>
                            <td>After choosing <b>MERCY</b>.</td>
                        </tr>
                        <tr>
                            <td><div class="arguments desc"><b class="string">"ENEMYDIALOGUE"</b></div></td>
                            <td><img src="img/state_enemydialogue.png" width="266" height="98"></td>
                            <td>
                                When your <b>enemy/enemies</b> start<br>
                                speaking.
                            </td>
                        </tr>
                        <tr>
                            <td><div class="arguments desc"><b class="string">"DIALOGRESULT"</b></div></td>
                            <td><img src="img/state_dialogresult.png" width="300" height="75"></td>
                            <td>
                                When calling <code class="inline">BattleDialog</code> or using<br>
                                the default <b>"Check"</b> command.
                            </td>
                        </tr>
                    </table>
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="special"><h2>Special States</h2></a>
                </p>
                
                <p>
                    These states are entered <b>manually</b> by calling <code class="inline">State</code>
                    (see <a href="#special_functions:State">State</a>),<br>and each have a special, unique purpose:
                    <br><br>
                    <table class="outline">
                        <tr>
                            <th>State</th>
                            <th>What does it do?</th>
                            <th>How can it be used?</th>
                        </tr>
                        <tr>
                            <td><div class="arguments desc"><b class="string">"NONE"</b></div></td>
                            <td>
                                Stops all default engine functions.<br>
                                Pressing buttons will not do anything.
                                <br><br>
                                Looks like ACTIONSELECT, but the text<br>
                                box is empty.
                            </td>
                            <td>
                                Enter with <code class="inline" data-language="lua">State("NONE")</code>.
                                <br><br>
                                Very useful for disabling the default Unitale/CYF engine,<br>
                                and turning your mod into a Lua sandbox.
                                <br><br>
                                Technically, the very first frame of battle before<br>
                                <code class="inline">EncounterStarting()</code> takes place in the state NONE.
                            </td>
                        </tr>
                        <tr>
                            <td><div class="arguments desc"><b class="string">"DONE"</b></div></td>
                            <td>
                                Instantly ends the battle.
                                <br><br>
                                Returns to the <b>Mod Selection Screen</b> normally,<br>
                                or to the <b>Overworld</b> if applicable.
                            </td>
                            <td>
                                Enter with <code class="inline" data-language="lua">State("DONE")</code>.
                                <br><br>
                                Its main and only use is to instantly force the player<br>
                                out of the battle.
                            </td>
                        </tr>
                    </table>
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="pause"><h2>Pausing the Engine</h2></a>
                </p>
                
                <p>
                    There is something very special you can do, by typing:
                    <br><br>
                    <code data-language="lua">State("PAUSE")</code>
                    <br><br>
                    Doing this will <b>pause</b> the engine.<br>
                    Everything will be completely frozen. The player can't move, text doesn't type, and waves pause as well.
                    <br><br>
                    <h4>* While the engine is paused, <code class="inline" style="font-size: inherit;">GetCurrentState()</code> will give the
                    <u>last active state</u> before pausing.</h4>
                    <br><br>
                    To <b>resume</b> gameplay, use <code class="inline">State</code> with the <b><u>last active state</u></b>, or type:<br>
                    <code data-language="lua">State(GetCurrentState())</code>
                    <br><br>
                    <div class="separator"></div>
                    The only thing that's not frozen is the <b>Encounter Update Loop</b> (see <a href="#game_events:Update1">Update</a>).
                    <br><br>
                    This can be useful for implementing a "pause button" into your mod, or something else like that.
                    <br><br><br>
                    Here is an example of a pause button script:
                    <br><br>
                    <pre><code data-language="lua">-- encounter script
paused = false

function Update()
    -- When "P" is pressed
    if Input.GetKey("P") == 1 then
        -- Pause the game
        if paused == false then
            State("PAUSE")
            paused = true
        -- Resume the game
        else
            State(GetCurrentState())
            paused = false
        end
    end
end</code></pre>
                </p>
            </span>
            
            <!-- [PAGE: GAME EVENTS] -->
            
            <span class="page" id="game_events" name="Game Events">
                <script type="text/javascript">writeTitle("Game Events");</script>
                <div class="contents">
                    <span class="toggle">
                        <b>Contents</b>
                    </span>
                    <ol>
                    <li><a href="#what">What are Game Events?</a></li>
                    <li>
                        <a href="#encounter">Encounter Script Events [E]</a>
                        <ol type="a">
                            <li><a href="#EncounterStarting">EncounterStarting</a></li>
                            <li><a href="#EnemyDialogueStarting">EnemyDialogueStarting</a></li>
                            <li><a href="#EnemyDialogueEnding">EnemyDialogueEnding</a></li>
                            <li><a href="#DefenseEnding">DefenseEnding</a></li>
                            <li><a href="#HandleSpare">HandleSpare</a></li>
                            <li><a href="#HandleItem">HandleItem</a></li>
                            <li><a href="#EnteringState">EnteringState</a></li>
                            <li><a href="#Update1">Update</a></li>
                            <li><a href="#OnHit1">OnHit</a></li>
                        </ol>
                    </li>
                    <li>
                        <a href="#monster">Monster Script Events [M]</a>
                        <ol type="a">
                            <li><a href="#HandleAttack">HandleAttack</a></li>
                            <li><a href="#OnDeath">OnDeath</a></li>
                            <li><a href="#OnSpare" class="cyf">OnSpare</a></li>
                            <li><a href="#BeforeDamageCalculation" class="cyf">BeforeDamageCalculation</a></li>
                            <li><a href="#BeforeDamageValues" class="cyf">BeforeDamageValues</a></li>
                            <li><a href="#HandleCustomCommand">HandleCustomCommand</a></li>
                        </ol>
                    </li>
                    <li>
                        <a href="#wave">Wave Script Events [W]</a>
                        <ol type="a">
                            <li><a href="#Update2">Update</a></li>
                            <li><a href="#EndingWave" class="cyf">EndingWave</a></li>
                            <li><a href="#OnHit2">OnHit</a></li>
                        </ol>
                    </li>
                    </ol>
                </div>
                
                <p>
                    <div class="separator"></div>
                    <a name="what"><h2>What are Game Events?</h2></a>
                </p>
                
                <p>
                    <u>Game Events</u> are <b>functions</b> that are <b>called automatically</b> at certain points in the encounter.
                    <br><br>
                    As an example, <code class="inline">EncounterStarting()</code> is called when the encounter starts.<br>
                    Any code you put in this function will be run when the <b>encounter starts:</b>
                    <br><br>
                    <pre><code data-language="lua">function EncounterStarting()
    -- As soon as the encounter starts...
    Player.name = "Temmie" -- Change the player's name to Temmie
end</code></pre>
                    <br><br>
                    Game events are <b>script-specific</b>, meaning they are exclusive to certain types of scripts.
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="encounter"><h2>Encounter Script Events [E]</h2></a>
                </p>
                
                <p>
                    <a name="EncounterStarting"></a>
                    <div class="function exclude">
                        EncounterStarting()
                    </div>
                    <br>
                    Happens as soon as everything has loaded and the encounter is ready.
                    <br><br>
                    This is the best place to set up <b>Player stats</b> and the <b>Inventory</b>.
                    <br><br>
                    Some other uses include adding <code class="inline">Audio.Stop()</code> here to disable music for the encounter,<br>
                    and adding a <code class="inline">State</code> call to immediately change the game state.
                    <br><br>
                    <u>The <b>Player</b> and other objects will not be active/loaded until this event.</u>
                    
                    <br><br><br><br>
                    
                    <a name="EnemyDialogueStarting"></a>
                    <div class="function exclude">
                        EnemyDialogueStarting()
                    </div>
                    <br>
                    Happens whenever the enemies <b>start talking</b>.
                    <br><br>
                    This is the best place to set <b>monster dialogue</b> depending on how the encounter is progressing.
                    <br><br>
                    <u>If no enemies have any current or random dialogue, <b>this event will be skipped</b>.</u>
                    
                    <br><br><br><br>
                    
                    <a name="EnemyDialogueEnding"></a>
                    <div class="function exclude">
                        EnemyDialogueEnding()
                    </div>
                    <br>
                    Happens whenever the enemies <b>stop talking</b> and the <b>waves</b> begin.
                    <br><br>
                    This is the best place to choose which <b>waves</b> should be played.
                    
                    <br><br><br><br>
                    
                    <a name="DefenseEnding"></a>
                    <div class="function exclude">
                        DefenseEnding()
                    </div>
                    <br>
                    Happens whenever the active <b>waves</b> have finished.
                    <br><br>
                    This is the best place to set <b>encounter text</b> based on how the battle is going.
                    <br><br>
                    By default, the code <code class="inline">encountertext = RandomEncounterText()</code> is here.<br>
                    This is usually for the best.
                    <br><br>
                    See <a href="#special_functions:RandomEncounterText">RandomEncounterText</a> for more information.
                    
                    <br><br><br><br>
                    
                    <a name="HandleSpare"></a>
                    <div class="function exclude">
                        HandleSpare()
                    </div>
                    <br>
                    Happens whenever you select the <b>Spare</b> option in the <b>MERCY</b> menu.
                    <br><br>
                    This event happens <b>regardless</b> of whether or not any enemies are spareable.
                    <br><br>
                    <u>Spareable enemies get spared <b>before</b> this function is called.</u>
                    
                    <br><br><br><br>
                    
                    <a name="HandleItem"></a>
                    <div class="function">
                        HandleItem(<div class="string">item_ID</div>, <div class="number">position</div>)
                    </div>
                    <br>
                    Happens whenever you use an item from the <b>ITEMS</b> menu.
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li>
                                <div class="string">item_ID</div>: The <b>name</b> of the item the Player has chosen.<br>
                                Will be in <b>ALL CAPS</b>, such as in <code class="inline" data-language="lua">"DOGTEST1"</code>.
                            </li>
                            <li>
                                <div class="number">position</div>: The numbered <b>position</b> in the ITEMS menu that was chosen.<br>
                                So if the Player chose the <b>3rd</b> item in their inventory, this would be <b class="inline">3</b>.
                            </li>
                        </ul>
                    </div>
                    <br>
                    
                    <br><br><br><br>
                    
                    <a name="EnteringState"></a>
                    <div class="function">
                        EnteringState(<div class="string">newstate</div>, <div class="string">oldstate</div>)
                    </div>
                    <br>
                    This event is special. It happens whenever the game's <b>state</b> is changed.
                    <br><br>
                    <u>Manually calling <code class="inline">State</code> from inside this function will <b>NOT</b> call
                    <code class="inline">EnteringState</code> a second time.</u>
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li>
                                <div class="string">newstate</div>: The name of the <b>game state</b> the engine is <b>entering</b>.<br>
                                See <a href="javascript:loadPage('game_states');">Game States</a>.
                            </li>
                            <li>
                                <div class="string">oldstate</div>: The name of the <b>game state</b> the engine is <b>leaving</b>.<br>
                                See <a href="javascript:loadPage('game_states');">Game States</a>.
                            </li>
                        </ul>
                    </div>
                    <br><br>
                    To help illustrate just what this does, here is a script that replicates some previous functions with <code class="inline">EnteringState</code>:
                    <br><br>
                    <pre>
<code data-language="lua">-- Remaking the other Encounter script events using EnteringState

function EnteringState(newstate, oldstate)
    if newstate == "ENEMYDIALOGUE" then
        -- same as EnemyDialogueStarting()
    elseif oldstate == "ENEMYDIALOGUE" then
        -- same as EnemyDialogueEnding()
        -- alternatively, use `if newstate == "DEFENDING" then`
    elseif oldstate == "DEFENDING" then
        -- same as DefenseEnding()
    end
end
</code></pre>
                    <br>
                    For more information, see <a href="javascript:loadPage('game_states');">Game States</a>.
                    
                    <br><br><br><br>
                    
                    <a name="Update1"></a>
                    <div class="function exclude">
                        Update()
                    </div>
                    <br>
                    This function will be called on <b>every frame</b> during the entire battle. Even during waves.<br>
                    Works exactly the same as <a href="#Update2">Update() in Wave scripts</a>.
                    <br><br>
                    This function can be very powerful. Any code you put in here will be run on <b>every frame</b>.<br>
                    So, you can <b>control</b> your Encounter like you'd control a <b>wave</b>.
                    <br><br><br>
                    Some example uses of this are
                    <b class="tooltip" title="A single color, such as white, fills the screen briefly">screen flashes</b>,
                    <b>fade/transition</b> effects, creating
                    <b class="tooltip" title="Temporarily pause the rest of the game, and show a cinematic sequence">cutscenes,</b>
                    reading <b>keyboard</b> input, <b>monster animations,</b>
                    <br>and one can even use <code class="inline" data-language="lua">State("NONE")</code> and this to gain
                    <b class="tooltip" title="Disable the basic engine functions, and use the mod to run something original, such as another video game">total control</b> over the engine.
                    
                    <br><br><br><br>
                    
                    <a name="OnHit1"></a>
                    <div class="function">
                        OnHit(<div class="UnitaleProjectile">bullet</div>)
                    </div>
                    <br>
                    This function is called every time an <b>Encounter</b> script <b>bullet</b> hits the Player.<br>
                    Works exactly the same as <a href="#OnHit2">OnHit() in Wave scripts</a>.
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="monster"><h2>Monster Script Events [M]</h2></a>
                </p>
                
                <p>
                    <a name="HandleAttack"></a>
                    <div class="function">
                        HandleAttack(<div class="number">damage</div>)
                    </div>
                    <br>
                    Happens the moment the player's <b>attack</b> hits this monster (when their "slash" animation finishes).
                    <br><br>
                    <!-- TODO: LINK -->
                    * The monster's <a>hp</a> variable will have <b>already updated</b> by this point.
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li>
                                <div class="number">damage</div>: The amount of <b>damage</b> dealt by the player's attack.
                                <br><br>
                                Special cases:
                                <ul>
                                    <li>If the player <b>didn't attack</b>, this will be <code class="inline">-1</code>.</li>
                                    <li>If the player <b>missed</b>, this will be <code class="inline">0</code>.</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="OnDeath"></a>
                    <div class="function exclude">
                        OnDeath()
                    </div>
                    <br>
                    Happens the moment your monster <b>dies</b> (shaking animation ends and their <code class="inline">hp</code> is &lt;= 0).
                    <br><br>
                    If you add this, your monster will <b>NOT</b> die automatically.<br>
                    They must be killed manually with <code class="inline">Kill()</code> (<a href="#special_functions:Kill">main page</a>).
                    <br><br>
                    * Will only happen when the <b>Player</b> kills the monster using <b>FIGHT</b>.<br>
                    <code class="inline">Kill()</code> will not trigger this function.
                    
                    <br><br><br><br>
                    
                    <a name="OnSpare"></a>
                    <div class="cyf function exclude">
                        OnSpare()
                    </div>
                    <br>
                    Happens whenever you successfully <b>spare</b> a spareable monster with the <b>Spare</b> option.
                    <br><br>
                    If you add this, your monster will <b>NOT</b> be spared automatically.<br>
                    They must be spared manually with <code class="inline">Spare()</code> (<a href="#special_functions:Spare">main page</a>).
                    <br><br>
                    * Will only happen when the <b>Player</b> spares the monster using <b>MERCY</b>.<br>
                    <code class="inline">Spare()</code> will not trigger this function.
                    
                    <br><br><br><br>
                    
                    <a name="BeforeDamageCalculation"></a>
                    <div class="cyf function exclude">
                        BeforeDamageCalculation()
                    </div>
                    <br>
                    Happens as soon as the player presses <kbd>Z</kbd> during the state <code class="inline">"ATTACKING"</code>.
                    <br><br>
                    Call <code class="inline">SetDamage</code> here (<a href="#special_functions:SetDamage">main page</a>) to forcefully set the <b>damage</b> the Player's attack will do.
                    
                    <br><br><br><br>
                    
                    <a name="BeforeDamageValues"></a>
                    <div class="cyf function exclude">
                        BeforeDamageValues()
                    </div>
                    <br>
                    Happens just before <a href="#HandleAttack">HandleAttack</a>, and before the <b>damage numbers</b> and <b>hp bar</b> appear.<br>
                    The attack's <b>damage</b> has not been applied yet.
                    
                    <br><br><br><br>
                    
                    <a name="HandleCustomCommand"></a>
                    <div class="function">
                        HandleCustomCommand(<div class="string">command</div>)
                    </div>
                    <br>
                    Happens when selecting an <b>act command</b> for this monster.
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li>
                                <div class="string">command</div>: The name of the <b>act command</b> used by the player.
                                <h3><font style="font-weight: normal;">* Will be</font> <u>IN ALL CAPS!!</u></h3><br>
                                Such as <code class="inline" data-language="lua">"DANCE"</code> when choosing <code class="inline" data-language="lua">"Dance"</code>.
                            </li>
                        </ul>
                    </div>
                    <br><br>
                    Here is an example Moldsmal script to show you how you can spice things up with variables:
                    <br>
<pre><code data-language="lua">commands = {"Sing", "Dance", "Wiggle"} --somewhere at the beginning
wigglecounter = 0 --let's keep a counter to check how often we've wiggled

function HandleCustomCommand(command)
    if command == "SING" then
        BattleDialog({"You sing your heart out. It's in the arena now."})
    elseif command == "DANCE" then
        BattleDialog({"You busted out your best moves."})
    elseif command == "WIGGLE" then
        if wigglecounter == 0 then --you can use variables to make commands more exciting!
            BattleDialog({"You just kind of stood there and wiggled."})
        elseif wigglecounter == 1 then
            BattleDialog({"You're still kind of standing there and wiggling."})
        else
            BattleDialog({"Your wiggled so often that your wiggling technique\ris now legendary."})
        end
        wigglecounter = wigglecounter + 1 --be sure to increase the wiggle counter, or it'll stay at 0
    end
end</code></pre>
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="wave"><h2>Wave Script Events [W]</h2></a>
                </p>
                
                <p>
                    <a name="Update2"></a>
                    <div class="function exclude">
                        Update()
                    </div>
                    <br>
                    This function is called <b>every frame</b> (usually at 60FPS) while monsters are attacking (the <code class="inline" data-language="lua">"DEFENDING"</code> state).
                    <br><br>
                    Update your bullets here:
                    <br><br>
                    <!-- TODO: LINK -->
                    See <a>Projectile Management</a>.
                    
                    <br><br><br><br>
                    
                    <a name="EndingWave"></a>
                    <div class="cyf function exclude">
                        EndingWave()
                    </div>
                    <br>
                    This function is called whenever the <b>wave ends</b>.
                    <br><br>
                    This is the perfect place to call <code class="inline">bullet.Remove()</code> on all your bullets.
                    <br><br>
                    <code class="inline">EndWave()</code> will call this function one time before ending all waves.
                    
                    <br><br><br><br>
                    
                    <a name="OnHit2"></a>
                    <div class="function">
                        OnHit(<div class="UnitaleProjectile">bullet</div>)
                    </div>
                    <br>
                    This function is called every time a <b>bullet</b> hits the Player.
                    <br><br>
                    If you add this, bullets <b>WON'T</b> hurt the Player anymore by default.<br>
                    <!-- TODO: LINK -->
                    The player must be hurt manually with <code class="inline">Player.Hurt</code> (<a>main page</a>).
                    <br><br>
                    This can be useful in creating <b>blue</b>, <b>orange</b> and <b>green</b> bullets, and other systems.
                    <br><br>
                    <!-- TODO: LINK -->
                    See <a>Projectile Management</a>.
                </p>
            </span>
            
            <!-- [PAGE: SPECIAL FUNCTIONS] -->
            
            <span class="page" id="special_functions" name="Special Functions">
                <script type="text/javascript">writeTitle("Special Functions");</script>
                <h3 style="font-weight: normal;">This page outlines the various <b>Functions</b> you can use from your own scripts.<br></h3>
                <br><br>
                <div class="contents">
                    <span class="toggle">
                        <b>Contents</b>
                    </span>
                    <ol>
                    <li>
                        <a href="#all">All-Script Functions [E/M/W]</a><br>
                        <ol type="a">
                            <li>
                                <div class="contents sub">
                                    <span class="toggle">
                                        <i><a href="#variable">Variable-related</a></i>
                                    </span>
                                    <ol type="A">
                                        <li><a href="#SetGlobal">SetGlobal</a></li>
                                        <li><a href="#GetGlobal">GetGlobal</a></li>
                                        <li><a class="cyf" href="#SetRealGlobal">SetRealGlobal</a></li>
                                        <li><a class="cyf" href="#GetRealGlobal">GetRealGlobal</a></li>
                                        <li><a class="cyf" href="#SetAlMightyGlobal">SetAlMightyGlobal</a></li>
                                        <li><a class="cyf" href="#GetAlMightyGlobal">GetAlMightyGlobal</a></li>
                                        <li><a href="#DEBUG">DEBUG</a></li>
                                    </ol>
                                </div>
                            </li>
                            <li>
                                <div class="contents sub">
                                    <span class="toggle">
                                        <i><a href="#state">State-related</a></i>
                                    </span>
                                    <ol type="A">
                                        <li><a href="#State">State</a></li>
                                        <li><a class="cyf" href="#GetCurrentState">GetCurrentState</a></li>
                                        <li><a class="cyf" href="#SetAction">SetAction</a></li>
                                    </ol>
                                </div>
                            </li>
                            <li>
                                <div class="contents sub">
                                    <span class="toggle">
                                        <i><a href="#battle1">Battle-related</a></i>
                                    </span>
                                    <ol type="A">
                                        <li><a href="#BattleDialog">BattleDialog / <font class="cyf">BattleDialogue</font></a></li>
                                        <li><a class="cyf" href="#SetFrameBasedMovement">SetFrameBasedMovement</a></li>
                                        <li><a class="cyf" href="#AllowPlayerDef">AllowPlayerDef</a></li>
                                        <li><a class="cyf" href="#SetPPCollision">SetPPCollision</a></li>
                                    </ol>
                                </div>
                            </li>
                        </ol>
                    </li>
                    <li>
                        <a href="#encounter">Encounter Script Functions [E]</a>
                        <ol type="a">
                            <li><a href="#RandomEncounterText">RandomEncounterText</a></li>
                            <li><a class="cyf" href="#SetButtonLayer">SetButtonLayer</a></li>
                        </ol>
                    </li>
                    <li>
                        <a href="#monster">Monster Script Functions [M]</a>
                        <ol type="a">
                            <!--
                            <li><i><a href="#battle2">Battle-related</a></i></li>
                            <ol type="A">
                                <li><a href="#SetSprite">SetSprite</a></li>
                                <li><a href="#SetActive">SetActive</a></li>
                                <li><a href="#Kill">Kill</a></li>
                                <li><a href="#Spare">Spare</a></li>
                                <li><a class="cyf" href="#SetDamage">SetDamage</a></li>
                            </ol>
                            -->
                            <li>
                                <div class="contents sub">
                                    <span class="toggle">
                                        <i><a href="#battle2">Battle-related</a></i>
                                    </span>
                                    <ol type="A">
                                        <li><a href="#SetSprite">SetSprite</a></li>
                                        <li><a href="#SetActive">SetActive</a></li>
                                        <li><a href="#Kill">Kill</a></li>
                                        <li><a href="#Spare">Spare</a></li>
                                        <li><a class="cyf" href="#SetDamage">SetDamage</a></li>
                                    </ol>
                                </div>
                            </li>
                            <li>
                                <div class="contents sub">
                                    <span class="toggle">
                                        <i><a class="cyf" href="#graphical">Graphical</a></i>
                                    </span>
                                    <ol type="A">
                                        <li><a href="#Move">Move</a></li>
                                        <li><a href="#MoveTo">MoveTo</a></li>
                                        <li><a href="#BindToArena">BindToArena</a></li>
                                        <li><a href="#SetBubbleOffset">SetBubbleOffset</a></li>
                                        <li><a href="#SetDamageUIOffset">SetDamageUIOffset</a></li>
                                        <li><a href="#SetSliceAnimOffset">SetSliceAnimOffset</a></li>
                                    </ol>
                                </div>
                            </li>
                        </ol>
                    </li>
                    <li>
                        <a href="#wave">Wave Script Functions [W]</a>
                        <ol type="a">
                            <li><a href="#EndWave">EndWave</a></li>
                        </ol>
                    </li>
                    </ol>
                </div>
                
                <p>
                    <div class="separator"></div>
                    <a name="all"><h2>All-Script Functions [E/M/W]</h2></a>
                </p>
                
                <p>
                    Functions usable from <b>all scripts</b>.
                    <div class="separator"></div>
                    <a name="variable"><h3>Variable-related</h3></a>
                    <br>
                    Functions that read or write to <b>variables</b> are here.
                    <br><br><br><br>
                    
                    <a name="SetGlobal"></a>
                    <div class="function">
                        SetGlobal(<div class="string">name</div>, any_value)
                    </div>
                    <br>
                    <div class="arguments desc">
                        Sets a <b><i>Global Variable</i></b>, which can be accessed from <b>any</b> script (see <a href="#GetGlobal">GetGlobal</a>).
                    </div>
                    <br><br>
                    <i>Globals</i> will be <b>cleared</b> whenever the battle <b>ends</b> (you've pressed <kbd>Esc</kbd> or died).
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li><div class="string">name</div>: The name of the <i>Global Variable</i> to write to.</li>
                            <li>
                                <code class="inline">any_value</code>: The <b>value</b> to write to the <i>Global</i>.<br>
                                Can be of <b>any data type</b>. Think numbers, strings, booleans, nil values, tables, and even functions.
                            </li>
                        </ul>
                    </div>
                    <br><br>
                    <!-- TODO: LINK -->
                    Can be used as an alternative to <a>The Script Object</a> if you're not comfortable with using it.
                    
                    <br><br><br><br>
                    
                    <a name="GetGlobal"></a>
                    <div class="function">
                        GetGlobal(<div class="string">name</div>) <u>returns</u> variable
                    </div>
                    <br>
                    <div class="arguments desc">
                        Gets a previously-set <b><i>Global Variable</i></b> (see <a href="#SetGlobal">SetGlobal</a>), <b>returning</b> its value.
                    </div>
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li><div class="string">name</div>: The name of the <i>Global Variable</i> to read from.</li>
                        </ul>
                    </div>
                    <br><br>
                    Here is an example using both <code class="inline">SetGlobal</code> and <code class="inline">GetGlobal</code>:
                    <br><br>
                    <pre><code data-language="lua">--  --                      --  --
-- this is the ENCOUNTER script --
--  --                      --  --
function EncounterStarting()
    SetGlobal("turncount", 1) -- make a turn counter that starts at 1 (first turn)
end

function DefenseEnding()
    local turncount = GetGlobal("turncount") -- retrieve the value of "turncount"
    
    turncount = turncount + 1 -- increase the value on turn end
    SetGlobal("turncount", turncount) -- update the global
end

--  --                  --  --
-- this is a MONSTER script --
--  --                  --  --
function HandleCustomCommand(command)
    -- create an ACT command to display the current turn number
    if command == "COUNT" then
        BattleDialog({"You ask the enemy how\rmany turns have passed."})
        
        local turncount = GetGlobal("turncount") -- get the global
        currentdialogue = tostring(turncount) .. "\nturns." -- display it
    end
end</code></pre>
                    
                    
                    <br><br><br><br>
                    
                    <a name="SetRealGlobal"></a>
                    <div class="function cyf">
                        SetRealGlobal(<div class="string">name</div>, any_value)
                    </div>
                    <br>
                    <div class="arguments desc">
                        Sets a <b><i>Real Global Variable</i></b> to any value.
                    </div>
                    <br><br>
                    A <i>Real Global</i> is exactly the same as a <a href="#SetGlobal"><i>Global</i></a>, except that it can be accessed from the <b>Overworld</b> as well.<br>
                    Additionally, when the player <b>saves</b> in the Overworld, Real Globals are <b>saved</b>.
                    <br><br>
                    <i>Real Globals</i> will be <b>cleared</b> whenever the <b>game closes</b>.
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li><div class="string">name</div>: The name of the <i>Real Global Variable</i> to write to.</li>
                            <li>
                                <code class="inline">any_value</code>: The <b>value</b> to write to the <i>Real Global</i>.<br>
                                Can <b><u>ONLY</u></b> be a number, string, boolean, or nil.
                            </li>
                        </ul>
                    </div>
                    <br><br>
                    <h3 style="font-weight: normal;">* Because Real Globals persist between <b>Mods</b>, mods can <b>read and write</b> to Real Globals from <b>other mods</b>.<Br>
                    Be careful when choosing variable names!</h3>
                    
                    <br><br><br><br>
                    
                    <a name="GetRealGlobal"></a>
                    <div class="function cyf">
                        GetRealGlobal(<div class="string">name</div>) <u>returns</u> variable
                    </div>
                    <br>
                    <div class="arguments desc">
                        Gets a previously-set <b><i>Real Global Variable</i></b> (see <a href="#SetRealGlobal">SetRealGlobal</a>), <b>returning</b> its value.
                    </div>
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li><div class="string">name</div>: The name of the <i>Real Global</i> to read from.</li>
                        </ul>
                    </div>
                    <br><br>
                    Usage is exactly the same as with <a href="#GetGlobal">Globals</a>.
                    
                    <br><br><br><br>
                    
                    <a name="SetAlMightyGlobal"></a>
                    <div class="function cyf">
                        SetAlMightyGlobal(<div class="string">name</div>, any_value)
                    </div>
                    <br>
                    <div class="arguments desc">
                        Sets an <b><i>AlMighty Global Variable</i></b> to any value.<br>
                    </div>
                    <br><br>
                    An <i>AlMighty Global</i> is exactly the same as a <a href="#SetRealGlobal"><i>Real Global</i></a>, except that it is immediately <b>saved</b> to the player's <b>save data</b>.
                    <br><br>
                    <i>AlMighty Globals</i> can only be <b>cleared</b> by choosing <code class="inline">Reset AlMighty Globals</code> from the <b>Options</b> screen.
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li><div class="string">name</div>: The name of the <i>AlMighty Global Variable</i> to write to.</li>
                            <li>
                                <code class="inline">any_value</code>: The <b>value</b> to write to the <i>AlMighty Global</i>.<br>
                                Can <b><u>ONLY</u></b> be a number, string, boolean, or nil.
                            </li>
                        </ul>
                    </div>
                    <br><br>
                    <h3 style="font-weight: normal;">* Because AlMighty Globals persist between <b>Mods</b>, mods can <b>read and write</b> to AlMighty Globals from <b>other mods</b>.<br>
                    Be careful when choosing variable names!</h3>
                    
                    <br><br><br><br>
                    
                    <a name="GetAlMightyGlobal"></a>
                    <div class="function cyf">
                        GetAlMightyGlobal(<div class="string">name</div>) <u>returns</u> variable
                    </div>
                    <br>
                    <div class="arguments desc">
                        Gets a previously-set <b><i>AlMighty Global Variable</i></b> (see <a href="#SetAlMightyGlobal">SetAlMightyGlobal</a>), <b>returning</b> its value.
                    </div>
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li><div class="string">name</div>: The name of the <i>AlMighty Global</i> to read from.</li>
                        </ul>
                    </div>
                    <br><br>
                    Usage is exactly the same as with <a href="#GetGlobal">Globals</a>.
                    
                    <br><br><br><br>
                    
                    <a name="DEBUG"></a>
                    <div class="function">
                        DEBUG(<div class="string">text</div>)
                    </div>
                    <br>
                    <div class="arguments desc">
                        Writes text to the <b>debug console</b>, or <b>debugger</b> (toggleable with <kbd>F9</kbd>).
                    </div>
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li>
                                <div class="string">text</div>: Text to display in the <b>debugger</b>.<br>
                                Don't forget that <code class="inline">tostring</code> exists!
                            </li>
                        </ul>
                    </div>
                    <br><br>
                    Very useful for showing the <b>values</b> of any variables you may have,<br>
                    and to confirm that certain code is <b>running</b>.
                    
                    <br><br><br><br>
                    
                    <div class="separator"></div>
                    <a name="state"><h3>State-related</h3></a>
                    <br>
                    Functions that control <a href="javascript:loadPage('game_states');">Game States</a> are here.
                    <br><br><br><br>
                    
                    <a name="State"></a>
                    <div class="function">
                        State(<div class="string">state_to_go_to</div>)
                    </div>
                    <br>
                    <div class="arguments desc">
                        Use this function to instantly change the <a href="javascript:loadPage('game_states');">Game State</a> to another.
                    </div>
                    <br><br>
                    This will also call <a href="#game_events:EnteringState">EnteringState</a>, if it is not called inside <code class="inline">EnteringState</code> already.
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li>
                                <div class="string">state_to_go_to</div>: A <i>Game State</i> to switch to. You can find a list in <a href="javascript:loadPage('game_states');">Game States</a>.
                                <br><br>
                                Remember that the name must be in <b>ALL CAPS</b>, as in <code class="inline" data-language="lua">State("ACTIONSELECT")</code>.
                            </li>
                        </ul>
                    </div>
                    <br><br>
                    <!-- TODO: LINK -->
                    This function is very powerful, and if called from the <i>Text Command</i> <a>[func:x]</a>, you can change the game's state
                    even during <b>Battle Dialog</b> and <b>enemy dialogue</b>.
                    <br><br>
                    See <a href="javascript:loadPage('game_states');">Game States</a>.
                    
                    <br><br><br><br>
                    
                    <a name="GetCurrentState"></a>
                    <div class="function cyf exclude">
                        GetCurrentState() <u>returns</u> <div class="string">string</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Use this function to check what <a href="javascript:loadPage('game_states');">Game State</a> the game is currently in.
                    </div>
                    <br><br>
                    Will return a state name <b><u>IN ALL CAPS</u></b>, such as <code class="inline" data-language="lua">"ACTIONSELECT"</code>.<br>
                    If the game is in <code class="inline" data-language="lua">"ENEMYDIALOGUE"</code>, this will return <code class="inline" data-language="lua">"ENEMYDIALOGUE"</code>, and so on.
                    <br><br><br>
                    If the game is <a href="#game_states:pause">paused</a>, this will return the name of the <b>last active state</b>.
                    <br><br>
                    See <a href="javascript:loadPage('game_states');">Game States</a>.
                    
                    <br><br><br><br>
                    
                    <a name="SetAction"></a>
                    <div class="function cyf">
                        SetAction(<div class="string">"FIGHT" or "ACT"</div>)
                    </div>
                    <br>
                    <div class="arguments desc">
                        Use when entering the <a href="javascript:loadPage('game_states');">Game State</a> <code class="inline" data-language="lua">"ENEMYSELECT"</code> to decide<br>
                        if the player will use an <b>ACT command</b> on the enemy or <b>attack</b> them.
                    </div>
                    <br><br>
                    Simply use this just before calling <code class="inline" data-language="lua">State("ENEMYSELECT")</code>.
                    <br><br>
                    Your input will determine a few things. See below.
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li>
                                <div class="string">mode</div>:<ul class="spaced">
                                    <li>If <code class="inline" data-language="lua">"FIGHT"</code>,  enemies' <b>health bars</b> will appear, and choosing an enemy will attack them.
                                    <li>If <code class="inline" data-language="lua">"ACT"</code>,  enemies' <b>health bars</b> will NOT appear, and choosing an enemy will open the <b>ACT Menu</b>.
                                </ul>
                            </li>
                        </ul>
                    </div>
                    
                    <br><br><br><br>
                    
                    <div class="separator"></div>
                    <a name="battle1"><h3>Battle-related</h3></a>
                    <br>
                    Functions that control the <b>battle</b> in general are here.
                    <br><br><br><br>
                    
                    <a name="BattleDialog"></a>
                    <div class="function">
                        BattleDialog or <font class="cyf">BattleDialogue</font>(<div class="LuaTable">{ table of <div class="string">strings</div> } list_of_strings</div>)
                    </div>
                    <br>
                    <div class="arguments desc">
                        Displays <b><i>Battle Dialogue</i></b>, such as <b>Check</b> and <b>ACT messages</b>.
                    </div>
                    <br><br>
                    Providing multiple <b>strings</b> will add additional text that is displayed when the user presses <kbd>Z</kbd> / <kbd>Enter</kbd>.
                    <br><br>
                    Look at the <b>example monster scripts</b> for more example usage.
                    <br><br>
                    <div class="infobox">
                        <table>
                            <tr><th>Battle dialogue.</th></tr>
                            <tr><td><img id="thumbnail" src="img/state_dialogresult.png" width="480" height="118"></td></tr>
                            <tr><td>
<code data-language="lua">BattleDialog({"POSEUR 1 ATK 1 DEF\n"
      .. "Check message goes here."})</code>
                            </td></tr>
                        </table>
                    </div>
                    <div class="arguments">
                        <ul class="spaced">
                            <li>
                                <div class="LuaTable">list_of_strings</div>: A <b>table</b> full of <b>strings</b> to display as <i>Battle Dialog</i>.
                                <br><br>
                                Special characters:
                                <ul class="spaced">
                                    <li><code class="inline">\n</code> will go to the <b>next line</b>, whilst adding a <b>star</b> (*).</li>
                                    <li><code class="inline">\r</code> will go to the next line, <b>without</b> adding a star.</li>
                                    <li><code class="inline">\"</code> and <code class="inline">\'</code> will each display a <code class="inline">"</code> or <code class="inline">"</code> respectively.</li>
                                </ul>
                                Some example uses:<br>
<pre><code data-language="lua">-- custom Check message. shows up as:
--  _____________________________
-- |* ENEMY - INF ATK INF DEF    |
-- |* You can never defeat       |
-- |  him.                       |
--  ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
BattleDialog({"ENEMY - INF ATK INF DEF\nYou can never defeat\rhim."})

-- some custom ACT text
BattleDialog({"You tell Poseur you don't\rwant to fight any more."})

-- multiple lines. the player has to press "Z" to see the second one
BattleDialog({"You strike a pose.", "Poseur marvels at your\rglorious form!"})
</code></pre>
                            </li>
                        </ul>
                    </div>
                    <br><br>
                    Text will <b>NOT</b> go to the next line automatically!<br>
                    See <a href="#special_variables:autolinebreak">autolinebreak</a>.
                    <br><br>
                    This function enters the <a href="#game_states:normal">Game State</a> <code class="inline" data-language="lua">"DIALOGRESULT"</code>.
                    
                    <br><br><br><br>
                    
                    <a name="SetFrameBasedMovement"></a>
                    <div class="function cyf">
                        SetFrameBasedMovement(<div class="boolean">mode</div>)
                    </div>
                    <br>
                    <div class="arguments desc">
                        Controls whether the player uses <b>frame-based</b> movement (<font class="tooltip" title="2 pixels per frame">2px/frame</font>),
                        or <b>time-based</b> movement (<font class="tooltip" title="120 pixels per second">120px/sec</font>).
                    </div>
                    <br><br>
                    By default, <b>time-based movement</b> is used.
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li>
                                <div class="boolean">mode</div>:<ul class="spaced">
                                    <li>If <code class="inline">true</code>,  the game will use <b>frame-based</b> movement (2px/frame).</li>
                                    <li>If <code class="inline">false</code>, the game will use  <b>time-based</b> movement (120px/sec).</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <br><br>
                    This is useful if your encounter needs a certain degree of <b>precision</b> with the player's <b>position</b>.
                    
                    <br><br><br><br>
                    
                    <a name="AllowPlayerDef"></a>
                    <div class="function cyf">
                        AllowPlayerDef(<div class="boolean">bool</div>)
                    </div>
                    <br>
                    <div class="arguments desc">
                        Enables or disables <i>Undertale's</i> <b>damage formula</b> on the player when they take damage.
                    </div>
                    <br><br>
                    <b>False</b> by default.
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li>
                                <div class="boolean">bool</div>:<ul class="spaced">
                                    <li>If <code class="inline">true</code>,  the Player will take 1 less <b>damage</b> for every 5 <b>DEF</b> points they have.<br>
                                    Refer to <a href="https://undertale.fandom.com/wiki/Stats#Stat_Chart">this chart</a> to see the player's <b>DEF</b> points by LV.
                                    <br><br>
                                    <!-- TODO: LINK -->
                                    Additionally, you can use the <a>Inventory Object</a> to create armor for the player to wear,<br>
                                    and set its amount of DEF with <a>Inventory.SetAmount</a>.
                                    <li>If <code class="inline">false</code>, the Player will always take the same amount of <b>damage</b> no matter what.
                                </ul>
                            </li>
                        </ul>
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="SetPPCollision"></a>
                    <div class="function cyf">
                        SetPPCollision(<div class="boolean">bool</div>)
                    </div>
                    <br>
                    <div class="arguments desc">
                        <!-- TODO: LINK -->
                        Use this function to enable <a>Pixel-Perfect Collision</a> for every <b>bullet</b> in the battle by default.
                    </div>
                    <br><br>
                    <b>False</b> by default.
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li>
                                <div class="boolean">bool</div>:<ul class="spaced">
                                    <!-- TODO: LINK -->
                                    <li>If <code class="inline">true</code>,  the <a>Pixel-Perfect Collision System</a> will be enabled <b>by default</b> when bullets are created.
                                    <li>If <code class="inline">false</code>, the regular <b>collision</b> system will be used by default for new bullets.
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <br><br>
                    <!-- TODO: LINK -->
                    See <a>Pixel-Perfect Collision</a>.
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="encounter"><h2>Encounter Script Functions [E]</h2></a>
                </p>
                
                <p>
                    Functions usable from an <b>Encounter</b> script.
                    <a name="RandomEncounterText"></a>
                    <div class="function exclude">
                        RandomEncounterText() <u>returns</u> <div class="string">string</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        <b>Returns</b> a random <b>comment</b> from a random <b>enemy</b>.
                    </div>
                    <br><br>
                    Mainly used to set <b>encounter text</b>.
                    <br><br>
                    Here is how it is chosen:
                    <br><br>
                    <div class="arguments desc">
                        <ol class="spaced">
                            <li>Chooses a random active <b>enemy</b> (see <a href="#special_variables:enemies">enemies</a>).</li>
                            <li>Chooses a random item from the enemy's <code class="inline">comments</code> table (see <a href="#special_variables:comments">comments</a>).</li>
                            <li><b>Returns</b> the chosen string.</li>
                        </ol>
                    </div>
                    <br><br>
                    Only <b>active</b> enemies will be chosen. Ones who are dead or removed with <a href="#special_functions:SetActive">SetActive</a> will be ignored.
                    <!--
                    TODO: IS THIS NECESSARY?
                    Here is an example:<br>
<pre><code data-language="lua">--  --                      --  --
-- this is the ENCOUNTER script --
--  --                      --  --
enemies = {"poseur"}

-- later in the script:
function DefenseEnding()
    encountertext = RandomEncounterText() -- this line is here by default
end

--  --                  --  --
-- this is a MONSTER script --
--  --                  --  --

-- in DefenseEnding in the Encounter script,
-- `encountertext` will be set to a random line from here
comments = {"Smells like the work\rof an enemy stand.",
            "Poseur is posing like his\rlife depends on it.",
            "Poseur's limbs shouldn't be\rmoving in this way."}
</code></pre>
-->
                    
                    <br><br><br><br>
                    
                    <a name="SetButtonLayer"></a>
                    <div class="function cyf">
                        SetButtonLayer(<div class="string">layer</div>)
                    </div>
                    <br>
                    <div class="arguments desc">
                        <!-- TODO: LINK -->
                        Changes the <a>sprite layer</a> of the <b>buttons</b> AND the <b>UI</b> to one of your choice.
                    </div>
                    <br><br>
                    This includes the <b>FIGHT</b>, <b>ACT</b>, <b>ITEM</b> and <b>MERCY</b> buttons,<br>
                    <u>AND</u> the player's <b>name</b>, <b>lv</b>, <b>hp</b> and <b>hp bar</b>.
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li>
                                <div class="string">layer</div>: The name of any existing <b>sprite layer</b> to move the buttons and UI to.<br>
                                * Enter <code class="inline" data-language="lua">"default"</code> to <b>reset</b> the buttons and UI to their default <b>layer</b>.
                                <br><br>
                                <!-- TODO: LINK -->
                                For a list of default <b>sprite layers</b> you can pick from, see <a>CreateLayer</a>.
                            </li>
                        </ul>
                    </div>
                    <br><br>
                    <!-- TODO: LINK -->
                    See <a>CreateLayer</a>.
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="monster"><h2>Monster Script Functions [M]</h2></a>
                </p>
                
                <p>
                    Functions usable from <b>Monster</b> scripts.
                    <div class="separator"></div>
                    <a name="battle2"><h3>Battle-related</h3></a>
                    <br>
                    Functions that control what it's like to <b>battle</b> this monster are here.
                    <br><br><br><br>
                    
                    <a name="SetSprite"></a>
                    <div class="function">
                        SetSprite(<div class="string">filename</div>)
                    </div>
                    <br>
                    <div class="arguments desc">
                        Instantly changes the monster's displayed <b>image</b> to <code class="inline">Your Mod/Sprites/filename.png</code>.
                    </div>
                    <br><br>
                    <!-- TODO: LINK -->
                    Can be used with <a>[func:x]</a> to change sprites <b>during dialogue</b>.
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li>
                                <div class="string">filename</div>: The name of the <b>image</b> in <code class="inline">Your Mod/Sprites</code> to load.<br>
                                Images must be <code class="inline">.png</code> files. <i>Don't</i> include the extension in this function.
                            </li>
                        </ul>
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="SetActive"></a>
                    <div class="function">
                        SetActive(<div class="boolean">active</div>)
                    </div>
                    <br>
                    <div class="arguments desc">
                        Instantly makes a monster <b>active</b> or <b>inactive</b>.
                    </div>
                    <br><br>
                    Monsters are <b>active</b> by default, until they are <b>killed</b> or <b>spared</b>.
                    <br><br>
                    <b>Inactive</b> monsters will not say <b>dialogue</b>, show up in <b>menus</b> or run any <b>game events</b>.
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li>
                                <div class="boolean">active</div>:<ul class="spaced">
                                    <li>If <code class="inline">true</code>, the monster will become <b>active</b> if it isn't already.</li>
                                    <li>If <code class="inline">false</code>, the monster will become <b>inactive</b> if it isn't already.</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <br><br>
                    This can be very useful for having <b>multiple enemies</b> that show up <b>later</b> in the battle,<br>
                    especially when used together with <a href="#SetSprite">SetSprite</a>.
                    
                    <br><br><br><br>
                    
                    <a name="Kill"></a>
                    <div class="function exclude">
                        Kill()
                    </div>
                    <br>
                    <div class="arguments desc">
                        Instantly kills this monster, turning it into <b>dust</b> and making it <a href="#SetActive">inactive</a>.
                    </div>
                    <br><br>
                    Does <b>NOT</b> activate <a href="#game_events:OnDeath">OnDeath</a>.
                    
                    <br><br><br><br>
                    
                    <a name="Spare"></a>
                    <div class="function exclude">
                        Spare()
                    </div>
                    <br>
                    <div class="arguments desc">
                        Instantly spares this monster, making it <b>transparent</b> and <a href="#SetActive">inactive</a> alongside a particle effect.
                    </div>
                    <br><br>
                    Does <b>NOT</b> activate <a href="#game_events:OnSpare">OnSpare</a>.
                    
                    <br><br><br><br>
                    
                    <a name="SetDamage"></a>
                    <div class="function cyf">
                        SetDamage(<div class="number">amount</div>)
                    </div>
                    <br>
                    <div class="arguments desc">
                        Sets the amount of <b>damage</b> this monster will take the next time it is <b>attacked</b> by the player.<br>
                        Can be negative.
                    </div>
                    <br><br>
                    The best place to call this is <a href="#game_events:BeforeDamageCalculation">BeforeDamageCalculation</a>.
                    
                    <br><br><br><br>
                    
                    <div class="separator"></div>
                    <a name="graphical"><h3 class="cyf">Graphical</h3></a>
                    <br>
                    Functions that only control the way the enemy <b>appears</b> are here.
                    <br><br>
                    They are also all <b class="cyf">CYF-exclusive</b>, so be warned!
                    <br><br><br><br>
                    
                    <a name="Move"></a>
                    <div class="function cyf">
                        Move(<div class="number">x</div>, <div class="number">y</div>)
                    </div>
                    <br>
                    <div class="arguments desc">
                        Moves the enemy's <b>sprite</b> a set amount of pixels right and up.
                    </div>
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li><div class="number">x</div>: The amount of pixels <b>right</b> to move the monster sprite.</li>
                            <li><div class="number">y</div>: The amount of pixels <b>up</b> to move the monster sprite.</li>
                        </ul>
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="MoveTo"></a>
                    <div class="function cyf">
                        MoveTo(<div class="number">x</div>, <div class="number">y</div>)
                    </div>
                    <br>
                    <div class="arguments desc">
                        Moves the enemy's <b>sprite</b> to a set <b>position</b> on screen.
                    </div>
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li><div class="number">x</div>: The <b>x</b>-position to move the monster to on-screen.<br>0 is the left side of the screen.</li>
                            <li><div class="number">y</div>: The <b>y</b>-position to move the monster to on-screen.<br>0 is the bottom side of the screen.</li>
                        </ul>
                    </div>
                    <br><br>
                    <!-- TODO: LINK -->
                    <b>NOT RELATED</b> to <a href="#special_variables:enemypositions">enemypositions</a>!<br>
                    <code class="inline">(0, 0)</code> is the <b>bottom-left</b> corner of the screen!
                    
                    <br><br><br><br>
                    
                    <a name="BindToArena"></a>
                    <div class="infobox">
                        <table>
                            <tr><th>Enemy under the Arena.</th></tr>
                            <tr><td><img id="thumbnail" src="img/under_arena.png" width="220" height="300"></td></tr>
                            <tr><td><code class="inline" data-language="lua">BindToArena(false, false)</code></td></tr>
                        </table>
                    </div>
                    <div class="function cyf">
                        BindToArena(<div class="boolean">bind</div>, <div class="boolean">under</div> = false)
                    </div>
                    <br>
                    <div class="arguments desc">
                        Controls whether the enemy's sprite is <b>bound</b> to the <b>Arena</b>.
                    </div>
                    <br><br>
                    If <b>bound</b>, the enemy will <b>move</b> up and down as the Arena <b>resizes</b>.
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li>
                                <div class="boolean">bind</div>:<ul class="spaced">
                                    <li>If <code class="inline">true</code>, the enemy will be <b>bound</b> to the Arena, moving up and down as it <b>resizes</b>.</li>
                                    <li>If <code class="inline">false</code>, the enemy will <b>NOT</b> be bound to the Arena, instead staying in place while it <b>resizes</b>.</li>
                                </ul>
                            </li>
                            <li><div class="boolean">under</div>
                            <i>(optional, <code class="inline">false</code> by default)</i>: If <code class="inline">true</code>, the enemy's sprite will additionally be moved <b>behind</b> the Arena.<br>
                                Recommended to use if <code class="inline">bind</code> is <code class="inline">true</code>.</li>
                        </ul>
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="SetBubbleOffset"></a>
                    <div class="function cyf">
                        SetBubbleOffset(<div class="number">x</div>, <div class="number">y</div>)
                    </div>
                    <br>
                    <div class="arguments desc">
                        Sets the enemy's dialogue <b>bubble</b> position relative to its original position.
                    </div>
                    <br><br>
                    Entering <code class="inline">(0, 0)</code> would <b>return</b> the bubble's position to normal.
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li><div class="number">x</div>: The <b>horizontal</b> offset of the bubble.<br>
                            Greater values go further <b>right</b>.</li>
                            <li><div class="number">y</div>: The <b>vertical</b> offset of the bubble.<br>
                            Greater values go further <b>up</b>.</li>
                        </ul>
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="SetDamageUIOffset"></a>
                    <div class="function cyf">
                        SetDamageUIOffset(<div class="number">x</div>, <div class="number">y</div>)
                    </div>
                    <br>
                    <div class="arguments desc">
                        Sets the enemy's <b>hp bar</b> and <b>damage number</b> positions relative to their original positions.
                    </div>
                    <br><br>
                    Entering <code class="inline">(0, 0)</code> would <b>return</b> their positions to normal.
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li><div class="number">x</div>: The <b>horizontal</b> offset of the <b>hp bar</b> and <b>damage numbers</b>.<br>
                            Greater values go further <b>right</b>.</li>
                            <li><div class="number">y</div>: The <b>vertical</b> offset of the <b>hp bar</b> and <b>damage numbers</b>.<br>
                            Greater values go further <b>up</b>.</li>
                        </ul>
                    </div>
                    <br><br>
                    The <b>damage UI</b> is on a layer <b>above</b> the <b>Arena</b>.
                    
                    <br><br><br><br>
                    
                    <a name="SetSliceAnimOffset"></a>
                    <div class="function cyf">
                        SetSliceAnimOffset(<div class="number">x</div>, <div class="number">y</div>)
                    </div>
                    <br>
                    <div class="arguments desc">
                        Changes the position of the <b>red slash</b> (attack animation) relative to its original position.
                    </div>
                    <br><br>
                    Entering <code class="inline">(0, 0)</code> would <b>return</b> its position to normal.
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li><div class="number">x</div>: The <b>horizontal</b> offset of the <b>slice animation</b>.<br>
                            Greater values go further <b>right</b>.</li>
                            <li><div class="number">y</div>: The <b>vertical</b> offset of the <b>slice animation</b>.<br>
                            Greater values go further <b>up</b>.</li>
                        </ul>
                    </div>
                    <br><br>
                    The <b>slice animation</b> is on a layer <b>above</b> the <b>Arena</b>.
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="wave"><h2>Wave Script Functions [W]</h2></a>
                </p>
                
                <p>
                    Functions usable from <b>Wave</b> scripts.
                    
                    <a name="EndWave"></a>
                    <div class="function exclude">
                        EndWave()
                    </div>
                    <br>
                    <div class="arguments desc">
                        Calling this function will instantly <b>end all waves</b> and return to the player's turn.
                    </div>
                    <br><br>
                    This will also call <a href="#game_events:EndingWave">EndingWave</a> once.
                </p>
            </span>
            
            <!-- [PAGE: SPECIAL VARIABLES] -->
            
            <span class="page" id="special_variables" name="Special Variables">
                <script type="text/javascript">writeTitle("Special Variables");</script>
                <h3 style="font-weight: normal;">This page outlines the various <b>Variables</b> you can use in your own scripts.<br></h3>
                <br><br>
                <div class="contents">
                    <span class="toggle">
                        <b>Contents</b>
                    </span>
                    <ol>
                    <li>
                        <a class="cyf" href="#all">All-Script Variables [E/M/W]</a>
                        <ol type="a">
                            <li><a href="#isCYF">isCYF</a></li>
                            <li><a href="#safe">safe</a></li>
                            <li><a href="#windows">windows</a></li>
                            <li><a href="#CYFversion">CYFversion</a></li>
                        </ol>
                    </li>
                    <li>
                        <a href="#encounter">Encounter Script Variables [E]</a>
                        <ol type="a">
                            <li>
                                <div class="contents sub">
                                    <span class="toggle">
                                        <i><a href="#battle1">Battle-related</a></i>
                                    </span>
                                    <ol type="A">
                                        <li><a href="#music">music</a></li>
                                        <li><a href="#encountertext">encountertext</a></li>
                                        <li><a href="#nextwaves">nextwaves</a></li>
                                        <li><a href="#wavetimer">wavetimer</a></li>
                                        <li><a href="#arenasize">arenasize</a></li>
                                        <li><a href="#enemies">enemies</a></li>
                                        <li><a href="#enemypositions">enemypositions</a></li>
                                        <li><a class="cyf" href="#Wave">Wave</a></li>
                                    </ol>
                                </div>
                            </li>
                            <li>
                                <div class="contents sub">
                                    <span class="toggle">
                                        <i><a class="cyf" href="#eob">End of battle-related</a></i>
                                    </span>
                                    <ol type="A">
                                        <li><a href="#unescape">unescape</a></li>
                                        <li><a href="#flee">flee</a></li>
                                        <li><a href="#fleesuccess">fleesuccess</a></li>
                                        <li><a href="#fleetexts">fleetexts</a></li>
                                        <li><a href="#deathmusic">deathmusic</a></li>
                                        <li><a href="#deathtext">deathtext</a></li>
                                        <li><a href="#revive">revive</a></li>
                                    </ol>
                                </div>
                            </li>
                            <li>
                                <div class="contents sub">
                                    <span class="toggle">
                                        <i><a class="cyf" href="#text">Text-related</a></i>
                                    </span>
                                    <ol type="A">
                                        <li><a href="#autolinebreak">autolinebreak</a></li>
                                        <li><a href="#playerskipdocommand">playerskipdocommand</a></li>
                                    </ol>
                                </div>
                            </li>
                        </ol>
                    </li>
                    <li>
                        <a href="#monster">Monster Script Variables [M]</a>
                        <ol type="a">
                            <li><a href="#Encounter1">Encounter</a></li>
                            <li>
                                <div class="contents sub">
                                    <span class="toggle">
                                        <i><a href="#battle2">Battle-related</a></i>
                                    </span>
                                    <ol type="A">
                                        <li><a href="#comments">comments</a></li>
                                        <li><a href="#commands">commands</a></li>
                                        <li><a href="#canspare">canspare</a></li>
                                        <li><a class="cyf" href="#isactive">isactive</a></li>
                                        <li><a class="cyf" href="#unkillable">unkillable</a></li>
                                    </ol>
                                </div>
                            </li>
                            <li>
                                <div class="contents sub">
                                    <span class="toggle">
                                        <i><a href="#dialogue">Dialogue-related</a></i>
                                    </span>
                                    <ol type="A">
                                        <li><a href="#randomdialogue">randomdialogue</a></li>
                                        <li><a href="#currentdialogue">currentdialogue</a></li>
                                        <li><a href="#dialogbubble">dialogbubble</a></li>
                                        <li><a class="cyf" href="#font">font</a></li>
                                        <li><a class="cyf" href="#voice">voice</a></li>
                                    </ol>
                                </div>
                            </li>
                            <li>
                                <div class="contents sub">
                                    <span class="toggle">
                                        <i><a href="#stat">Stat-related</a></i>
                                    </span>
                                    <ol type="A">
                                        <li><a href="#cancheck">cancheck</a></li>
                                        <li><a href="#check">check</a></li>
                                        <li><a href="#name">name</a></li>
                                        <li><a href="#hp">hp</a></li>
                                        <li><a class="cyf" href="#maxhp">maxhp</a></li>
                                        <li><a href="#atk">atk</a></li>
                                        <li><a href="#def">def</a></li>
                                        <li><a href="#xp">xp</a></li>
                                        <li><a href="#gold">gold</a></li>
                                    </ol>
                                </div>
                            </li>
                            <li>
                                <div class="contents sub">
                                    <span class="toggle">
                                        <i><a href="#graphical">Graphical</a></i>
                                    </span>
                                    <ol type="A">
                                        <li><a href="#sprite">sprite</a></li>
                                        <li><a class="cyf" href="#monstersprite">monstersprite</a></li>
                                        <li><a class="cyf" href="#posx">posx / posy</a></li>
                                    </ol>
                                </div>
                            </li>
                        </ol>
                    </li>
                    <li>
                        <a href="#wave">Wave Script Variables [W]</a>
                        <ol type="a">
                            <li><a href="#Encounter1">Encounter</a></li>
                            <li><a class="cyf" href="#EndWave">wavename</a></li>
                        </ol>
                    </li>
                    </ol>
                </div>
                
                <p>
                    <div class="separator"></div>
                    <a name="all"><h2 class="cyf">All-Script Variables [E/M/W]</h2></a>
                </p>
                
                <p>
                    These are variables that can be used from <b>any script</b>.
                    <br><br>
                    They are also all <b class="cyf">CYF-exclusive</b>, so be warned!
                    <br><br><br><br>
                    
                    <a name="isCYF"></a>
                    <div class="function cyf">
                        <div class="boolean">isCYF</div> = true
                    </div>
                    <br>
                    <div class="arguments desc">
                        If you are using <b class="cyf">CYF</b>, this will always be <code class="inline" data-language="lua">true</code>.<br>
                        In <b class="unitale">Unitale</b>, this will be <code class="inline" data-language="lua">nil</code>.
                    </div>
                    <br><br>
                    Use this to set up compatibility for mods made for Unitale <i>and</i> CYF.
                    <br><br>
                    * Still true even if using <b class="tooltip" title="Retrocompatibility Mode">retromode</b>.
                    
                    <br><br><br><br>
                    
                    <a name="safe"></a>
                    <div class="function cyf">
                        <div class="boolean">safe</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Will be <code class="inline" data-language="lua">true</code> if you have <b>Safe Mode</b> enabled in the <b>Options</b> menu, <code class="inline" data-language="lua">false</code> otherwise.
                    </div>
                    <br><br>
                    Use this to filter unsafe content in your mod, such as gore.
                    
                    <br><br><br><br>
                    
                    <a name="windows"></a>
                    <div class="function cyf">
                        <div class="boolean">windows</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Will be <code class="inline" data-language="lua">true</code> if you are playing on a <b>Windows</b> computer, <code class="inline" data-language="lua">false</code> otherwise.
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="CYFversion"></a>
                    <div class="function cyf">
                        <div class="string">CYFversion</div> = "0.6.3"
                    </div>
                    <br>
                    <div class="arguments desc">
                        Tells you which <b>version</b> of <b class="cyf">CYF</b> the user is playing on.
                    </div>
                    <br><br>
                    <table class="outline">
                        <tr>
                            <th>Actual CYF Version</th>
                            <th>Value of <code class="inline">CYFversion</code></th>
                        </tr>
                        <tr>
                            <td>Before <font class="cyf">CYF <code class="inline">v0.6</code></font></td>
                            <td>
                                <b>Previous version</b>
                                <br><br>
                                In <font class="cyf">CYF version <code class="inline">0.5.5</code></font>, this would be <code class="inline">0.5.4</code>.
                            </td>
                        </tr>
                        <tr>
                            <td><font class="cyf">CYF <code class="inline">v0.6</code></font> - <font class="cyf">CYF <code class="inline">v0.6.1.2</code></font></td>
                            <td><b>Always</b> <code class="inline">1.0</code></td>
                        </tr>
                        <tr>
                            <td><font class="cyf">CYF <code class="inline">v0.6.2</code></font><b>+</b></td>
                            <td><b>Actual version number</b></td>
                        </tr>
                    </table>
                    <br>
                    <b>NOTE!</b> Lua has a built-in string comparing function!
                    <br><br>
                    You can very <b>easily</b> check for the right <b>versions</b> of CYF by using:
                    <br><br>
                    <code class="inline" data-language="lua">if CYFversion &lt;  "0.6.2.2" then</code>,<br>
                    <code class="inline" data-language="lua">if CYFversion &gt;= "0.6.2.3" then</code>,<br>
                    And so on.
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="encounter"><h2>Encounter Script Variables [E]</h2></a>
                </p>
                
                <p>
                    Variables usable from an <b>Encounter</b> script.
                    <br><br><br><br>
                    
                    <div class="separator"></div>
                    <a name="battle1"><h3>Battle-related</h3></a>
                    <br>
                    Variables that control the <b>battle</b> in general.
                    <br><br><br><br>
                    
                    <a name="music"></a>
                    <div class="small function">
                        <div class="string">music</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        At the start of battle, this track name is loaded from <code class="inline">Your Mod/Audio/</code> and played automatically.<br>
                        So if you want to play <code class="inline">myBattle.ogg</code>, set this variable to <code class="inline" data-language="lua">"myBattle"</code>.
                    </div>
                    <br><br>
                    If not defined, the battle will load <code class="inline" data-language="lua">"mus_battle1"</code> instead.
                    <br><br>
                    Ogg and Wav are supported.
                    <br><br>
                    Changing this <b>during</b> the fight will <b>not</b> change the music.<br>
                    <!-- TODO: LINK -->
                    See <a>The Audio Object</a>.
                    
                    <br><br><br><br>
                    
                    <a name="encountertext"></a>
                    <div class="infobox">
                        <table>
                            <tr><th>Encounter text.</th></tr>
                            <tr><td><img id="thumbnail" src="img/state_actionselect.png" width="480" height="185"></td></tr>
                            <tr><td><code class="inline" data-language="lua">encountertext = "Poseur strikes a pose!"</code></td></tr>
                        </table>
                    </div>
                    <div class="small function">
                        <div class="string">encountertext</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        This variable controls the <b>encounter text</b> - the text that<br>
                        appears when it's the player's turn (see the image to the right).
                    </div>
                    <br><br>
                    Set this before the encounter starts to choose the <b>initial</b> text to display (e.g. "Your path is blocked by two mannequins!").
                    <br><br><br>
                    <u>Special notes</u>:
                    <br><br>
                    <div class="arguments desc">
                        <ul class="spaced">
                            <li>Text will <b>NOT</b> go to the next line automatically!<br>
                            See <a href="#autolinebreak">autolinebreak</a>.</li>
                            <li>
                                Special characters:
                                <ul class="spaced">
                                    <li><code class="inline">\n</code> will go to the <b>next line</b>, whilst adding a <b>star</b> (*).</li>
                                    <li><code class="inline">\r</code> will go to the next line, <b>without</b> adding a star.</li>
                                    <li><code class="inline">\"</code> and <code class="inline">\'</code> will each display a <code class="inline">"</code> or <code class="inline">"</code> respectively.</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="nextwaves"></a>
                    <div class="small function">
                        <div class="LuaTable">nextwaves: { table of <div class="string">strings</div> }</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Whenever it's the monster's turn (<a href="javascript:loadPage('game_states');">see "DEFENDING"</a>),<br>
                        every name in this table will be loaded as a <b>wave</b> the player will have to <b>defend</b> against.
                    </div>
                    <br><br>
                    Most of the time, you'll only want one wave at a time.<br>
                    But you <i>can</i> load <b>multiple</b> waves at the <b>same time</b>.
                    <br><br><br>
                    Example usage:
                    <br><br>
<pre><code data-language="lua">-- good place for setting `nextwaves`
function EnemyDialogueEnding()
    -- plays the wave "Waves/bullettest_chaserorb"
    nextwaves = {"bullettest_chaserorb"}
    
    -- plays two waves at the same time
    nextwaves = {"bullettest_chaserorb", "bullettest_bouncy"}
end
</code></pre>
                    
                    <br><br><br><br>
                    
                    <a name="wavetimer"></a>
                    <div class="small function">
                        <div class="number">wavetimer</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        This variable controls how <b>long</b> all <b>waves</b> will last, in <b>seconds</b>.<br>
                        So if it's set to <code class="inline" data-language="lua">4.0</code>, all waves will last only 4 seconds.
                    </div>
                    <br><br>
                    If you want, you can set this to <code class="inline" data-language="lua">math.huge</code>, and all <b>waves</b><br>
                    will have to be ended <b>manually</b> by using <a href="#special_functions:EndWave">EndWave</a>.
                    
                    <br><br><br><br>
                    
                    <a name="arenasize"></a>
                    <div class="infobox">
                        <table>
                            <tr><th>Arena size.</th></tr>
                            <tr><td><img src="img/state_defending.png" width="206" height="153"></td></tr>
                            <tr><td><code class="inline" data-language="lua">arenasize = {155, 130}</code></td></tr>
                        </table>
                    </div>
                    <div class="small function">
                        <div class="LuaTable">arenasize: { table of <div class="number">x</div>, <div class="number">y</div> }</div> = {155, 130}
                    </div>
                    <br>
                    <div class="arguments desc">
                        This variable controls the size of the <b>Arena</b> (in pixels) whenever<br>
                        the enemies start <b>speaking</b> and at the beginning of <b>waves</b>.
                    </div>
                    <br><br>
                    <!-- TODO: LINK -->
                    Within waves, you can still use <a>The Arena Object</a> to change the size of the <b>Arena</b> to something else.
                    <br><br>
                    <div class="arguments desc">
                        <ul class="spaced">
                            <li><div class="number">x</div>: The <b>width</b> of the Arena in pixels.</li>
                            <li><div class="number">y</div>: The <b>height</b> of the Arena in pixels.</li>
                        </ul>
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="enemies"></a>
                    <div class="small function">
                        <div class="LuaTable">enemies: { table of <div class="string">enemy_name</div> }</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        At the <b>beginning of battle</b>, every string in this table<br>
                        will be loaded as a <b>Monster Script</b>.
                    </div>
                    <br><br>
                    During and after <a href="#game_events:EncounterStarting">EncounterStarting</a>, this table will become...
                    <br><br>
                    <div class="small function">
                        <div class="LuaTable">enemies: { table of <div class="UnitaleScript">monster_script</div> }</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        <!-- TODO: LINK -->
                        A table of <a>Script Objects</a> pointing to the loaded <b>Monster Scripts</b>.
                    </div>
                    <br><br><br>
                    Here is an example to help you understand what this is for:
                    <br><br>
<pre><code data-language="lua">-- loads the enemies "poseur.lua" and "posette.lua" into battle
enemies = {"poseur", "posette"}

-- later in the script:
function EncounterStarting()
    -- by this point, all enemies have been turned into Script Objects
    -- (they each point to a monster script)
    
    enemies[1].GetVar('name') -- "poseur"
    enemies[2].GetVar('name') -- "posette"
    
    -- more example uses
    enemies[1].SetVar('hp', 20)
    enemies[2].Call('Kill')
    
    -- see "The Script Object" and "The Monster Script" for more information.
end
</code></pre>
                    
                    <br><br><br><br>
                    
                    <a name="enemypositions"></a>
                    <div class="small function">
                        <div class="LuaTable">enemypositions: { table of { table of <div class="number">x</div>, <div class="number">y</div> } }</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        At the <b>beginning of battle</b>, every loaded <b>enemy</b> will be<br>
                        moved to a matching <b>position</b> on-screen from this table.
                    </div>
                    <br><br>
                    This table <b>must</b> be present to load enemies!
                    <br><br><br>
                    All measurements are measured from the point <code class="inline">(x = 320, y = 231)</code> on screen.
                    <br><br>
<pre><code data-language="lua">enemies = {"poseur", "posette"}

enemypositions = {
    {-20,  0}       -- spawn "poseur" 20px left of normal
    { 20, 10}       -- spawn "posette" 20px right and 10px higher than normal
}
</code></pre>
                    
                    <br><br><br><br>
                    
                    <a name="Wave"></a>
                    <div class="small function cyf">
                        <div class="LuaTable">Wave: { table of <div class="UnitaleScript">wave_script</div> }</div> = {}
                    </div>
                    <br>
                    <div class="arguments desc">
                        During the <a href="javascript:loadPage('game_states');">Game State</a> <code class="inline" data-language="lua">"DEFENDING"</code>, this will fill with<br>
                        <!-- TODO: LINK -->
                        <a>Script Objects</a> pointing to every active <b>Wave Script</b>.
                    </div>
                    <br><br>
                    This is set <b>after</b> <a href="#game_events:EnemyDialogueEnding">EnemyDialogueEnding</a>, and even after <a href="#game_events:EnteringState">EnteringState</a>.<br>
                    To use this variable, you need to use <a href="#game_events:Update">Update</a> and <a href="#special_functions:GetCurrentState">GetCurrentState</a>.
                    <br><br>
                    
                    <div class="separator"></div>
                    <a name="eob"><h3 class="cyf">End of battle-related</h3></a>
                    <br>
                    Variables that control the way the battle <b>ends</b>, whether that be by<br>
                    the player <b>quitting</b>, <b>fleeing</b>, or <b>dying</b>.
                    <br><br>
                    They are also all <b class="cyf">CYF-exclusive</b>, so be warned!
                    <br><br><br><br>
                    
                    <a name="unescape"></a>
                    <div class="small function cyf">
                        <div class="boolean">unescape</div> = false
                    </div>
                    <br>
                    <div class="arguments desc">
                        Disables the function of the <kbd>Esc</kbd> key (exiting battles).
                    </div>
                    <br><br>
                    If you set this to <code class="inline" data-language="lua">true</code>, then the player will be unable to <b>quit</b> the encounter by pressing <kbd>Esc</kbd>.
                    
                    <br><br><br><br>
                    
                    <a name="flee"></a>
                    <div class="infobox">
                        <table>
                            <tr><th>No flee option.</th></tr>
                            <tr><td><img src="img/no_flee.png" width="255" height="150"></td></tr>
                            <tr><td><code class="inline" data-language="lua">flee = false</code></td></tr>
                        </table>
                    </div>
                    <div class="small function cyf">
                        <div class="boolean">flee</div> = true
                    </div>
                    <br>
                    <div class="arguments desc">
                        Controls whether the <b>"Flee"</b> option is present within the <b>MERCY</b> menu.
                    </div>
                    <br><br>
                    If you set this to <code class="inline" data-language="lua">false</code>, then the <b>"Flee"</b> option will <b>disappear</b> from the <b>MERCY</b> menu.
                    <br><br>
                    Useful for making <b>unescapable</b> battles.
                    
                    <br><br><br><br>
                    
                    <a name="fleesuccess"></a>
                    <div class="small function cyf">
                        <div class="boolean">fleesuccess</div> = nil
                    </div>
                    <br>
                    <div class="arguments desc">
                        Forces the player's attempts to <b>Flee</b> with the <b>"Flee"</b> option<br>
                        to either <b>fail</b> or <b>succeed</b> every time.
                    </div>
                    <br><br>
                    Doesn't exist by default.
                    <br><br>
                    <div class="arguments desc">
                        Setting this will force the player's attempts to <b>Flee</b> to:
                        <ul class="spaced">
                            <li><code class="inline" data-language="lua">true</code>: Succeed every time</li>
                            <li><code class="inline" data-language="lua">false</code>: Fail every time</li>
                        </ul>
                    </div>
                    <br><br>
                    Otherwise, it is a <b>50%</b> chance, as it is in <i>Undertale</i>.
                    
                    <br><br><br><br>
                    
                    <a name="fleetexts"></a>
                    <div class="small function cyf">
                        <div class="LuaTable">fleetexts: { table of <div class="string">flee_text</div> }</div> = nil
                    </div>
                    <br>
                    <div class="arguments desc">
                        Lets you choose custom messages to display whenever the player <b>flees</b> from combat.
                    </div>
                    <br><br>
                    Doesn't exist by default.
                    <br><br>
                    If you create this, a random <b class="string">string</b> from this table will be shown<br>
                    if the player <i>successfully</i> <b>flees</b> with the <b>"Flee"</b> option.
                    <br><br>
                    Otherwise, a pre-set list of strings will be chosen from instead.
                    
                    <br><br><br><br>
                    
                    <a name="deathmusic"></a>
                    <div class="small function cyf">
                        <div class="string">deathmusic</div> = nil
                    </div>
                    <br>
                    <div class="arguments desc">
                        Changes the music of the <b>Game Over</b> screen.
                    </div>
                    <br><br>
                    If set, the music you choose here will play during the <b>Game Over</b> screen.
                    <br><br>
                    Works the same as <a href="#music">music</a>.
                    <br><br>
                    If not set, the Game Over screen will use <code class="inline" data-language="lua">"mus_gameover"</code>.
                    
                    <br><br><br><br>
                    
                    <a name="deathtext"></a>
                    <div class="small function cyf">
                        <div class="LuaTable">deathtext: { table of <div class="string">death_text</div> }</div> = nil
                    </div>
                    <br>
                    <div class="arguments desc">
                        Lets you display custom messages during the <b>Game Over</b> screen.
                    </div>
                    <br><br>
                    If set, the <b class="string">strings</b> in this table will be shown in order on the <b>Game Over</b> screen.
                    <br><br>
                    Otherwise, the default <i>Undertale</i> text will be used, such as:<br>
                    <code class="inline">"You're our only hope!" "&lt;name&gt;...Stay determined!"</code>
                    <br><br>
                    * If <a href="#revive">revive</a> is <code class="inline" data-language="lua">true</code>, this text will be shown when the player revives.
                    
                    <br><br><br><br>
                    
                    <a name="revive"></a>
                    <div class="small function cyf">
                        <div class="boolean">revive</div> = false
                    </div>
                    <br>
                    <div class="arguments desc">
                        If <code class="inline" data-language="lua">true</code>, whenever the player dies, their soul will <b>re-fuse</b>, as in <i>Undertale</i>,<br>
                        and they will be <b>revived</b> and continue battle.
                    </div>
                    <br><br>
                    * If <a href="#deathtext">deathtext</a> is set, its text will be displayed just before reviving.<br>
                    Otherwise, no text will be shown.
                    
                    <br><br><br><br>
                    
                    <div class="separator"></div>
                    <a name="text"><h3 class="cyf">Text-related</h3></a>
                    <br>
                    Variables that control <b>text</b>, including <a href="#special_functions:BattleDialog">BattleDialog</a>, <a href="#encountertext">encountertext</a> and
                    <!-- TODO: LINK -->
                    <a>Text Objects</a>.
                    <br><br>
                    They are also all <b class="cyf">CYF-exclusive</b>, so be warned!
                    <br><br><br><br>
                    
                    <a name="autolinebreak"></a>
                    <div class="infobox">
                        <table>
                            <tr><th colspan="2">Auto-line breaking.</th></tr>
                            <tr>
                                <td><img src="img/linebreak1.png" width="201" height="237"></td>
                                <td><img src="img/linebreak2.png" width="201" height="237"></td>
                            </tr>
                            <tr>
                                <th>(Regular)</th>
                                <th><code class="inline" data-language="lua">autolinebreak = true</code></th>
                            </tr>
                        </table>
                    </div>
                    <div class="small function cyf">
                        <div class="boolean">autolinebreak</div> = false
                    </div>
                    <br>
                    <div class="arguments desc">
                        When <code class="inline" data-language="lua">true</code>, forces <a href="#special_functions:BattleDialog">BattleDialog</a>, <a href="#encountertext">encountertext</a> and <a href="#currentdialogue">
                        enemy dialogue</a> to automatically<br>go to the <b>next line</b> when text would go outside of the <b>Arena</b> / <b>dialogue bubble</b>.
                    </div>
                    <br><br>
                    <!-- TODO: LINK -->
                    This does NOT affect <a>Text Objects</a>, as they always have this behavior.
                    
                    <br><br><br><br>
                    
                    <a name="playerskipdocommand"></a>
                    <div class="small function cyf">
                        <div class="boolean">playerskipdocommand</div> = false
                    </div>
                    <br>
                    <div class="arguments desc">
                        If <code class="inline" data-language="lua">true</code>, when the player <b>skips</b> text with <kbd>X</kbd>, any <a>Text Commands</a> that haven't been typed yet will activate.
                    </div>
                    <br><br>
                    <!-- TODO: LINK -->
                    See <a>Text Commands</a>.
                    <br><br>
                    For example's sake, let's say we have this text:<br>
                    <pre><code class="inline" data-language="lua">BattleDialog({"Time to change sprite.\n[func:ChangeSprite,sans2]"})</code></pre>
                    <br>
                    What happens if the player presses <kbd>X</kbd> <b>before</b> the text has finished typing?
                    <br><br>
                    Normally, <code class="inline">[func:ChangeSprite,sans2]</code> would <b>NOT</b> activate.<br>
                    But with <code class="inline">playerskipdocommand</code> as <code class="inline" data-language="lua">true</code>, it <b>would</b> activate.
                    <br><br>
                    This means that you don't have to worry about the player <b>skipping over</b> important <b>Text Commands</b>.
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="monster"><h2>Monster Script Variables [M]</h2></a>
                </p>
                
                <p>
                    Variables usable from all <b>Monster</b> scripts.
                    
                    <br><br>
                    <a name="Encounter1"></a>
                    <div class="small function">
                        <div class="UnitaleScript">Encounter</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        <!-- TODO: LINK -->
                        A <a>Script Object</a> that points to the <b>Encounter Script</b>.
                        <br><br>
                        Because the <b>Encounter Script</b> also has access to all <a href="#special_variables:enemies">Monster</a> and <a href="#Wave" class="cyf">Wave</a> scripts,<br>
                        You can use this variable to edit <b>any</b> part of the entire fight from <b>any</b> script.
                    </div>
                    <br><br>
                    Identical to <a href="#Encounter2">Encounter</a> in <b>Wave Scripts</b>.
                    <br><br>
                    By using this, you can control <b>variables</b> and <b>functions</b> in <i>any</i> script from <i>anywhere</i>!
                    <br><br><br>
                    Some example uses:
                    <br>
<pre><code data-language="lua">DEBUG(Encounter["turncounter"]) -- get "turncounter" from the Encounter script
Encounter.SetVar("genocide", true) -- set a variable in the Encounter
Encounter.Call("PlayerHurt", 4) -- call a function in the Encounter

Encounter["enemies"][2].Call("SetSprite", "second") -- even access other Monster scripts o.o</code></pre>
                    <br><br>
                    <!-- TODO: LINK -->
                    See <a>The Script Object</a>.
                    
                    <br><br><br><br>
                    
                    <div class="separator"></div>
                    <a name="battle2"><h3>Battle-related</h3></a>
                    <br>
                    Variables that control the general <b>battle</b> against this monster.
                    <br><br><br><br>
                    
                    <a name="comments"></a>
                    <div class="small function">
                        <div class="LuaTable">comments: { table of <div class="string">comment</div> }</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        This is a list of <b>comments</b> that can be displayed as <b>encounter text</b> during the battle.
                        <br><br>
                        For example: <code class="inline">"Papyrus is trying hard to play it cool."</code><br>
                        and <code class="inline">"Froggit hops to and fro."</code>.
                    </div>
                    <br><br>
                    You can fill this with as many strings as you like.
                    <br><br>
                    This gets read from by <a href="#special_functions:RandomEncounterText">RandomEncounterText</a> from a random enemy.
                    <br><br>
                    Useful for changing the encounter text based on <b>act commands</b> the player<br>
                    performs, if you change <code class="inline">comments</code> from <a href="#game_events:HandleCustomCommand">HandleCustomCommand</a>.
                    
                    <br><br><br><br>
                    
                    <a name="commands"></a>
                    <div class="infobox">
                        <table>
                            <tr><th>ACT commands.</th></tr>
                            <tr><td><img src="img/state_actmenu.png" width="400" height="100"></td></tr>
                            <tr><td><code class="inline" data-language="lua">commands = {"Act 1", "Act 2", "Act 3"}</code></td></tr>
                        </table>
                    </div>
                    <div class="small function">
                        <div class="LuaTable">commands: { table of <div class="string">command</div> }</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        This is a list of <b>ACT commands</b> that the player can choose from when they choose <b>ACT</b>.
                    </div>
                    <br><br>
                    Note that these commands <i>can</i> be in <b>lowercase</b> as needed.
                    <br><br>
                    When used, a command's <b>name</b> will be passed to <a href="#game_events:HandleCustomCommand">HandleCustomCommand</a> <b><u>IN ALL CAPS</u></b>.<br>
                    So if I use <code class="inline">Act 1</code> in-game, <b>HandleCustomCommand</b> would receive <code class="inline" data-language="lua">"ACT 1"</code>.
                    <br><br><br>
                    Note the <b>Check</b> command in the screenshot. It was <b>not</b> defined in <b>commands</b>.<br>
                    It is there by default and <i>doesn't</i> call <b>HandleCustomCommand</b>. It has its own behavior.
                    <br><br>
                    It can be removed, though. See <a href="#cancheck">cancheck</a>.
                    
                    <br><br><br><br>
                    
                    <a name="canspare"></a>
                    <div class="small function">
                        <div class="boolean">canspare</div> = false
                    </div>
                    <br>
                    <div class="arguments desc">
                        Makes the monster <b>spareable</b> (yellow name).
                    </div>
                    <br><br>
                    If you set this to <code class="inline" data-language="lua">true</code>, your monster's <b>name</b> will become <b style="color: #ffff00;">yellow</b>.
                    <br><br>
                    The <b>"Spare"</b> text in the <b>"MERCY"</b> menu will become yellow as well,<br>
                    and choosing it will <b>spare</b> any spareable monsters (see <a class="cyf" href="#game_events:OnSpare">OnSpare</a>).
                    
                    <br><br><br><br>
                    
                    <a name="isactive"></a>
                    <div class="small function cyf">
                        <div class="boolean">isactive</div> = true
                    </div>
                    <br>
                    <div class="arguments desc">
                        Tells whether this monster is <b>active</b>.<br>
                        (Setting this does nothing, use <a href="#special_functions:SetActive">SetActive</a> instead.)
                    </div>
                    <br><br>
                    An <b>active</b> monster will appear in <b>menus</b> and say <b>enemy dialogue</b>.
                    <br><br>
                    A monster will be <b>inactive</b> if they are <b>dead</b>, <b>spared</b>, or used <code class="inline" data-language="lua">SetActive(false)</code>.
                    <br><br>
                    See <a href="#special_functions:SetActive">SetActive</a>.
                    
                    <br><br><br><br>
                    
                    <a name="unkillable"></a>
                    <div class="small function cyf">
                        <div class="boolean">unkillable</div> = false
                    </div>
                    <br>
                    <div class="arguments desc">
                        Makes a monster unable to <b>die</b>.
                    </div>
                    <br><br>
                    If this variable is <code class="inline" data-language="lua">true</code>, then when the monster should die (HP drops to 0), it will stay alive anyway.
                    <br><br>
                    Note that monsters' <a href="#hp">hp</a> <b>does</b> drop below 0, even <b>without</b> this variable.<br>
                    But it only shows up in the <b>FIGHT</b> menu, and only if <code class="inline">unkillable</code> is <code class="inline" data-language="lua">true</code>.
                    
                    <br><br><br><br>
                    
                    <div class="separator"></div>
                    <a name="dialogue"><h3>Dialogue-related</h3></a>
                    <br>
                    Variables that control what this monster <b>says</b>.
                    <br><br><br><br>
                    
                    <a name="randomdialogue"></a>
                    <div class="small function">
                        <div class="LuaTable">randomdialogue: { table of <div class="string">text</div> }</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        A list of <b>single</b> lines of <b>text</b> that this monster can <b>randomly</b> choose from.
                    </div>
                    <br><br>
                    If <a href="#currentdialogue">currentdialogue</a> is <b>NOT</b> set when <a href="#game_events:EnemyDialogueStarting">the enemies start speaking</a>,<br>
                    a random string from this table will be shown instead.
                    
                    <br><br><br><br>
                    
                    <a name="currentdialogue"></a>
                    <div class="small function">
                        <div class="LuaTable">currentdialogue: { table of <div class="string">text</div> }</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        A list of <b>one or more</b> lines of <b>text</b> that this monster will <b>say</b>.<br>
                        Overrides <a href="#randomdialogue">randomdialogue</a> when set.
                    </div>
                    <br><br>
                    This is meant mainly for special dialogue sequences, and special cases (such as<br>
                    Papyrus saying <code class="inline">"Nyeh heh heh!"</code> every time you use <b>Check</b>).
                    <br><br>
                    This variables gets <b>deleted automatically</b> after the enemies <a href="#game_events:EnemyDialogueEnding">are done speaking</a>!
                    
                    <br><br><br><br>
                    
                    <a name="dialogbubble"></a>
                    <div class="small function">
                        <div class="string">dialogbubble</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Chooses a <b>dialogue bubble</b> image for this monster to use when <b>speaking</b>.
                    </div>
                    <br><br>
                    This must be set to a valid <b>bubble</b> image's <b>name</b> to work,<br>
                    such as <code class="inline" data-language="lua">dialogbubble = "rightwide"</code> for <code class="inline">rightwide.png</code>.
                    <br><br>
                    Here is a list of valid <b>bubbles</b> you can choose from:
                    <br>
                    <img class="outline" src="img/dialogoptions.png" width="777" height="256">
                    <br><br>
                    These are located in <code class="inline">CYF/Default/Sprites/UI/SpeechBubbles</code>, if you want to see for yourself.
                    <br><br>
                    Custom bubbles can be added by creating <code class="inline">Sprites/UI/SpeechBubbles</code> in your Mod's folder, and adding in your own.
                    
                    <br><br><br><br>
                    
                    <a name="font"></a>
                    <div class="small function cyf">
                        <div class="string">font</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Automatically applies a <b>font</b> to <b>every</b> line of <b>dialogue</b> spoken by this monster.
                    </div>
                    <br><br>
                    This must be set to a valid <b>font name</b> to work.
                    <br><br>
                    This is the same as applying <code class="inline">[font:x]</code> to every line of dialogue.
                    <br><br>
                    <!-- TODO: LINK -->
                    See <a>Text Commands</a>.
                    
                    <br><br><br><br>
                    
                    <a name="voice"></a>
                    <div class="small function cyf">
                        <div class="string">voice</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Automatically applies a <b>voice</b> to <b>every</b> line of <b>dialogue</b> spoken by this monster.
                    </div>
                    <br><br>
                    This must be set to a valid <b>voice name</b> to work.
                    <br><br>
                    This is the same as applying <code class="inline">[voice:x]</code> to every line of dialogue.
                    <br><br>
                    <!-- TODO: LINK -->
                    See <a>Text Commands</a>.
                    
                    <br><br><br><br>
                    
                    <div class="separator"></div>
                    <a name="stat"><h3>Stat-related</h3></a>
                    <br>
                    Variables that control this monster's <b>stats</b> in game, and what happens when you <b>Check</b> them.
                    <br><br><br><br>
                    
                    <a name="cancheck"></a>
                    <div class="small function">
                        <div class="boolean">cancheck</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Adds a built-in <b>Check</b> command to the <b>ACT</b> menu for this monster.
                    </div>
                    <br><br>
                    This command displays the monster's <a href="#name">name</a>, <a href="#atk">atk</a>, <a href="#def">def</a> and <a href="#check">check text</a>.
                    <br><br>
                    If this variable is <code class="inline" data-language="lua">true</code>, a <b>Check</b> command will always appear in the <b>ACT</b> menu.<br>
                    Even if <a href="#commands">commands</a> is <code class="inline" data-language="lua">{}</code>.
                    <br><br>
                    This will <b>NOT</b> call <a href="#game_events:HandleCustomCommand">HandleCustomCommand</a>!
                    <br><br>
                    However, this built-in command works the same as this:
                    <br>
<pre><code data-language="lua">BattleDialog({ string.upper(name) .. " " .. tostring(atk) .. " ATK " .. tostring(def) .. " DEF\n" .. check })</code></pre><br>
                    Set this variable to <code class="inline" data-language="lua">false</code> to disable the built-in command.
                    <br><br>
                    Doing so is an easy way to make a "fake" <b>Check</b> screen, which doesn't match up to the monter's stats.
                    
                    <br><br><br><br>
                    
                    <a name="check"></a>
                    <div class="small function">
                        <div class="string">check</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        The <b>check text</b> of this monster.<br>
                        Used with the default <a href="#cancheck">"Check"</a> command.
                    </div>
                    <br><br>
                    Will be displayed after the <a href="#name">name</a>, <a href="#atk">atk</a> and <a href="#def">def</a> in the default <a href="#cancheck">"Check"</a> command.
                    <br><br>
                    Has no effect otherwise.
                    
                    <br><br><br><br>
                    
                    <a name="name"></a>
                    <div class="small function">
                        <div class="string">name</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        The <b>name</b> of this monster, to be displayed in the <b>FIGHT</b> and <b>ACT</b> menus.
                    </div>
                    <br><br>
                    This name is displayed in <a href="javascript:loadPage('game_states');">"ENEMYSELECT"</a>, and in the default <a href="#cancheck">"Check"</a> command.
                    <br><br>
                    <!-- TODO: LINK -->
                    Note that <a>Text Commands</a>, such as <code class="inline">[color:rrggbb]</code> <b>CAN</b> be applied to a monster's name!
                    
                    <br><br><br><br>
                    
                    <a name="hp"></a>
                    <div class="small function">
                        <div class="number">hp</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        The <b>hp</b> of this monster.<br>
                        At the beginning of the battle, this becomes the monster's <b>max hp</b>.
                    </div>
                    <br><br>
                    This must be set before <b>battle start</b>.
                    <br><br>
                    This <b>DOES</b> drop below 0 when the monster is killed, but normally they would die right away and you wouldn't be able to see it.<br>
                    <font class="cyf">If <a href="#unkillable">unkillable</a> is true, this monster will <b>not</b> die when their hp drops below 0.</font>
                    <br><br>
                    <font class="cyf">If you ever want to change the monster's <b>max hp</b> during the battle, use <a href="#maxhp">maxhp</a>.</font>
                    
                    <br><br><br><br>
                    
                    <a name="maxhp"></a>
                    <div class="small function cyf">
                        <div class="number">maxhp</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        The <b>max hp</b> of this monster.<br>
                        After the <a href="#game_events:EncounterStarting">battle starts</a>, if this <b>doesn't</b> exist, it will be set to <a href="#hp">hp</a>.
                    </div>
                    <br><br>
                    By changing this, you can change the monster's <b>max hp</b>.
                    <br><br>
                    This is useful for making a <b>second phase</b> for a monster, in which they gain a large amount of <b>hp</b>.
                    
                    <br><br><br><br>
                    
                    <a name="maxhp"></a>
                    <div class="small function">
                        <div class="number">atk</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        The <b>atk</b> stat of this monster.<br>
                        Used only in the default <a href="#cancheck">"Check"</a> command.
                    </div>
                    <br><br>
                    This does <b>NOT</b> control how strong the monster's attacks are!
                    <br><br>
                    That is calculated whenever a bullet hits the player.<br>
                    See <a href="#game_events:OnHit2">OnHit</a>.
                    
                    <br><br><br><br>
                    
                    <a name="def"></a>
                    <div class="small function">
                        <div class="number">def</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        The <b>def</b> stat of this monster.<br>
                        Controls how much <b>damage</b> the monster takes when being <b>attacked</b> by the player.
                    </div>
                    <br><br>
                    This is also shown in the default <a href="#cancheck">"Check"</a> command.
                    <br><br>
                    <i>Undertale</i>'s damage formula is used when <b>attacking</b> enemies, and it uses this as part of the formula.<br>
                    The formula is:
                    <br><br>
<code>damageDealt = ((w + a - d) + r) * b

Where:
 * w = Player's weapon ATK
 * a = Player's base ATK
 * d = Enemy's DEF stat
 * r = Random number between 0 and 2
 * b = Number based on the distance between the "fight" line and center of the target
       If the actual distance is &lt;= 12 pixels, this is 2.2
       Otherwise, it's 0 for the very left/right edge and 2 for the center
</code>
                    <br><br>
                    If the player would deal <b>0</b> damage or less, the <b>MISS</b> text will display instead.
                    
                    <br><br><br><br>
                    
                    <a name="xp"></a>
                    <div class="small function">
                        <div class="number">xp</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        The <b>xp</b> stat of this monster.<br>
                        At the end of battle, this much <b>xp</b> will be awarded to the player.
                    </div>
                    <br><br>
                    If this is not defined, the player will be given 0 <b>xp</b> from this monster when the <b>battle</b> ends.<br>
                    Otherwise, it will use this amount.
                    
                    <br><br><br><br>
                    
                    <a name="gold"></a>
                    <div class="small function">
                        <div class="number">gold</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        The <b>gold</b> stat of this monster.<br>
                        At the end of battle, this much <b>gold</b> will be awarded to the player.
                    </div>
                    <br><br>
                    If this is not defined, the player will be given 0 <b>gold</b> from this monster when the <b>battle</b> ends.<br>
                    Otherwise, it will use this amount.
                    
                    <br><br><br><br>
                    
                    <div class="separator"></div>
                    <a name="graphical"><h3>Graphical</h3></a>
                    <br>
                    Variables that control how this monster <b>appears</b> during battle.
                    <br><br><br><br>
                    
                    <a name="sprite"></a>
                    <div class="small function">
                        <div class="string">sprite</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        The name of the <b>image</b> to load for this monster on battle start.<br>
                        The sprite located at <code class="inline">Your Mod/Sprites/&lt;sprite&gt;.png</code> will be used.
                    </div>
                    <br><br>
                    <!-- TODO: LINK -->
                    This variable does <b>NOT</b> control the monster's <a>Sprite Object</a>!<br>
                    See <a class="cyf" href="#monstersprite">monstersprite</a>.
                    
                    <br><br><br><br>
                    
                    <a name="monstersprite"></a>
                    <div class="small function cyf">
                        <div class="UnitaleSprite">monstersprite</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        <!-- TODO: LINK -->
                        The <a>Sprite Object</a> of this monster.<br>
                        Only active <a href="#game_events:EncounterStarting">after Battle Start</a>.
                    </div>
                    <br><br>
                    <!-- TODO: LINK -->
                    You can treat and control this as a regular <a>Sprite Object</a>.
                    <br><br>
                    Technically, <a href="#special_functions:SetSprite">SetSprite(filename)</a> is a shortcut to:<br>
                    <code data-language="lua">monstersprite.Set(filename)</code>
                    <br><br>
                    Some other example uses are:
                    <br><br>
<pre><code data-language="lua">monstersprite.rotation = 90 -- rotate the monster sprite 90°
monstersprite.SetAnimation({"sans1", "sans2", "sans3"}) -- set an automatic animation
monstersprite.alpha = 0 -- hide the monster sprite</code></pre>
                    <br><br>
                    <!-- TODO: LINK -->
                    See <a>The Sprite Object</a>.
                    
                    <br><br><br><br>
                    
                    <a name="posx"></a>
                    <div class="small function cyf">
                        <div class="number">posx</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        The <b>absolute x position</b> of this monster on-screen.
                    </div>
                    <br><br>
                    <div class="small function cyf exclude">
                        <div class="number">posy</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        The <b>absolute y position</b> of this monster on-screen.
                    </div>
                    <br><br>
                    These are exactly equivalent to <code class="inline">monstersprite.absx</code> and <code class="inline">monstersprite.absy</code> respectively.
                    <br><br>
                    <b>NOT</b> related to <a href="#enemypositions">enemypositions</a>!
                    <br><br>
                    <!-- TODO: LINK -->
                    See <a>sprite.absx / sprite.absy</a>.
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="wave"><h2>Wave Script Variables [W]</h2></a>
                </p>
                
                <p>
                    There are only <b>two</b> pre-defined <b>variables</b> accessible from <b>Wave</b> scripts:
                    
                    <br><br>
                    <a name="Encounter2"></a>
                    <div class="small function">
                        <div class="UnitaleScript">Encounter</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        <!-- TODO: LINK -->
                        A <a>Script Object</a> that points to the <b>Encounter Script</b>.
                        <br><br>
                        Because the <b>Encounter Script</b> also has access to all <a href="#special_variables:enemies">Monster</a> and <a href="#Wave" class="cyf">Wave</a> scripts,<br>
                        You can use this variable to edit <b>any</b> part of the entire fight from <b>any</b> script.
                    </div>
                    <br><br>
                    Identical to <a href="#Encounter1">Encounter</a> in <b>Monster Scripts</b>.
                    <br><br>
                    By using this, you can control <b>variables</b> and <b>functions</b> in the <i>any</i> script from <i>anywhere</i>!
                    <br><br><br>
                    Some example uses:
                    <br>
<pre><code data-language="lua">Encounter.SetVar('wavetimer', 10) -- set a variable in the encounter
Encounter.GetVar("enemies")[1].Call("BindToArena", {false, true}) -- call a monster script function
Encounter.Call("PlayerHurt", 4) -- call an Encounter script function</code></pre>
                    <br><br>
                    <!-- TODO: LINK -->
                    See <a>The Script Object</a>.
                    
                    <br><br><br><br>
                    
                    <a name="wavename"></a>
                    <div class="small function cyf">
                        <div class="string">wavename</div>
                    </div>
                    <br>
                    <div class="arguments desc">
                        This will be equal to the <b>name</b> of the current <b>Wave script</b>.
                    </div>
                    <br><br>
                    So if the current wave is <code class="inline">Waves/bullettest_chaserorb.lua</code>, this will be <code class="inline" data-language="lua">"bullettest_chaserorb"</code>.
                </p>
            </span>
            
            <!-- [PAGE: TEXT COMMANDS] -->
            
            <span class="page" id="text_commands" name="Text Commands">
                <script type="text/javascript">writeTitle("Text Commands");</script>
                <div class="contents">
                    <span class="toggle">
                        <b>Contents</b>
                    </span>
                    <ol>
                        <li><a href="#what">What are Text Commands?</a></li>
                        <li>
                            <a href="#graphical">Graphical</a>
                            <ol type="a">
                                <li><code class="inline"><a href="#color">[color:rrggbb]</a></code></li>
                                <li class="cyf"><code class="inline"><a href="#alpha">[alpha:aa]</a></code></li>
                                <li><code class="inline"><a href="#starcolor">[starcolor:rrggbb]</a></code></li>
                                <li><code class="inline"><a href="#effect">[effect:x]</code> and</a> <code class="inline"><a href="#effect">[effect:x,intensity]</a></code></li>
                                <li><code class="inline"><a href="#font">[font:x]</a></code></li>
                                <li class="cyf"><code class="inline"><a href="#charspacing">[charspacing:number]</a></code></li>
                                <li class="cyf"><code class="inline"><a href="#linespacing">[linespacing:number]</a></code></li>
                                <li class="cyf"><code class="inline"><a href="#mugshot">[mugshot:x]</a></code></font></li>
                            </ol>
                        </li>
                        <li>
                            <div class="contents sub">
                                <span class="toggle">
                                    <i><a href="#functional">Functional</a></i>
                                </span>
                                <ol type="a">
                                    <li><code class="inline"><a href="#func">[func:x]</a></code>, <code class="inline"><a href="#func">[func:x,argument]</a></code><br><font class="cyf"><a href="#func">and </a><code class="inline"><a href="#func">[func:x,{argument1, argument2}]</a></code></font></li>
                                <li><code class="inline"><a href="#noskip">[noskip]</a></code> <a href="#noskip"><font class="cyf">and </a><code class="inline"><a href="#noskip">[noskip:off]</a></code></font></li>
                                <li><code class="inline"><a href="#instant">[instant]</a></code> <a href="#instant"><font class="cyf">and </a><code class="inline"><a href="#instant">[instant:allowcommand]</a></code></font></li>
                                <li class="cyf"><code class="inline"><a href="#instant_stop">[instant:stop]</a></code> <a href="#instant_stop">and </a><code class="inline"><a href="#instant_stop">[instant:stopall]</a></code></li>
                                <li><code class="inline"><a href="#next">[next]</a></code></li>
                                <li class="cyf"><code class="inline"><a href="#finished">[finished]</a></code></li>
                                <li class="cyf"><code class="inline"><a href="#nextthisnow">[nextthisnow]</a></code></li>
                                <li class="cyf"><code class="inline"><a href="#waitfor">[waitfor:key]</a></code></li>
                                <li class="cyf"><code class="inline"><a href="#name">[name]</a></code></font></li>
                                <li class="cyf"><code class="inline"><a href="#health">[health:x,y]</a></code></font></li>
                                </ol>
                            </div>
                        </li>
                        <li>
                            <i><a href="#text">Text-related</a></i>
                            <ol type="a">
                                <li><code class="inline"><a href="#w">[w:x]</a></code></li>
                                <li><code class="inline"><a href="#waitall">[waitall:x]</a></code></li>
                                <li class="cyf"><code class="inline"><a href="#speed">[speed:x]</a></code></font></li>
                                <li class="cyf"><code class="inline"><a href="#letters">[letters:x]</a></code></font></li>
                            </ol>
                        </li>
                        <li>
                            <i><a href="#audio">Audio</a></i>
                            <ol type="a">
                                <li><code class="inline"><a href="#novoice">[novoice]</a></code></li>
                                <li><code class="inline"><a href="#voice">[voice:filename]</a></code></li>
                                <li class="cyf"><code class="inline"><a href="#music">[music:x]</a></code></font></li>
                                <li class="cyf"><code class="inline"><a href="#sound">[sound:x]</a></code></font></li>
                            </ol>
                        </li>
                    </ol>
                </div>
                
                <p>
                    <div class="separator"></div>
                    <a name="what"><h2>What are Text Commands?</h2></a>
                </p>
                
                <p>
                    <u>Text commands</u> are <b>strings</b> inserted into:<br>
                    <ul>
                        <li><a href="#special_functions:BattleDialog">Battle Dialogue</a>,</li>
                        <li><a href="#special_variables:encountertext">Encounter Text</a>,</li>
                        <li><a href="#special_variables:deathtext">Game Over Text</a>, and</li>
                        <!-- TODO: LINK -->
                        <li><a>Text Objects</a></li>
                    </ul>
                    They change how the text <b>looks</b> and <b>functions</b>.
                    <!--
                    <br><br>
                    The various <b>commands</b> can do things such as <font style="color: #ffff00;">change <b style="color: #ffff00;">color</b></font>, make text <b>unskippable</b>, and<br>
                    execute <b>code</b> in-line with text.
                    -->
                    <br><br><br>
                    As an example, <a><code class="inline">[color:rrggbb]</code></a> lets you change text <b>color</b> to any <a href="https://www.w3schools.com/colors/colors_hexadecimal.asp">hexadecimal</a> color:
                    <br><br>
<pre><code data-language="lua">currentdialogue = {"[color:FF0000]Hello, this is some text."}</code>

<div class="ShowHideText"><b>* NOTE:</b> <code class="inline">#FF0000</code> is <b style="color:#ff0000">Red</b>.</div></pre><br>
                    This would appear in-game as:
                    <br><br>
                    <img class="outline" src="img/linebreak2.png" width="203" height="241">
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="graphical"><h2>Graphical</h2></a>
                </p>
                
                <p>
                    These text commands change how the <b>letters</b> themselves <b>look</b>.
                    <br><br><br><br>
                    
                    <a name="color"></a>
                    <div class="infobox">
                        <table>
                            <tr><th><code class="inline" style="font-size: inherit;">[color:rrggbb]</code></th></tr>
                            <tr><td><img id="thumbnail" src="img/linebreak2.png" width="205" height="241"></td></tr>
                            <tr><td><code class="inline" data-language="lua">"[color:ff0000]Hello, this is some text."</code></td></tr>
                        </table>
                    </div>
                    <div class="function exclude">
                        <code style="font-size: inherit;">[color:<span style="color:#f00">rr</span><span style="color:#0f0">gg</span><span style="color:#00f">bb</span>]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Changes the <b>color</b> of all following <b>letters</b>.
                    </div>
                    <br><br>
                    All letters after this command will be changed to the given <a href="https://www.w3schools.com/colors/colors_hexadecimal.asp">hexadecimal</a> color.<br>
                    It resets after each line of text.
                    <br><br>
                    Here are a few examples:
                    <table class="outline">
                        <tr>
                            <th>Hexadecimal Number</th>
                            <th>Displayed Color</th>
                        </tr>
                        <tr>
                            <td><code class="inline">[color:ff0000]</code></td>
                            <td><font class="altfont" style="color:#ff0000; text-shadow: 2px 2px #000;">Determination</font></td>
                        </tr>
                        <tr>
                            <td><code class="inline">[color:003cff]</code></td>
                            <td><font class="altfont" style="color:#003cff; text-shadow: 2px 2px #000;">Integrity</font></td>
                        </tr>
                        <tr>
                            <td><code class="inline">[color:00c000]</code></td>
                            <td><font class="altfont" style="color:#00c000; text-shadow: 2px 2px #000;">Kindness</font></td>
                        </tr>
                        <tr>
                            <td><code class="inline">[color:ffff00]</code></td>
                            <td><font class="altfont" style="color:#ffff00; text-shadow: 2px 2px #000;">Justice</font></td>
                        </tr>
                        <tr>
                            <td><code class="inline">[color:d535d9]</code></td>
                            <td><font class="altfont" style="color:#d535d9; text-shadow: 2px 2px #000;">Perseverance</font></td>
                        </tr>
                        <tr>
                            <td><code class="inline">[color:fca600]</code></td>
                            <td><font class="altfont" style="color:#fca600; text-shadow: 2px 2px #000;">Bravery</font></td>
                        </tr>
                        <tr>
                            <td><code class="inline">[color:42fcff]</code></td>
                            <td><font class="altfont" style="color:#42fcff; text-shadow: 2px 2px #000;">Patience</font></td>
                        </tr>
                        <tr><td colspan="2"><hr></td></tr>
                        <tr>
                            <td><code class="inline">[color:000000]</code></td>
                            <td><font class="altfont" style="color:#000000;">Black</font></td>
                        </tr>
                        <tr>
                            <td><code class="inline">[color:ffffff]</code></td>
                            <td><font class="altfont" style="color:#ffffff;">White</font></td>
                        </tr>
                    </table>
                    
                    <br><br><br><br>
                    
                    <a name="alpha"></a>
                    <div class="function exclude">
                        <code class="cyf" style="font-size: inherit;">[alpha:aa]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Changes the <b>alpha</b> (opacity) of all following <b>letters</b>.
                    </div>
                    <br><br>
                    All letters after this command will be changed to the given <b>opacity</b> (alpha) value, in <a href="https://www.w3schools.com/colors/colors_hexadecimal.asp">hexadecimal</a>.<br>
                    It resets after each line of text.
                    <br><br>
                    Using <code class="inline">[alpha:00]</code> will make completely <b>transparent</b> text, and<br>
                    using <code class="inline">[alpha:ff]</code> will make completely <b>opaque</b> text.
                    
                    <br><br><br><br>
                    
                    <a name="starcolor"></a>
                    <div class="function exclude">
                        <code style="font-size: inherit;">[starcolor:<span style="color:#f00">rr</span><span style="color:#0f0">gg</span><span style="color:#00f">bb</span>]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Changes the color of the <b>star</b> at the beginning of a line of text.
                    </div>
                    <br><br>
                    Values must be given in <a href="https://www.w3schools.com/colors/colors_hexadecimal.asp">hexadecimal</a>.<br>
                    See <code class="inline"><a href="#color">[color:rrggbb]</a></code> for possible values.
                    <br><br>
                    <font class="cyf">In CYF, <code class="inline"><a href="#color">[color:rrggbb]</a></code> does this <b>automatically</b>.</font>
                    
                    <br><br><br><br>
                    
                    <a name="effect"></a>
                    <div class="function exclude">
                        <code style="font-size: inherit;">[effect:x]</code> and <code style="font-size: inherit;">[effect:x,intensity]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Sets a text <b>effect</b> for the <u>entire</u> line of text.
                    </div>
                    <br><br>
                    Here are the possible <b>text effects</b> you can use:
                    <br><br>
                    <table class="outline">
                        <tr>
                            <th><code class="inline">x</code></th>
                            <th><code class="inline">intensity</code></th>
                            <th>Effect</th>
                            <th>Uses in UT</th>
                        </tr>
                        <tr>
                            <td><code class="inline">none</code></td>
                            <td><i>N/A</i></td>
                            <td>Letters will stay completely still.</td>
                            <td>Not really used</td>
                        </tr>
                        <tr>
                            <td><code class="inline">rotate</code></td>
                            <td>
                                <b>Radius</b> of rotation.
                                <br><br>
                                Default value is <code class="inline">1.5</code>.
                            </td>
                            <td>
                                Letters will <b>"rotate"</b> (orbit) around<br>
                                their origin, with a radius of<br>
                                <code class="inline">intensity</code> pixels.
                            </td>
                            <td>Random encounter<br>enemies</td>
                        </tr>
                        <tr>
                            <td><code class="inline">shake</code></td>
                            <td>
                                <b>Distance</b> to shake.
                                <br><br>
                                Default value is <code class="inline">1.0</code>.
                            </td>
                            <td>
                                Letters will <b>shake</b> constantly,<br>
                                up to a maximum of <code class="inline">intensity</code><br>
                                pixels away from their origin.
                            </td>
                            <td>Flowey</td>
                        </tr>
                        <tr>
                            <td><code class="inline">twitch</code></td>
                            <td>
                                <b>Distance</b> to twitch.
                                <br><br>
                                Default value is <code class="inline">2.0</code>.
                            </td>
                            <td>
                                Letters will <b>twitch</b> randomly,<br>
                                up to a maximum of <code class="inline">intensity</code><br>
                                pixels away from their origin.
                                <br><br>
                                Works like <code class="inline">shake</code>, but for<br>
                                one letter at a time at random.
                            </td>
                            <td>Battle text box</td>
                        </tr>
                    </table><br>
                    Use <b>text effects</b> like any of these:
                    <br><br>
                    <code>[effect:none]
[effect:shake,2]
[effect:twitch,1.7]
[effect:rotate]</code>
                    
                    <br><br><br><br>
                    
                    <a name="font"></a>
                    <div class="function exclude">
                        <code style="font-size: inherit;">[font:x]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Sets a <b>font</b> to be used for the following letters.
                    </div>
                    <br><br>
                    Here is a list of valid <b>fonts</b> you can choose from:
                    <br>
                    <img class="outline" src="img/fontoptions.png" width="777" height="256">
                    <br><br>
                    These are located in <code class="inline">CYF/Default/Sprites/UI/Fonts</code>, if you want to see for yourself.
                    <br><br>
                    Custom fonts can be added by creating <code class="inline">Sprites/UI/Fonts</code> in your Mod's folder, and adding in your own.
                    
                    <br><br><br><br>
                    
                    <a name="charspacing"></a>
                    <div class="function cyf exclude">
                        <code style="font-size: inherit;">[charspacing:number]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Sets the number of pixels between <b>characters</b> on the same line.
                    </div>
                    <br><br>
                    Negative numbers <b>decrease</b> the space between letters, while positive numbers <b>increase</b> it.
                    <br><br>
                    The default value is <code class="inline">3</code>.<br>
                    <b>Fonts</b> can specify a <code class="inline">&lt;charspacing&gt;</code> tag that <b>sets</b> this value.
                    
                    <br><br><br><br>
                    
                    <a name="linespacing"></a>
                    <div class="function cyf exclude">
                        <code style="font-size: inherit;">[linespacing:number]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Sets the number of pixels between different <b>lines</b>.
                    </div>
                    <br><br>
                    Negative numbers <b>decrease</b> the space between lines, while positive numbers <b>increase</b> it.
                    <br><br>
                    The default value is <code class="inline">0</code>.<br>
                    <b>Fonts</b> can specify a <code class="inline">&lt;linespacing&gt;</code> tag that <b>increases</b> this value.
                    
                    <br><br><br><br>
                    
                    <a name="mugshot"></a>
                    <div class="function cyf exclude">
                        <code style="font-size: inherit;">[mugshot:x]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        <!-- TODO: LINK -->
                        Only usable in the <a>Overworld</a>.
                        <br><br>
                        Chooses a <b>face</b> (mugshot) to display next to text in the <b>Overworld</b> text box.
                    </div>
                    <br><br>
                    Images are loaded from <code class="inline">Your Mod/Sprites/Mugshots/</code>.
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="functional"><h2>Functional</h2></a>
                </p>
                
                <p>
                    These text commands all perform <b>actions</b> or set <b>properties</b> for the text as a whole.
                    <br><br><br><br>
                    
                    <a name="func"></a>
                    <div class="function exclude">
                        <code style="font-size: inherit;">[func:x]</code> and <code style="font-size: inherit;">[func:x,argument]</code><br>
                        <font class="cyf">and <code style="font-size: inherit;">[func:x,{argument1, argument2, ...}]</code></font>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Calls any <b>function</b> whenever this part of the text is reached.
                    </div>
                    <br><br>
                    This is an extremely useful text command.
                    <br><br>
                    <code class="inline">x</code> should be the <b>name</b> of ANY <b>function</b> in the script. This includes engine functions and your own functions.<br>
                    You can also supply one or more arguments.
                    <br><br>
                    Here are some example uses:
                    <br><br>
<pre><code data-language="lua">text = "hoi hoi this is dog [func:dog] and now the music changed"

function dog() -- custom function!
    Audio.LoadFile("dog_music")
end
-- In-game, you will see "hoi hoi this is dog", the music will change,
-- then "and now the music changed"!</code><br>
<code data-language="lua">text = "dog with arguments!! [func:newmusic,temietheme] so intense!"

function newmusic(yourargumentname)
    Audio.LoadFile(yourargumentname)
    -- this example will load and play "temietheme.ogg"!
end</code><br>
<code data-language="lua">-- Make an enemy say "I won't fight you." and skip their turn
currentdialogue = {"[noskip]I won't fight you.[func:State,ACTIONSELECT]"}</code></pre>
                    <br><br>
                    If you're worried about players <b>skipping</b> over an important <code class="inline">[func:x]</code> call,<br>
                    see <a href="#special_variables:playerskipdocommand">playerskipdocommand</a>.
                    
                    <br><br><br><br>
                    
                    <a name="noskip"></a>
                    <div class="function exclude">
                        <code style="font-size: inherit;">[noskip]</code> <font class="cyf">and <code style="font-size: inherit;">[noskip:off]</code></font>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Prevents or allows <b>skipping</b> through text by pressing <kbd>X</kbd>.
                    </div>
                    <br><br>
                    By typing <code class="inline">[noskip]</code> anywhere in your text, your text will<br>
                    become <b>unskippable</b> whenever the text reaches that point in-game.
                    <br><br>
                    Put this at the very <b>beginning</b> of a line of text to make the entire line unskippable.
                    <br><br>
                    <font class="cyf">In CYF</font>, you can use <code class="inline">[noskip:off]</code> to <b>undo</b><br>
                    a previous <code class="inline">[noskip]</code> instance.<br>
                    This will make text <b>skippable</b> again.
                    
                    <br><br><br><br>
                    
                    <a name="instant"></a>
                    <div class="function exclude">
                        <code style="font-size: inherit;">[instant]</code> <font class="cyf">and <code style="font-size: inherit;">[instant:allowcommand]</code></font>
                    </div>
                    <br>
                    <div class="arguments desc">
                        <b>Instantly</b> types the rest of the current line of <b>text</b>.
                    </div>
                    <br><br>
                    Whenever the text reader reaches this command, all <b>text</b> after this point appears <b>instantly</b>,<br>
                    <font class="cyf">stopping at the next <a href="#instant_stop">instant:stop</a>, <a href="#instant_stop">instant:stopall</a></font><br>
                    or the end of the text.
                    <br><br>
                    <font class="cyf">In CYF</font>, you can use <code class="inline">[instant:allowcommand]</code> to also<br>
                    <b>execute commands</b> following this one, in the exact same manner as <a href="#special_variables:playerskipdocommand">playerskipdocommand</a>.
                    
                    <br><br><br><br>
                    
                    <a name="instant_stop"></a>
                    <div class="function exclude cyf">
                        <code style="font-size: inherit;">[instant:stop]</code> and <code style="font-size: inherit;">[instant:stopall]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        <b>Stops</b> a previous <a href="#instant">instant</a> or <a href="#instant">instant:allowcommand</a>, or a <b>Player skip</b>.
                    </div>
                    <br><br>
                    After <a href="#instant">instant</a> or <a href="#instant">instant:allowcommand</a> in a line of text, add <code class="inline">[instant:stop]</code><br>
                    to end the effects of <a href="#instant">instant</a> and keep typing text normally.
                    <br><br>
                    <code class="inline">[instant:stop]</code> stops <code class="inline">[instant]</code> and <code class="inline">[instant:allowcommand]</code>.<br>
                    <code class="inline">[instant:stopall]</code> stops <code class="inline">[instant]</code>, <code class="inline">[instant:allowcommand]</code>, and <b>Player skips</b> from pressing <kbd>X</kbd>.
                    
                    <br><br><br><br>
                    
                    <a name="next"></a>
                    <div class="function exclude">
                        <code style="font-size: inherit;">[next]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Goes to the next <b>line</b> of text.
                    </div>
                    <br><br>
                    You can use this for some textbox trickery, or combine it with <b>commands</b><br>
                    such as <a href="noskip">noskip</a>, <a href="#w">w</a> and <a href="func">func</a> to make automatic timed sequences.
                    <br><br>
                    Here is an example to replicate some of Flowey's text:<br>
<pre><code data-language="lua">first line:  "[noskip]RUN. [w:30]INTO. [w:30]THE.\n[w:30]BULLETS!![w:30]
              [func:SetSprite,floweyRight][w:30][func:SetSprite,flowey][next]"
second line: "[instant]RUN. INTO. THE.\nfriendliness\npellets"</code></pre>
                    
                    <br><br><br><br>
                    
                    <a name="finished"></a>
                    <div class="function exclude cyf">
                        <code style="font-size: inherit;">[finished]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Use in <b>enemy dialogue</b> (see <a href="#special_variables:currentdialogue">currentdialogue</a>).<br>
                        Marks this dialogue bubble as <b>finished</b>.
                    </div>
                    <br><br>
                    In <a href="javascript:loadPage('game_states');">"ENEMYDIALOGUE"</a>, you can not press <kbd>Z</kbd> to progress<br>
                    until all dialogue <b>bubbles</b> are <b>finished</b>.
                    <br><br>
                    They become <b>finished</b> automatically when reaching the end of their text,<br>
                    or when this command is used.
                    
                    <br><br><br><br>
                    
                    <a name="nextthisnow"></a>
                    <div class="function exclude cyf">
                        <code style="font-size: inherit;">[nextthisnow]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Use in <b>enemy dialogue</b> (see <a href="#special_variables:currentdialogue">currentdialogue</a>).<br>
                        Progresses all monster's <b>dialogue</b> to the next line instantly.
                    </div>
                    <br><br>
                    This effect happens <b>regardless</b> of if any bubbles are <a href="#finished">finished</a>.
                    
                    <br><br><br><br>
                    
                    <a name="waitfor"></a>
                    <div class="function exclude cyf">
                        <code style="font-size: inherit;">[waitfor:key]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Pauses the text until the player presses a given <b>key</b>.
                    </div>
                    <br><br>
                    <!-- TODO: LINK -->
                    Check the <a>Key List</a> for a list of valid key names to enter here (<code class="inline">term</code>).
                    
                    <br><br><br><br>
                    
                    <a name="name"></a>
                    <div class="function exclude cyf">
                        <code style="font-size: inherit;">[name]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        When the text is typed, this command will be<br>
                        replaced by the <b>Player's name</b>.
                    </div>
                    <br><br>
                    <!-- TODO: KEY LIST -->
                    This is identical to typing:<br>
<code data-language="lua">"Hello, world!\nHello, " .. Player.name .. "!"</code>
                    <br><br>
                    See <a>Player.name</a>.
                    
                    <br><br><br><br>
                    
                    <a name="health"></a>
                    <div class="function exclude cyf">
                        <code style="font-size: inherit;">[health:x,y]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        When the text is typed, this command will be<br>
                        replaced by the <b>Player's name</b>.
                    </div>
                    <br><br>
                    <div class="arguments">
                        <ul class="spaced">
                            <li>
                                <code class="inline">x</code>: Can be a <b>number</b> OR a <b>string</b>:
                                <ul class="spaced">
                                    <li>
                                        <b>number</b>: The amount to <b>heal</b> the <b>Player</b> by.<br>
                                        Can be negative, but can <b>NOT</b> kill the Player<br>
                                        <!-- TODO: LINK -->
                                        (<a>Player.hp</a> won't go below <b>1</b>).
                                    </li>
                                    <li>
                                        <b>string</b>:
                                        <ul>
                                            <br>
                                            <li><code class="inline">kill</code>: Instantly kills the <b>Player</b>.</li>
                                            <li><code class="inline">Max-1</code>: Sets the <b>Player's</b> hp to <code class="inline">(Player.maxhp - 1)</code>.</li>
                                            <!-- TODO: LINK -->
                                            <li><code class="inline">Max</code>: Sets the <b>Player's</b> hp to <a>Player.maxhp</a>.</li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <code class="inline">y</code>: <b>Optional</b>. Ignored unless <code class="inline">x</code> is a <b>number</b>:
                                <ul class="spaced">
                                    <li>
                                        <code class="inline">killable</code>: If <code class="inline">x</code> is negative, the player's new HP<br>
                                        value <b>can</b> go below 1 and kill the <b>Player</b>.
                                    </li>
                                    <li>
                                        <code class="inline">set</code>: Acts like<br>
                                        <code data-language="lua">Player.hp = 4</code><br>
                                        instead of<br>
                                        <code data-language="lua">Player.hp = Player.hp + 4</code><br>
                                        (if <code class="inline">x</code> is <code class="inline">4</code>).
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <br><br>
                    Examples:<br>
<code>[health:4]      -- heals 4 HP
[health:-5]     -- hurts 5 HP, but can't go below 1 HP
[health:kill]   -- kills the player
[health:10,set] -- sets the player's hp to 10
</code>
                    
                    <br><br><br><br>
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="text"><h2>Text-related</h2></a>
                </p>
                
                <p>
                    These text commands all change the way the <b>text</b> functions.
                    <br><br><br><br>
                    
                    <a name="w"></a>
                    <div class="function exclude">
                        <code style="font-size: inherit;">[w:x]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        The text will <b>wait</b> based on the number you enter.
                        <br><br>
                        Biggers numbers will <b>pause</b> for longer.
                    </div>
                    <br><br>
                    Technically: This will <b>pause</b> the text for <code class="inline">x * 4</code> in-game frames.
                    <br><br>
                    Calling <code class="inline">[w:1]</code> will freeze it for <b>4</b> in-game frames.<br>
                    <code class="inline">[w:4]</code> is <b>16</b> in-game frames, <code class="inline">[w:10]</code> is <b>40</b>, and so on. 
                    
                    <br><br><br><br>
                    
                    <a name="waitall"></a>
                    <div class="function exclude">
                        <code style="font-size: inherit;">[waitall:x]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        All following <b>characters</b> will take <code class="inline">x</code> times as long to <b>type</b> as normal.
                        <br><br>
                        Use <code class="inline">[waitall:1]</code> for the <b>default</b> text speed.
                    </div>
                    <br><br>
                    Note that this is slightly different from <a href="#w">w</a>, in that <code class="inline">[w:x]</code><br>
                    will multiply its argument by the argument used in <code class="inline">[waitall:x]</code>.
                    <br><br>
                    <b>* NOTE: Overrides</b> <a href="#speed">speed</a>.
                    
                    <br><br><br><br>
                    
                    <a name="speed"></a>
                    <div class="function cyf exclude">
                        <code style="font-size: inherit;">[speed:x]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Prints <code class="inline">x</code> characters every <b>4</b> frames. Default is <b>1</b> character / <b>4</b> frames.
                        <br><br>
                        Supports <b>non-integer numbers</b> such as <code class="inline">0.25</code>.
                    </div>
                    <br><br>
                    Typing <code class="inline">[speed:4]</code> will type at <b>4x</b> the regular speed:
                    <br><br>
                    <b>4</b> characters / <b>4</b> frames = <i><b>1 character per frame</b></i>.
                    <br><br>
                    Other values will give other results, such as <code class="inline">[speed:0.25]</code> for <b>1/4th</b> of the regular speed.
                    <br><br>
                    <b>* NOTE: Overrides</b> <a href="#waitall">waitall</a>.
                    
                    <br><br><br><br>
                    
                    <a name="letters"></a>
                    <div class="function cyf exclude">
                        <code style="font-size: inherit;">[letters:x]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        The next <code class="inline">x</code> <b>characters</b> after this command will be <b>typed</b> instantly,<br>
                        and then the text will return to its normal speed.
                    </div>
                    <br><br>
                    As an example:<br>
                    <code data-language="lua">"Hello, please [letters:9]skip this."</code>
                    <br><br>
                    Will type <code class="inline">Hello, please </code> as normal, then <code class="inline">skip this</code> will appear instantly,<br>
                    and finally, the <code class="inline">.</code> will type out as normal.
                    <br><br><br>
                    This is identical in function to:<br>
                    <code data-language="lua">"Hello, please [instant]skip this[instant:stop]."</code>
                    
                    <br><br><br><br>
                </p>
                
                <p>
                    <div class="separator"></div>
                    <a name="audio"><h2>Audio-related</h2></a>
                </p>
                
                <p>
                    These text commands control the text's <b>voice</b>, or play <b>audio</b> of some kind.
                    <br><br><br><br>
                    
                    <a name="novoice"></a>
                    <div class="function exclude">
                        <code style="font-size: inherit;">[novoice]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Disables the <b>voice</b> for this line of text.
                        <br><br>
                        Can be re-enabled with <a href="#voice">voice</a>.
                    </div>
                    <br><br>
                    Technical note: In <font class="unitale">Unitale</font>, if this command is anywhere in your text,<br>
                    it will be activated <b>immediately</b> when your line starts.
                    
                    <br><br><br><br>
                    
                    <a name="voice"></a>
                    <div class="function exclude">
                        <code style="font-size: inherit;">[voice:filename]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Changes the <b>voice</b> played for this line of text.
                    </div>
                    <br><br>
                    As an example, to use Sans's voice, type <code class="inline">[voice:v_sans]</code>.
                    <br><br><br>
                    Here is a list of valid <b>voices</b> you can choose from in <font class="cyf">CYF</font>:
                    <br>
                    <img class="outline" src="img/voiceoptions.png" width="777" height="384">
                    <br><br>
                    These are located in <code class="inline">CYF/Default/Sounds/Voices</code>, if you want to see for yourself.
                    <br><br>
                    Custom voices can be added by creating adding your own <code class="inline">.ogg</code> or <code class="inline">.wav</code> files to:<br>
                    <code>YOUR MOD/Sounds/Voices</code>
                    <br><br>
                    Technical note: In <font class="unitale">Unitale</font>, if this command is anywhere in your text,<br>
                    it will be activated <b>immediately</b> when your line starts.
                    
                    <br><br><br><br>
                    
                    <a name="music"></a>
                    <div class="function cyf exclude">
                        <code style="font-size: inherit;">[music:x]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        <!-- TODO: LINK -->
                        Executes commands with the <a>Audio Object</a> based on your arguments:
                        <br><br>
                        <table class="outline">
                            <tr>
                                <th><code class="inline">x</code></th>
                                <th><code class="inline">Effect</code></th>
                            </tr>
                            <tr>
                                <td><code class="inline">play</code></td>
                                <!-- TODO: LINK -->
                                <td>Shortcut to <a>Audio.Play()</a>.</td>
                            </tr>
                            <tr>
                                <td><code class="inline">pause</code></td>
                                <!-- TODO: LINK -->
                                <td>Shortcut to <a>Audio.Pause()</a>.</td>
                            </tr>
                            <tr>
                                <td><code class="inline">unpause</code></td>
                                <!-- TODO: LINK -->
                                <td>Shortcut to <a>Audio.Unpause()</a>.</td>
                            </tr>
                            <tr>
                                <td><code class="inline">stop</code></td>
                                <!-- TODO: LINK -->
                                <td rowspan="3">Shortcut to <a>Audio.Stop()</a>.</td>
                            </tr>
                            <tr><td><code class="inline">null</code></td></tr>
                            <tr><td><code class="inline">nil</code></td></tr>
                            <tr>
                                <td>
                                    Name of a song in<br>
                                    <code>YOUR MOD/Audio</code>
                                </td>
                                <!-- TODO: LINK -->
                                <td>
                                    Runs <a>Audio.LoadFile(<code class="inline">x</code>)</a>, where<br>
                                    <code class="inline">x</code> is the name given as the argument.
                                </td>
                            </tr>
                        </table><br>
                    </div>
                    
                    <br><br><br><br>
                    
                    <a name="sound"></a>
                    <div class="function cyf exclude">
                        <code style="font-size: inherit;">[sound:x]</code>
                    </div>
                    <br>
                    <div class="arguments desc">
                        Instantly plays a <b>sound</b> with the given name from<br>
                        <code>YOUR MOD/Sounds</code>(can be an ogg or a wav).
                        <br><br>
                        <!-- TODO: LINK -->
                        Identical to <a>Audio.PlaySound</a>.
                    </div>
                    
                    <br><br><br><br>
                </p>
            </span>
            
            <!-- [PAGE: MERCY BUTTON SECRET] -->
            
            <span class="page" id="mercy">
                <br>
                <font class="altfont" style="font-size: 200%; color: #ffffff;">
                    * YOU WON!<br>
                    * You earned 0 XP and 0 gold.<br>
                    * also the docs are broken now<br>
                </font>
                <br>
            </span>
            
            <script src="js/load_pages.js"></script>
            <script src="js/pages.js"></script>
            <script src="js/button_functions.js"></script>
            <script src="js/fontswitch.js"></script>
            <script src="js/scroll_button.js"></script>
            <script src="js/under_button.js"></script>
            
            <!-- TODO: .min.js -->
            <script src="js/rainbow-custom.js"></script>
        </div>
        
        <div id="buttonContainer">
            <img src="img/btn/fightbt_0.png" onmouseover="switchbtn(this, true);" onmouseleave="switchbtn(this, false);">
            <img src="img/btn/actbt_0.png"   onmouseover="switchbtn(this, true);" onmouseleave="switchbtn(this, false);">
            <img src="img/btn/itembt_0.png"  onmouseover="switchbtn(this, true);" onmouseleave="switchbtn(this, false);">
            <img src="img/btn/mercybt_0.png" onmouseover="switchbtn(this, true);" onmouseleave="switchbtn(this, false);" onclick="mercybtn(this);" style="cursor: pointer;">
        </div>
	</body>
</html>
